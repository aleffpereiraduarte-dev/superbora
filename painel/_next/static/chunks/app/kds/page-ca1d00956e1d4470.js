(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2278],{4407:function(e,t,n){Promise.resolve().then(n.bind(n,5549))},6428:function(e,t,n){"use strict";n.d(t,{Fw:function(){return x},LP:function(){return s},SC:function(){return d},apiDelete:function(){return p},jn:function(){return f},o4:function(){return o},pE:function(){return u},sg:function(){return c},w9:function(){return g},zi:function(){return h}});let a="/api/mercado/partner",i="/api/mercado/parceiro",r="painel_partner_token";function s(){try{return localStorage.getItem(r)}catch(e){return null}}function o(e){try{e?localStorage.setItem(r,e):localStorage.removeItem(r)}catch(e){}}function l(){let e=s();return e?{Authorization:"Bearer ".concat(e)}:{}}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(a).concat(e),i=Object.entries(t).filter(e=>{let[,t]=e;return null!=t&&""!==t}).map(e=>{let[t,n]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))}).join("&");i&&(n+="?".concat(i));let r=await fetch(n,{credentials:"include",headers:l()});if(!r.ok){let e=await r.json().catch(()=>null);throw Error((null==e?void 0:e.message)||"API error: ".concat(r.status," ").concat(r.statusText))}let s=await r.json();if(!s.success)throw Error(s.message||"Erro desconhecido na API");return s.data}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=await fetch("".concat(a).concat(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...l()},body:JSON.stringify(t)}),i=await n.json().catch(()=>null);if(!n.ok||!(null==i?void 0:i.success))throw Error((null==i?void 0:i.message)||"API error: ".concat(n.status));return i.data}async function h(e,t){let n=await fetch("".concat(a).concat(e),{method:"POST",credentials:"include",headers:l(),body:t}),i=await n.json().catch(()=>null);if(!n.ok||!(null==i?void 0:i.success))throw Error((null==i?void 0:i.message)||"API error: ".concat(n.status));return i.data}async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=await fetch("".concat(a).concat(e),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",...l()},body:JSON.stringify(t)}),i=await n.json().catch(()=>null);if(!n.ok||!(null==i?void 0:i.success))throw Error((null==i?void 0:i.message)||"API error: ".concat(n.status));return i.data}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(a).concat(e),i=Object.entries(t).filter(e=>{let[,t]=e;return null!=t&&""!==t}).map(e=>{let[t,n]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))}).join("&");i&&(n+="?".concat(i));let r=await fetch(n,{method:"DELETE",credentials:"include",headers:l()}),s=await r.json().catch(()=>null);if(!r.ok||!(null==s?void 0:s.success))throw Error((null==s?void 0:s.message)||"API error: ".concat(r.status));return s.data}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=await fetch("".concat(i).concat(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...l()},body:JSON.stringify(t)}),a=await n.json().catch(()=>null);if(!n.ok||!(null==a?void 0:a.success))throw Error((null==a?void 0:a.message)||"API error: ".concat(n.status));return a.data}async function f(e,t){let n=await fetch("".concat(i).concat(e),{method:"POST",credentials:"include",headers:l(),body:t}),a=await n.json().catch(()=>null);if(!n.ok||!(null==a?void 0:a.success))throw Error((null==a?void 0:a.message)||"API error: ".concat(n.status));return a.data}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(e,t)}},5549:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(7437),i=n(2265),r=n(6428);function s(){let[e,t]=(0,i.useState)([]),[n,s]=(0,i.useState)(null),[l,d]=(0,i.useState)(!0),[c,h]=(0,i.useState)(""),[u,p]=(0,i.useState)(new Date),[x,f]=(0,i.useState)(!0),[g,m]=(0,i.useState)(null),[y,b]=(0,i.useState)(!1),[j,k]=(0,i.useState)(!1),[v,w]=(0,i.useState)(0),S=(0,i.useRef)(new Set),C=(0,i.useRef)(!0),_=(0,i.useRef)(new Set),[T,I]=(0,i.useState)(new Set);(0,i.useEffect)(()=>{C.current=x},[x]),(0,i.useEffect)(()=>{let e=setInterval(()=>{p(new Date),w(e=>e+1)},1e3);return()=>clearInterval(e)},[]);let R=(0,i.useCallback)(async()=>{try{let e=(await (0,r.SC)("/kds.php")).orders||[],n=new Set(e.map(e=>e.order_id)),a=[];n.forEach(e=>{S.current.has(e)||a.push(e)}),a.length>0&&S.current.size>0&&(C.current&&function(){try{let e=new(window.AudioContext||window.webkitAudioContext);[{freq:880,start:0,dur:.15},{freq:1100,start:.2,dur:.15},{freq:880,start:.4,dur:.15},{freq:1320,start:.6,dur:.3}].forEach(t=>{let{freq:n,start:a,dur:i}=t,r=e.createOscillator(),s=e.createGain();r.connect(s),s.connect(e.destination),r.frequency.value=n,r.type="sine",s.gain.setValueAtTime(.4,e.currentTime+a),s.gain.exponentialRampToValueAtTime(.01,e.currentTime+a+i),r.start(e.currentTime+a),r.stop(e.currentTime+a+i)})}catch(e){}}(),I(new Set(a)),_.current=new Set(a),setTimeout(()=>{I(new Set),_.current=new Set},15e3)),S.current=n,t(e),h("")}catch(e){h(e.message)}finally{d(!1)}},[]),W=(0,i.useCallback)(async()=>{try{let e=await (0,r.SC)("/kds.php",{action:"stats"});s(e)}catch(e){}},[]);async function z(e){if(!g){m(e+"-prep");try{await (0,r.sg)("/kds.php",{action:"start_preparing",order_id:e}),await R()}catch(e){alert(e.message)}finally{m(null)}}}async function P(e,n){if(!g){m(e+"-item-"+n);try{await (0,r.sg)("/kds.php",{action:"item_ready",order_id:e,item_id:n}),t(t=>t.map(t=>{if(t.order_id!==e)return t;let a=t.items.map(e=>e.id!==n?e:{...e,ready:!e.ready}),i=a.filter(e=>e.ready).length;return{...t,items:a,ready_items:i}}))}catch(e){alert(e.message),await R()}finally{m(null)}}}async function N(e){if(!g){m(e+"-ready");try{await (0,r.sg)("/kds.php",{action:"order_ready",order_id:e}),C.current&&function(){try{let e=new(window.AudioContext||window.webkitAudioContext);[523,659,784].forEach((t,n)=>{let a=e.createOscillator(),i=e.createGain();a.connect(i),i.connect(e.destination),a.frequency.value=t,a.type="triangle",i.gain.setValueAtTime(.3,e.currentTime+.15*n),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.15*n+.25),a.start(e.currentTime+.15*n),a.stop(e.currentTime+.15*n+.25)})}catch(e){}}(),t(t=>t.filter(t=>t.order_id!==e)),await R()}catch(e){alert(e.message),await R()}finally{m(null)}}}async function B(e){if(!g){m(e+"-bump");try{await (0,r.sg)("/kds.php",{action:"bump",order_id:e}),t(t=>t.filter(t=>t.order_id!==e))}catch(e){alert(e.message)}finally{m(null)}}}function E(e){let t=e.preparing_started_at||e.accepted_at||e.date_added;if(!t)return 0;let n=new Date(t);return Math.max(0,Math.floor((u.getTime()-n.getTime())/6e4))}(0,i.useEffect)(()=>{R(),W();let e=setInterval(()=>{R(),W()},1e4);return()=>clearInterval(e)},[R,W]),(0,i.useEffect)(()=>{function e(){k(!!document.fullscreenElement)}return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);let L=e.length,A=e.filter(e=>"aceito"===e.status).length,M=e.filter(e=>"preparando"===e.status).length;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n        @keyframes kds-flash {\n          0%, 100% { box-shadow: 0 0 0 0 rgba(234, 179, 8, 0); }\n          50% { box-shadow: 0 0 30px 10px rgba(234, 179, 8, 0.5); }\n        }\n        @keyframes kds-pulse {\n          0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }\n          50% { box-shadow: 0 0 20px 5px rgba(239, 68, 68, 0.4); }\n        }\n        @keyframes kds-slide-in {\n          from { opacity: 0; transform: translateY(-20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes kds-timer-tick {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.6; }\n        }\n        @media print {\n          .kds-container { display: none !important; }\n        }\n        .kds-container * { box-sizing: border-box; }\n        .kds-container::-webkit-scrollbar { width: 8px; }\n        .kds-container::-webkit-scrollbar-track { background: #1a1a2e; }\n        .kds-container::-webkit-scrollbar-thumb { background: #333366; border-radius: 4px; }\n        .kds-item-check { cursor: pointer; transition: all 0.15s; }\n        .kds-item-check:hover { transform: scale(1.1); }\n        .kds-btn { cursor: pointer; border: none; font-weight: 700; border-radius: 8px; transition: all 0.15s; }\n        .kds-btn:hover { filter: brightness(1.15); transform: translateY(-1px); }\n        .kds-btn:active { transform: translateY(0); }\n        .kds-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; filter: none; }\n      "}),(0,a.jsxs)("div",{className:"kds-container",style:o.container,children:[(0,a.jsxs)("header",{style:o.header,children:[(0,a.jsxs)("div",{style:o.headerLeft,children:[(0,a.jsxs)("a",{href:"/painel/pedidos",style:o.backLink,children:[(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("polyline",{points:"15 18 9 12 15 6"})}),"Painel"]}),(0,a.jsxs)("h1",{style:o.headerTitle,children:[(0,a.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"#22c55e",strokeWidth:"2",children:[(0,a.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),(0,a.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),(0,a.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),"KDS"]}),(0,a.jsx)("span",{style:o.headerTime,children:u.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),(0,a.jsxs)("div",{style:o.headerCenter,children:[(0,a.jsxs)("div",{style:o.statPill,children:[(0,a.jsx)("span",{style:o.statLabel,children:"Fila"}),(0,a.jsx)("span",{style:{...o.statValue,color:L>5?"#ef4444":"#22c55e"},children:L})]}),(0,a.jsxs)("div",{style:o.statPill,children:[(0,a.jsx)("span",{style:o.statLabel,children:"Novos"}),(0,a.jsx)("span",{style:{...o.statValue,color:A>0?"#eab308":"#94a3b8"},children:A})]}),(0,a.jsxs)("div",{style:o.statPill,children:[(0,a.jsx)("span",{style:o.statLabel,children:"Preparando"}),(0,a.jsx)("span",{style:{...o.statValue,color:"#3b82f6"},children:M})]}),n&&(0,a.jsxs)("div",{style:o.statPill,children:[(0,a.jsx)("span",{style:o.statLabel,children:"Medio"}),(0,a.jsxs)("span",{style:o.statValue,children:[n.avg_prep_time||0,"min"]})]}),n&&(0,a.jsxs)("div",{style:o.statPill,children:[(0,a.jsx)("span",{style:o.statLabel,children:"Prontos Hoje"}),(0,a.jsx)("span",{style:{...o.statValue,color:"#22c55e"},children:n.completed_today||0})]})]}),(0,a.jsxs)("div",{style:o.headerRight,children:[(0,a.jsx)("button",{className:"kds-btn",onClick:()=>b(!y),style:{...o.headerBtn,background:y?"#3b82f6":"#333366"},children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{d:"M18 20V10M12 20V4M6 20v-6"})})}),(0,a.jsx)("button",{className:"kds-btn",onClick:()=>f(!x),style:{...o.headerBtn,background:x?"#22c55e":"#333366"},children:x?(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),(0,a.jsx)("path",{d:"M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07"})]}):(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),(0,a.jsx)("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),(0,a.jsx)("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]})}),(0,a.jsx)("button",{className:"kds-btn",onClick:function(){document.fullscreenElement?(document.exitFullscreen().catch(()=>{}),k(!1)):(document.documentElement.requestFullscreen().catch(()=>{}),k(!0))},style:{...o.headerBtn,background:"#333366"},children:j?(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{d:"M8 3v3a2 2 0 01-2 2H3m18 0h-3a2 2 0 01-2-2V3m0 18v-3a2 2 0 012-2h3M3 16h3a2 2 0 012 2v3"})}):(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{d:"M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"})})}),(0,a.jsx)("button",{className:"kds-btn",onClick:()=>{R(),W()},style:{...o.headerBtn,background:"#333366"},children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,a.jsx)("path",{d:"M20.49 15a9 9 0 11-2.12-9.36L23 10"})]})})]})]}),y&&n&&(0,a.jsxs)("div",{style:o.statsPanel,children:[(0,a.jsxs)("div",{style:o.statCard,children:[(0,a.jsxs)("div",{style:o.statCardValue,children:[n.avg_prep_time||0," min"]}),(0,a.jsx)("div",{style:o.statCardLabel,children:"Tempo Medio Preparo"})]}),(0,a.jsxs)("div",{style:o.statCard,children:[(0,a.jsx)("div",{style:o.statCardValue,children:n.completed_today||0}),(0,a.jsx)("div",{style:o.statCardLabel,children:"Pedidos Prontos Hoje"})]}),(0,a.jsxs)("div",{style:o.statCard,children:[(0,a.jsx)("div",{style:o.statCardValue,children:n.queue_size||0}),(0,a.jsx)("div",{style:o.statCardLabel,children:"Na Fila Agora"})]}),n.slow_items&&n.slow_items.length>0&&(0,a.jsxs)("div",{style:{...o.statCard,flex:"2 1 300px"},children:[(0,a.jsx)("div",{style:o.statCardLabel,children:"Itens Mais Demorados"}),n.slow_items.map((e,t)=>(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",color:"#e2e8f0",fontSize:14},children:[(0,a.jsxs)("span",{children:[e.item_name," (",e.times_ordered,"x)"]}),(0,a.jsxs)("span",{style:{color:"#eab308",fontWeight:700},children:[e.avg_time,"min"]})]},t))]})]}),(0,a.jsx)("main",{style:o.main,children:l?(0,a.jsxs)("div",{style:o.loadingState,children:[(0,a.jsx)("div",{style:o.spinner}),(0,a.jsx)("span",{style:{color:"#94a3b8",fontSize:18},children:"Carregando KDS..."})]}):c?(0,a.jsxs)("div",{style:o.errorState,children:[(0,a.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#ef4444",strokeWidth:"2",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,a.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),(0,a.jsx)("span",{style:{color:"#ef4444",fontSize:18,marginTop:12},children:c}),(0,a.jsx)("button",{className:"kds-btn",onClick:R,style:{marginTop:16,padding:"10px 24px",background:"#3b82f6",color:"white",fontSize:16},children:"Tentar Novamente"})]}):0===e.length?(0,a.jsxs)("div",{style:o.emptyState,children:[(0,a.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"#333366",strokeWidth:"1.5",children:[(0,a.jsx)("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),(0,a.jsx)("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),(0,a.jsx)("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),(0,a.jsx)("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]}),(0,a.jsx)("span",{style:{color:"#64748b",fontSize:24,marginTop:16,fontWeight:600},children:"Nenhum pedido na fila"}),(0,a.jsx)("span",{style:{color:"#475569",fontSize:16,marginTop:8},children:"Novos pedidos aparecerao automaticamente"})]}):(0,a.jsx)("div",{style:o.grid,children:e.map(e=>{let t=E(e),n=t<15?"normal":t<30?"warning":"late",i=0===e.total_items?0:Math.round(e.ready_items/e.total_items*100),r=T.has(e.order_id),s=e.total_items>0&&e.ready_items>=e.total_items;return(0,a.jsxs)("div",{style:function(e){let t=E(e),n=T.has(e.order_id),a=t>(e.estimated_time||20),i=e.total_items>0&&e.ready_items>=e.total_items,r="#3b82f6";"aceito"===e.status&&(r="#eab308"),i&&(r="#22c55e"),a&&(r="#ef4444");let s="";return n&&(s="kds-flash 1s ease-in-out 3"),a&&(s="kds-pulse 2s ease-in-out infinite"),{...o.card,borderLeftColor:r,animation:s}}(e),children:[(0,a.jsxs)("div",{style:o.cardHeader,children:[(0,a.jsxs)("div",{style:o.cardHeaderLeft,children:[(0,a.jsxs)("span",{style:o.orderNumber,children:["#",e.order_number||e.order_id]}),r&&(0,a.jsx)("span",{style:o.newBadge,children:"NOVO"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:["table"===e.order_type&&e.table_number?(0,a.jsxs)("span",{style:o.badgeTable,children:["Mesa ",e.table_number]}):"pickup"===e.order_type||e.is_pickup?(0,a.jsx)("span",{style:o.badgePickup,children:"Retirada"}):(0,a.jsx)("span",{style:o.badgeDelivery,children:"Delivery"}),(0,a.jsx)("div",{style:{textAlign:"right"},children:(0,a.jsxs)("div",{style:{...o.elapsedTime,color:t<15?"#22c55e":t<30?"#eab308":"#ef4444",animation:"late"===n?"kds-timer-tick 1s infinite":"none"},children:[t,"min"]})})]})]}),(0,a.jsx)("div",{style:o.progressBar,children:(0,a.jsx)("div",{style:{...o.progressFill,width:"".concat(i,"%"),background:s?"#22c55e":i>60?"#3b82f6":"#475569"}})}),(0,a.jsxs)("div",{style:o.cardMeta,children:[(0,a.jsx)("span",{style:o.customerName,children:e.customer_name||"Cliente"}),(0,a.jsx)("span",{style:{...o.statusBadge,background:"aceito"===e.status?"rgba(234,179,8,0.15)":"rgba(59,130,246,0.15)",color:"aceito"===e.status?"#eab308":"#60a5fa"},children:"aceito"===e.status?"Aguardando":"Preparando"})]}),(0,a.jsx)("div",{style:o.itemsList,children:e.items.map(t=>(0,a.jsxs)("div",{className:"kds-item-check",style:{...o.itemRow,opacity:t.ready?.5:1,textDecoration:t.ready?"line-through":"none"},onClick:()=>P(e.order_id,t.id),children:[(0,a.jsx)("div",{style:o.itemCheckbox,children:t.ready?(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#22c55e",stroke:"#22c55e",strokeWidth:"2",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3",fill:"#22c55e"}),(0,a.jsx)("polyline",{points:"9 12 11 14 15 10",stroke:"white",strokeWidth:"2.5",fill:"none"})]}):(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#64748b",strokeWidth:"2",children:(0,a.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3"})})}),(0,a.jsxs)("div",{style:o.itemDetails,children:[(0,a.jsxs)("div",{style:o.itemName,children:[(0,a.jsxs)("span",{style:o.itemQty,children:[t.quantity,"x"]}),t.name]}),t.observacao&&(0,a.jsx)("div",{style:o.itemObs,children:t.observacao})]})]},t.id))}),e.notes&&(0,a.jsxs)("div",{style:o.orderNotes,children:[(0,a.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#eab308",strokeWidth:"2",style:{flexShrink:0},children:[(0,a.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),(0,a.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,a.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),(0,a.jsx)("span",{children:e.notes})]}),(0,a.jsxs)("div",{style:o.cardActions,children:["aceito"===e.status&&(0,a.jsx)("button",{className:"kds-btn",disabled:!!g,onClick:()=>z(e.order_id),style:o.btnPrepare,children:g===e.order_id+"-prep"?"Iniciando...":"PREPARAR"}),(0,a.jsx)("button",{className:"kds-btn",disabled:!!g,onClick:()=>N(e.order_id),style:{...o.btnReady,background:s?"#22c55e":"#16a34a",fontSize:s?18:16},children:g===e.order_id+"-ready"?"Marcando...":"PRONTO"}),(0,a.jsx)("button",{className:"kds-btn",disabled:!!g,onClick:()=>B(e.order_id),style:o.btnBump,title:"Remover do KDS",children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]},e.order_id)})})})]})]})}let o={container:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#0f0f23",color:"#e2e8f0",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',display:"flex",flexDirection:"column",overflow:"hidden",zIndex:9999},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 16px",background:"#1a1a2e",borderBottom:"2px solid #333366",flexShrink:0,gap:12,flexWrap:"wrap"},headerLeft:{display:"flex",alignItems:"center",gap:16},backLink:{display:"flex",alignItems:"center",gap:4,color:"#94a3b8",textDecoration:"none",fontSize:14,padding:"6px 10px",borderRadius:6,background:"rgba(148,163,184,0.1)",transition:"all 0.15s"},headerTitle:{display:"flex",alignItems:"center",gap:8,fontSize:24,fontWeight:800,color:"#f1f5f9",margin:0,letterSpacing:2},headerTime:{fontSize:20,fontWeight:600,color:"#94a3b8",fontVariantNumeric:"tabular-nums"},headerCenter:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},statPill:{display:"flex",flexDirection:"column",alignItems:"center",padding:"4px 14px",background:"rgba(51,51,102,0.5)",borderRadius:8,minWidth:70},statLabel:{fontSize:10,fontWeight:600,color:"#94a3b8",textTransform:"uppercase",letterSpacing:.5},statValue:{fontSize:20,fontWeight:800,color:"#f1f5f9",fontVariantNumeric:"tabular-nums"},headerRight:{display:"flex",alignItems:"center",gap:6},headerBtn:{padding:"8px 10px",borderRadius:8,color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14},statsPanel:{display:"flex",gap:12,padding:"12px 16px",background:"#16162a",borderBottom:"1px solid #333366",flexWrap:"wrap",flexShrink:0},statCard:{flex:"1 1 180px",background:"#1a1a2e",borderRadius:10,padding:"12px 16px",textAlign:"center"},statCardValue:{fontSize:28,fontWeight:800,color:"#22c55e"},statCardLabel:{fontSize:12,color:"#94a3b8",textTransform:"uppercase",letterSpacing:.5,marginTop:4},main:{flex:1,overflow:"auto",padding:12},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:12,alignItems:"start"},card:{background:"#1a1a2e",borderRadius:12,borderLeft:"5px solid #3b82f6",padding:0,display:"flex",flexDirection:"column",overflow:"hidden",animation:"kds-slide-in 0.3s ease-out"},cardHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px 8px",gap:8},cardHeaderLeft:{display:"flex",alignItems:"center",gap:8},orderNumber:{fontSize:24,fontWeight:800,color:"#f1f5f9",letterSpacing:-.5},newBadge:{fontSize:10,fontWeight:800,color:"#1a1a2e",background:"#eab308",padding:"2px 8px",borderRadius:4,letterSpacing:1,animation:"kds-flash 1s ease-in-out 3"},elapsedTime:{fontSize:22,fontWeight:800,fontVariantNumeric:"tabular-nums"},badgeTable:{fontSize:11,fontWeight:700,color:"#a78bfa",background:"rgba(167,139,250,0.15)",padding:"3px 8px",borderRadius:4,letterSpacing:.3},badgePickup:{fontSize:11,fontWeight:700,color:"#f97316",background:"rgba(249,115,22,0.15)",padding:"3px 8px",borderRadius:4,letterSpacing:.3},badgeDelivery:{fontSize:11,fontWeight:700,color:"#38bdf8",background:"rgba(56,189,248,0.15)",padding:"3px 8px",borderRadius:4,letterSpacing:.3},progressBar:{height:3,background:"#333366",margin:"0 14px",borderRadius:2,overflow:"hidden"},progressFill:{height:"100%",borderRadius:2,transition:"width 0.3s ease, background 0.3s"},cardMeta:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 14px 4px"},customerName:{fontSize:14,color:"#94a3b8",fontWeight:500},statusBadge:{fontSize:11,fontWeight:700,padding:"3px 10px",borderRadius:20},itemsList:{padding:"4px 14px 8px",display:"flex",flexDirection:"column",gap:2},itemRow:{display:"flex",alignItems:"flex-start",gap:10,padding:"6px 8px",borderRadius:6,transition:"all 0.15s",background:"transparent"},itemCheckbox:{flexShrink:0,marginTop:1},itemDetails:{flex:1,minWidth:0},itemName:{fontSize:16,fontWeight:600,color:"#e2e8f0",lineHeight:1.3},itemQty:{color:"#22c55e",fontWeight:800,marginRight:6,fontSize:17},itemObs:{fontSize:13,color:"#eab308",fontStyle:"italic",marginTop:2,lineHeight:1.3},orderNotes:{display:"flex",alignItems:"flex-start",gap:6,margin:"0 14px 8px",padding:"8px 10px",background:"rgba(234,179,8,0.08)",borderRadius:6,fontSize:13,color:"#eab308",lineHeight:1.4},cardActions:{display:"flex",gap:6,padding:"8px 14px 12px",marginTop:"auto"},btnPrepare:{flex:1,padding:"12px 16px",background:"#2563eb",color:"white",fontSize:16,fontWeight:800,letterSpacing:1,borderRadius:8},btnReady:{flex:2,padding:"12px 16px",background:"#16a34a",color:"white",fontSize:16,fontWeight:800,letterSpacing:1,borderRadius:8},btnBump:{padding:"12px 14px",background:"#333366",color:"#94a3b8",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center"},loadingState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:16},spinner:{width:48,height:48,border:"4px solid #333366",borderTopColor:"#22c55e",borderRadius:"50%",animation:"spin 1s linear infinite"},errorState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=4407)}),_N_E=e.O()}]);