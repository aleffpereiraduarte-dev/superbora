(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{9242:function(e,t,a){Promise.resolve().then(a.bind(a,2532))},6428:function(e,t,a){"use strict";a.d(t,{LP:function(){return n},QW:function(){return d},SC:function(){return i},o4:function(){return c},sg:function(){return l}});let s="/api/mercado",r="superbora_token";function n(){return localStorage.getItem(r)}function c(e){e?localStorage.setItem(r,e):localStorage.removeItem(r)}function o(){let e=n();return e?{Authorization:"Bearer ".concat(e)}:{}}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(s+e,window.location.origin);Object.entries(t).forEach(e=>{let[t,s]=e;null!=s&&""!==s&&a.searchParams.set(t,s)});let r=await fetch(a.toString(),{credentials:"include",headers:o()});if(!r.ok){let e=await r.json().catch(()=>null);throw Error((null==e?void 0:e.message)||"API error: ".concat(r.status," ").concat(r.statusText))}let n=await r.json();if(!n.success)throw Error(n.message||"Erro desconhecido na API");return n.data}async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(s+e,window.location.origin),r=await fetch(a.toString(),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...o()},body:JSON.stringify(t)}),n=await r.json().catch(()=>null);if(!r.ok||!(null==n?void 0:n.success))throw Error((null==n?void 0:n.message)||"API error: ".concat(r.status));return n.data}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(s+e,window.location.origin);Object.entries(t).forEach(e=>{let[t,s]=e;null!=s&&""!==s&&a.searchParams.set(t,s)});let r=await fetch(a.toString(),{method:"DELETE",credentials:"include",headers:o()}),n=await r.json().catch(()=>null);if(!r.ok||!(null==n?void 0:n.success))throw Error((null==n?void 0:n.message)||"API error: ".concat(r.status));return n.data}},2532:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(7437),r=a(2265),n=a(9376),c=a(7648),o=a(8779),i=a(7128),l=a(9146),d=a(6428),u=a(7650),m=a(6349),h=a.n(m);function p(){return(0,s.jsx)(o.Z,{children:(0,s.jsx)(_,{})})}function _(){let e=(0,n.useRouter)(),{customer:t}=(0,i.a)(),{items:a,partnerId:o,partnerName:m,subtotal:p,count:_,clearCart:x,getItemPrice:f}=(0,l.i)(),[v,y]=(0,r.useState)(0),[C,j]=(0,r.useState)([]),[b,g]=(0,r.useState)(null),[N,k]=(0,r.useState)(!1),[I,T]=(0,r.useState)({label:"Casa",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""}),[w,S]=(0,r.useState)("pix"),[R,A]=(0,r.useState)({number:"",name:"",expiry:"",cvv:""}),[E,L]=(0,r.useState)(!1),[P,B]=(0,r.useState)(null),[D,O]=(0,r.useState)(!1),[M,q]=(0,r.useState)(!1),[F,Q]=(0,r.useState)(""),W=(0,r.useRef)(null),G=parseFloat(localStorage.getItem("superbora_tip")||"0"),H=localStorage.getItem("superbora_coupon")||"",V=p>=99?0:9.99,X=p+V+2.49+G;async function Z(e){let t=e.replace(/\D/g,"");if(8===t.length)try{let e=await fetch("https://viacep.com.br/ws/".concat(t,"/json/")),a=await e.json();a.erro||T(e=>({...e,logradouro:a.logradouro||e.logradouro,bairro:a.bairro||e.bairro,cidade:a.localidade||e.cidade,estado:a.uf||e.estado}))}catch(e){}}async function z(){try{let e=await (0,d.sg)("/addresses/list.php",{...I,is_default:0===C.length}),t={id:e.address_id,...I,formatted:"".concat(I.logradouro,", ").concat(I.numero," - ").concat(I.bairro,", ").concat(I.cidade,"/").concat(I.estado)};j(e=>[...e,t]),g(e.address_id),k(!1),T({label:"Casa",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""})}catch(e){Q(e.message)}}async function U(){if(!b){Q("Selecione um endereco de entrega");return}L(!0),Q("");try{var e;let t=await (0,d.sg)("/checkout/process.php",{address_id:b,payment_method:w,items:a.map(e=>({id:e.id,quantity:e.quantity})),partner_id:o,tip:G,coupon_code:H,notes:""});B(t),y(2),x(),"pix"===w&&t.order_id&&(e=t.order_id,W.current=setInterval(async()=>{try{let t=await (0,d.SC)("/checkout/pix-status.php",{order_id:e});(t.paid||"confirmado"===t.status||"preparando"===t.status)&&(q(!0),clearInterval(W.current))}catch(e){}},5e3))}catch(e){Q(e.message)}finally{L(!1)}}if((0,r.useEffect)(()=>{(0,d.SC)("/addresses/list.php").then(e=>{var t;j(e.addresses||[]);let a=(e.addresses||[]).find(e=>e.is_default);a?g(a.id):(null===(t=e.addresses)||void 0===t?void 0:t.length)&&g(e.addresses[0].id)}).catch(()=>{})},[]),(0,r.useEffect)(()=>()=>{W.current&&clearInterval(W.current)},[]),0===_&&!P)return e.push("/carrinho"),null;if(2===v&&P){var J;return(0,s.jsx)("div",{className:h().page,children:(0,s.jsx)("div",{className:h().section,children:(0,s.jsxs)("div",{className:h().success,children:[(0,s.jsx)("div",{className:h().successIcon,children:(0,s.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(0,s.jsx)("div",{className:h().successTitle,children:"Pedido realizado!"}),(0,s.jsxs)("div",{className:h().successText,children:["Seu pedido foi enviado para ",null===(J=P.partner)||void 0===J?void 0:J.name]}),(0,s.jsx)("div",{className:h().successOrderNum,children:P.order_number}),"pix"===w&&P.pix&&!M&&(0,s.jsxs)("div",{style:{marginTop:20},children:[(0,s.jsx)("h3",{className:h().sectionTitle,children:"Pague via PIX"}),(0,s.jsxs)("div",{className:h().pixBox,children:[(0,s.jsx)("div",{className:h().pixQr,children:"QR Code PIX"}),(0,s.jsxs)("div",{className:h().pixCode,children:[(0,s.jsx)("input",{type:"text",value:P.pix.qr_code_text,readOnly:!0,className:h().pixCodeInput}),(0,s.jsx)("button",{className:h().pixCopyBtn,onClick:function(){var e;(null==P?void 0:null===(e=P.pix)||void 0===e?void 0:e.qr_code_text)&&navigator.clipboard.writeText(P.pix.qr_code_text).then(()=>{O(!0),setTimeout(()=>O(!1),3e3)})},children:D?"Copiado!":"Copiar"})]}),(0,s.jsxs)("div",{className:h().pixStatus,children:[(0,s.jsx)("div",{className:h().spinner}),"Aguardando pagamento..."]})]})]}),M&&(0,s.jsxs)("div",{className:"".concat(h().pixStatus," ").concat(h().pixPaid),style:{marginTop:20},children:[(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"Pagamento confirmado!"]}),(0,s.jsxs)("div",{className:h().navBtns,style:{marginTop:24},children:[(0,s.jsx)(c.default,{href:"/pedidos?id=".concat(P.order_id),className:h().btnPrimary,style:{textDecoration:"none"},children:"Acompanhar pedido"}),(0,s.jsx)(c.default,{href:"/",className:h().btnSecondary,style:{textDecoration:"none"},children:"Voltar ao inicio"})]})]})})})}return(0,s.jsxs)("div",{className:h().page,children:[(0,s.jsxs)("div",{className:h().header,children:[(0,s.jsx)("button",{className:h().backBtn,onClick:()=>v>0?y(v-1):e.push("/carrinho"),children:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,s.jsx)("div",{className:h().title,children:"Checkout"})]}),(0,s.jsxs)("div",{className:h().steps,children:[(0,s.jsx)("div",{className:"".concat(h().step," ").concat(v>=0?h().stepDone:"")}),(0,s.jsx)("div",{className:"".concat(h().step," ").concat(v>=1?h().stepDone:""," ").concat(0===v?h().stepCurrent:"")}),(0,s.jsx)("div",{className:"".concat(h().step," ").concat(v>=2?h().stepDone:""," ").concat(1===v?h().stepCurrent:"")})]}),F&&(0,s.jsx)("div",{style:{padding:12,background:"#fef2f2",border:"1px solid #fecaca",borderRadius:8,color:"#dc2626",fontSize:14,marginBottom:16},children:F}),(0,s.jsxs)("div",{className:h().layout,children:[(0,s.jsxs)("div",{className:h().main,children:[0===v&&(0,s.jsxs)("div",{className:h().section,children:[(0,s.jsx)("div",{className:h().sectionTitle,children:"Endereco de entrega"}),C.length>0&&(0,s.jsx)("div",{className:h().addressList,children:C.map(e=>(0,s.jsxs)("div",{className:"".concat(h().addressCard," ").concat(b===e.id?h().addressActive:""),onClick:()=>g(e.id),children:[(0,s.jsx)("div",{className:"".concat(h().addressRadio," ").concat(b===e.id?h().addressRadioActive:""),children:b===e.id&&(0,s.jsx)("div",{className:h().addressRadioDot})}),(0,s.jsxs)("div",{className:h().addressInfo,children:[(0,s.jsx)("div",{className:h().addressLabel,children:e.label}),(0,s.jsx)("div",{className:h().addressText,children:e.formatted})]})]},e.id))}),N?(0,s.jsxs)("div",{style:{marginTop:16},children:[(0,s.jsxs)("div",{className:h().formGrid,children:[(0,s.jsxs)("label",{className:h().formLabel,children:["CEP",(0,s.jsx)("input",{type:"text",value:I.cep,onChange:e=>{let t=e.target.value.replace(/\D/g,"").slice(0,8);T(e=>({...e,cep:t})),8===t.length&&Z(t)},className:h().formInput,placeholder:"00000-000"})]}),(0,s.jsxs)("label",{className:"".concat(h().formLabel," ").concat(h().formFull),children:["Rua",(0,s.jsx)("input",{type:"text",value:I.logradouro,onChange:e=>T(t=>({...t,logradouro:e.target.value})),className:h().formInput})]}),(0,s.jsxs)("label",{className:h().formLabel,children:["Numero",(0,s.jsx)("input",{type:"text",value:I.numero,onChange:e=>T(t=>({...t,numero:e.target.value})),className:h().formInput})]}),(0,s.jsxs)("label",{className:h().formLabel,children:["Complemento",(0,s.jsx)("input",{type:"text",value:I.complemento,onChange:e=>T(t=>({...t,complemento:e.target.value})),className:h().formInput,placeholder:"Apto, bloco..."})]}),(0,s.jsxs)("label",{className:h().formLabel,children:["Bairro",(0,s.jsx)("input",{type:"text",value:I.bairro,onChange:e=>T(t=>({...t,bairro:e.target.value})),className:h().formInput})]}),(0,s.jsxs)("label",{className:h().formLabel,children:["Cidade",(0,s.jsx)("input",{type:"text",value:I.cidade,onChange:e=>T(t=>({...t,cidade:e.target.value})),className:h().formInput})]}),(0,s.jsxs)("label",{className:h().formLabel,children:["Estado",(0,s.jsx)("input",{type:"text",value:I.estado,onChange:e=>T(t=>({...t,estado:e.target.value.toUpperCase().slice(0,2)})),className:h().formInput,maxLength:2})]})]}),(0,s.jsxs)("div",{className:h().navBtns,children:[(0,s.jsx)("button",{className:h().btnSecondary,onClick:()=>k(!1),children:"Cancelar"}),(0,s.jsx)("button",{className:h().btnPrimary,onClick:z,children:"Salvar endereco"})]})]}):(0,s.jsxs)("button",{className:h().addAddress,onClick:()=>k(!0),style:{marginTop:12},children:[(0,s.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,s.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Adicionar endereco"]}),(0,s.jsxs)("div",{className:h().navBtns,children:[(0,s.jsx)("button",{className:h().btnSecondary,onClick:()=>e.push("/carrinho"),children:"Voltar"}),(0,s.jsx)("button",{className:h().btnPrimary,onClick:()=>{b?y(1):Q("Selecione um endereco")},children:"Continuar"})]})]}),1===v&&(0,s.jsxs)("div",{className:h().section,children:[(0,s.jsx)("div",{className:h().sectionTitle,children:"Forma de pagamento"}),(0,s.jsxs)("div",{className:h().payTabs,children:[(0,s.jsxs)("button",{className:"".concat(h().payTab," ").concat("pix"===w?h().payTabActive:""),onClick:()=>S("pix"),children:[(0,s.jsx)("div",{className:h().payTabIcon,children:(0,s.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,s.jsx)("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),(0,s.jsx)("path",{d:"M12 12h.01"})]})}),(0,s.jsx)("div",{className:h().payTabLabel,children:"PIX"})]}),(0,s.jsxs)("button",{className:"".concat(h().payTab," ").concat("credito"===w?h().payTabActive:""),onClick:()=>S("credito"),children:[(0,s.jsx)("div",{className:h().payTabIcon,children:(0,s.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,s.jsx)("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),(0,s.jsx)("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]})}),(0,s.jsx)("div",{className:h().payTabLabel,children:"Cartao"})]})]}),"credito"===w&&(0,s.jsxs)("div",{className:h().cardForm,children:[(0,s.jsxs)("label",{className:h().formLabel,children:["Numero do cartao",(0,s.jsx)("input",{type:"text",value:R.number,onChange:e=>A(t=>({...t,number:e.target.value.replace(/\D/g,"").slice(0,16).replace(/(\d{4})/g,"$1 ").trim()})),className:h().formInput,placeholder:"0000 0000 0000 0000"})]}),(0,s.jsxs)("label",{className:h().formLabel,children:["Nome no cartao",(0,s.jsx)("input",{type:"text",value:R.name,onChange:e=>A(t=>({...t,name:e.target.value.toUpperCase()})),className:h().formInput,placeholder:"NOME COMO NO CARTAO"})]}),(0,s.jsxs)("div",{className:h().cardRow,children:[(0,s.jsxs)("label",{className:h().formLabel,children:["Validade",(0,s.jsx)("input",{type:"text",value:R.expiry,onChange:e=>{let t=e.target.value.replace(/\D/g,"").slice(0,4);t.length>2&&(t=t.slice(0,2)+"/"+t.slice(2)),A(e=>({...e,expiry:t}))},className:h().formInput,placeholder:"MM/AA"})]}),(0,s.jsxs)("label",{className:h().formLabel,children:["CVV",(0,s.jsx)("input",{type:"text",value:R.cvv,onChange:e=>A(t=>({...t,cvv:e.target.value.replace(/\D/g,"").slice(0,4)})),className:h().formInput,placeholder:"000"})]})]})]}),"pix"===w&&(0,s.jsx)("div",{style:{padding:16,background:"#f0fdf4",borderRadius:8,fontSize:14,color:"#15803d"},children:"Apos confirmar, voce recebera o codigo PIX para pagamento. O QR code expira em 30 minutos."}),(0,s.jsxs)("div",{className:h().navBtns,children:[(0,s.jsx)("button",{className:h().btnSecondary,onClick:()=>y(0),children:"Voltar"}),(0,s.jsx)("button",{className:h().btnPrimary,onClick:U,disabled:E,children:E?(0,s.jsxs)("span",{className:h().loader,children:[(0,s.jsx)("span",{className:h().spinner})," Processando..."]}):"Confirmar pedido - ".concat((0,u.o_)(X))})]})]})]}),(0,s.jsx)("div",{className:h().sidebar,children:(0,s.jsxs)("div",{className:"".concat(h().section," ").concat(h().summaryCard),children:[(0,s.jsx)("div",{className:h().sectionTitle,children:"Resumo do pedido"}),(0,s.jsx)("div",{style:{fontSize:13,color:"var(--color-text-secondary)",marginBottom:12},children:m}),(0,s.jsx)("div",{className:h().summaryItems,children:a.map(e=>(0,s.jsxs)("div",{className:h().summaryItem,children:[(0,s.jsxs)("span",{children:[e.nome," ",(0,s.jsxs)("span",{className:h().summaryItemQty,children:["x",e.quantity]})]}),(0,s.jsx)("span",{children:(0,u.o_)(f(e)*e.quantity)})]},e.id))}),(0,s.jsxs)("div",{className:h().summaryRow,children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsx)("span",{children:(0,u.o_)(p)})]}),(0,s.jsxs)("div",{className:h().summaryRow,children:[(0,s.jsx)("span",{children:"Entrega"}),(0,s.jsx)("span",{children:0===V?"Gratis":(0,u.o_)(V)})]}),(0,s.jsxs)("div",{className:h().summaryRow,children:[(0,s.jsx)("span",{children:"Servico"}),(0,s.jsx)("span",{children:(0,u.o_)(2.49)})]}),G>0&&(0,s.jsxs)("div",{className:h().summaryRow,children:[(0,s.jsx)("span",{children:"Gorjeta"}),(0,s.jsx)("span",{children:(0,u.o_)(G)})]}),(0,s.jsxs)("div",{className:h().summaryTotal,children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsx)("span",{children:(0,u.o_)(X)})]})]})})]})]})}},8779:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(7437),r=a(2265),n=a(9376),c=a(7128);function o(e){let{children:t}=e,{isAuthenticated:a,loading:o}=(0,c.a)(),i=(0,n.useRouter)();return((0,r.useEffect)(()=>{if(!o&&!a){let e=window.location.pathname;i.push("/login?return=".concat(encodeURIComponent(e)))}},[o,a,i]),o)?(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,s.jsx)("div",{style:{width:32,height:32,border:"3px solid var(--color-border)",borderTopColor:"var(--color-accent)",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}):a?t:null}},7128:function(e,t,a){"use strict";a.d(t,{H:function(){return o},a:function(){return i}});var s=a(7437),r=a(2265),n=a(6428);let c=(0,r.createContext)(null);function o(e){let{children:t}=e,[a,o]=(0,r.useState)(null),[i,l]=(0,r.useState)(!0),d=(0,r.useCallback)(async()=>{if(!(0,n.LP)()){o(null),l(!1);return}try{let e=await (0,n.SC)("/auth/session.php");e.authenticated&&e.customer?o(e.customer):((0,n.o4)(null),o(null))}catch(e){(0,n.o4)(null),o(null)}finally{l(!1)}},[]);(0,r.useEffect)(()=>{d()},[d]);let u=(0,r.useCallback)(async(e,t)=>{let a=await (0,n.sg)("/auth/login.php",{email:e,senha:t});return(0,n.o4)(a.token),o(a.customer),a.customer},[]),m=(0,r.useCallback)(async e=>{let t=await (0,n.sg)("/auth/register.php",e);return(0,n.o4)(t.token),o(t.customer),t.customer},[]),h=(0,r.useCallback)(()=>{(0,n.o4)(null),o(null)},[]);return(0,s.jsx)(c.Provider,{value:{customer:a,loading:i,isAuthenticated:!!a,login:u,register:m,logout:h,refreshSession:d},children:t})}function i(){let e=(0,r.useContext)(c);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},9146:function(e,t,a){"use strict";a.d(t,{Z:function(){return l},i:function(){return d}});var s=a(7437),r=a(2265),n=a(6428);let c=(0,r.createContext)(null),o="superbora_cart";function i(e,t){let a;switch(t.type){case"ADD_ITEM":{let{product:s,partnerId:r,partnerName:n}=t.payload;if(e.partnerId&&e.partnerId!==r)a={items:[{...s,quantity:1}],partnerId:r,partnerName:n};else{let t;let c=e.items.findIndex(e=>e.id===s.id);t=c>=0?e.items.map((e,t)=>t===c?{...e,quantity:e.quantity+1}:e):[...e.items,{...s,quantity:1}],a={...e,items:t,partnerId:r,partnerName:n}}break}case"REMOVE_ITEM":{let s;let{productId:r}=t.payload,n=e.items.findIndex(e=>e.id===r);if(n<0)return e;s=e.items[n].quantity>1?e.items.map((e,t)=>t===n?{...e,quantity:e.quantity-1}:e):e.items.filter((e,t)=>t!==n),a={...e,items:s,partnerId:s.length>0?e.partnerId:null,partnerName:s.length>0?e.partnerName:""};break}case"SET_ITEM_QTY":{let{productId:s,quantity:r}=t.payload;if(r<=0){let t=e.items.filter(e=>e.id!==s);a={...e,items:t,partnerId:t.length>0?e.partnerId:null,partnerName:t.length>0?e.partnerName:""}}else{let t=e.items.map(e=>e.id===s?{...e,quantity:r}:e);a={...e,items:t}}break}case"CLEAR":a={items:[],partnerId:null,partnerName:""};break;case"HYDRATE":return t.payload;default:return e}return!function(e){try{localStorage.setItem(o,JSON.stringify(e))}catch(e){}}(a),a}function l(e){let{children:t}=e,[a,l]=(0,r.useReducer)(i,{items:[],partnerId:null,partnerName:""}),d=(0,r.useRef)(null);(0,r.useEffect)(()=>{l({type:"HYDRATE",payload:function(){try{let e=localStorage.getItem(o);if(e)return JSON.parse(e)}catch(e){}return{items:[],partnerId:null,partnerName:""}}()})},[]),(0,r.useEffect)(()=>{if((a.items.length||a.partnerId)&&(0,n.LP)())return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{(0,n.sg)("/cart/sync.php",{items:a.items,partner_id:a.partnerId}).catch(()=>{})},2e3),()=>{d.current&&clearTimeout(d.current)}},[a.items,a.partnerId]);let u=(0,r.useCallback)((e,t,a)=>{l({type:"ADD_ITEM",payload:{product:e,partnerId:t,partnerName:a}})},[]),m=(0,r.useCallback)(e=>{l({type:"REMOVE_ITEM",payload:{productId:e}})},[]),h=(0,r.useCallback)((e,t)=>{l({type:"SET_ITEM_QTY",payload:{productId:e,quantity:t}})},[]),p=(0,r.useCallback)(()=>{l({type:"CLEAR"})},[]),_=(0,r.useCallback)(e=>e.preco_promo&&e.preco_promo>0&&e.preco_promo<e.preco?e.preco_promo:e.preco,[]),x=a.items.reduce((e,t)=>e+_(t)*t.quantity,0),f=a.items.reduce((e,t)=>e+t.quantity,0),v=(0,r.useCallback)(e=>{let t=a.items.find(t=>t.id===e);return t?t.quantity:0},[a.items]);return(0,s.jsx)(c.Provider,{value:{items:a.items,partnerId:a.partnerId,partnerName:a.partnerName,subtotal:x,count:f,addItem:u,removeItem:m,setItemQty:h,clearCart:p,getItemQuantity:v,getItemPrice:_},children:t})}function d(){let e=(0,r.useContext)(c);if(!e)throw Error("useCartContext must be used within CartProvider");return e}},7650:function(e,t,a){"use strict";function s(e){return null==e||isNaN(e)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function r(e){if(!e)return"";let t=e.replace(/\D/g,"");return 8!==t.length?e:"".concat(t.slice(0,5),"-").concat(t.slice(5))}function n(e){if(!e)return"";if(e<60)return"".concat(e," min");let t=Math.floor(e/60),a=e%60;return a>0?"".concat(t,"h").concat(a,"min"):"".concat(t,"h")}function c(e){return e?Number(e).toFixed(1):"0.0"}function o(e){return null==e?"":0===e?"Gratis":s(e)}a.d(t,{A6:function(){return c},ci:function(){return o},gN:function(){return n},hR:function(){return r},o_:function(){return s}})},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},6349:function(e){e.exports={page:"Checkout_page__fcSIm",header:"Checkout_header__NbpnQ",backBtn:"Checkout_backBtn__DONgs",title:"Checkout_title__fGtPZ",layout:"Checkout_layout__xL7WM",main:"Checkout_main__ANQk8",sidebar:"Checkout_sidebar__tL_Oe",steps:"Checkout_steps__VARjs",step:"Checkout_step__mAOpd",stepDone:"Checkout_stepDone__YeHdW",stepCurrent:"Checkout_stepCurrent__hG1fX",section:"Checkout_section___C0mZ",sectionTitle:"Checkout_sectionTitle__Hs88w",addressList:"Checkout_addressList__StJMC",addressCard:"Checkout_addressCard__574N1",addressActive:"Checkout_addressActive__7ogu_",addressRadio:"Checkout_addressRadio__iKWsp",addressRadioActive:"Checkout_addressRadioActive__zPPtk",addressRadioDot:"Checkout_addressRadioDot__NpZts",addressInfo:"Checkout_addressInfo__MO2X6",addressLabel:"Checkout_addressLabel__giOgc",addressText:"Checkout_addressText__uI8cA",addAddress:"Checkout_addAddress__8IBWD",formGrid:"Checkout_formGrid__rjUxk",formFull:"Checkout_formFull__LHkpy",formLabel:"Checkout_formLabel__0MHaB",formInput:"Checkout_formInput__odD4q",payTabs:"Checkout_payTabs__AVEs7",payTab:"Checkout_payTab__JUZXK",payTabActive:"Checkout_payTabActive__FICHI",payTabIcon:"Checkout_payTabIcon__wNGs7",payTabLabel:"Checkout_payTabLabel__SFly8",pixBox:"Checkout_pixBox__Al3kk",pixQr:"Checkout_pixQr__8Cy_X",pixCode:"Checkout_pixCode__WvJa5",pixCodeInput:"Checkout_pixCodeInput__bTEO4",pixCopyBtn:"Checkout_pixCopyBtn__F6cHT",pixTimer:"Checkout_pixTimer__CdOb8",pixStatus:"Checkout_pixStatus__bQozD",pixPaid:"Checkout_pixPaid__sWN4L",cardForm:"Checkout_cardForm__949_a",cardRow:"Checkout_cardRow__Am_K_",summaryCard:"Checkout_summaryCard__fMe7k",summaryItems:"Checkout_summaryItems__PIhKZ",summaryItem:"Checkout_summaryItem___nDIu",summaryItemQty:"Checkout_summaryItemQty__L0a_G",summaryRow:"Checkout_summaryRow__eLtxa",summaryDiscount:"Checkout_summaryDiscount__BjX4L",summaryTotal:"Checkout_summaryTotal__EDBhm",navBtns:"Checkout_navBtns__6uSi4",btnSecondary:"Checkout_btnSecondary__M8EAe",btnPrimary:"Checkout_btnPrimary__tANWz",success:"Checkout_success__Fi3HG",successIcon:"Checkout_successIcon__3F1_g",successTitle:"Checkout_successTitle__M6lsV",successText:"Checkout_successText__5bnLp",successOrderNum:"Checkout_successOrderNum__4Fwnu",loader:"Checkout_loader__ri2_k",spinner:"Checkout_spinner__w5w9I",spin:"Checkout_spin__Z8ak7"}}},function(e){e.O(0,[396,648,971,117,744],function(){return e(e.s=9242)}),_N_E=e.O()}]);