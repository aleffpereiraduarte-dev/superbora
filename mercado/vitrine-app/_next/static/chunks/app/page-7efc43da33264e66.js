(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9312:function(e,t,n){Promise.resolve().then(n.bind(n,7830))},6428:function(e,t,n){"use strict";n.d(t,{LP:function(){return o},QW:function(){return d},SC:function(){return l},o4:function(){return s},sg:function(){return c}});let r="/api/mercado",a="superbora_token";function o(){return localStorage.getItem(a)}function s(e){e?localStorage.setItem(a,e):localStorage.removeItem(a)}function i(){let e=o();return e?{Authorization:"Bearer ".concat(e)}:{}}async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(r+e,window.location.origin);Object.entries(t).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&n.searchParams.set(t,r)});let a=await fetch(n.toString(),{credentials:"include",headers:i()});if(!a.ok){let e=await a.json().catch(()=>null);throw Error((null==e?void 0:e.message)||"API error: ".concat(a.status," ").concat(a.statusText))}let o=await a.json();if(!o.success)throw Error(o.message||"Erro desconhecido na API");return o.data}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(r+e,window.location.origin),a=await fetch(n.toString(),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...i()},body:JSON.stringify(t)}),o=await a.json().catch(()=>null);if(!a.ok||!(null==o?void 0:o.success))throw Error((null==o?void 0:o.message)||"API error: ".concat(a.status));return o.data}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(r+e,window.location.origin);Object.entries(t).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&n.searchParams.set(t,r)});let a=await fetch(n.toString(),{method:"DELETE",credentials:"include",headers:i()}),o=await a.json().catch(()=>null);if(!a.ok||!(null==o?void 0:o.success))throw Error((null==o?void 0:o.message)||"API error: ".concat(a.status));return o.data}},9146:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},i:function(){return d}});var r=n(7437),a=n(2265),o=n(6428);let s=(0,a.createContext)(null),i="superbora_cart";function l(e,t){let n;switch(t.type){case"ADD_ITEM":{let{product:r,partnerId:a,partnerName:o}=t.payload;if(e.partnerId&&e.partnerId!==a)n={items:[{...r,quantity:1}],partnerId:a,partnerName:o};else{let t;let s=e.items.findIndex(e=>e.id===r.id);t=s>=0?e.items.map((e,t)=>t===s?{...e,quantity:e.quantity+1}:e):[...e.items,{...r,quantity:1}],n={...e,items:t,partnerId:a,partnerName:o}}break}case"REMOVE_ITEM":{let r;let{productId:a}=t.payload,o=e.items.findIndex(e=>e.id===a);if(o<0)return e;r=e.items[o].quantity>1?e.items.map((e,t)=>t===o?{...e,quantity:e.quantity-1}:e):e.items.filter((e,t)=>t!==o),n={...e,items:r,partnerId:r.length>0?e.partnerId:null,partnerName:r.length>0?e.partnerName:""};break}case"SET_ITEM_QTY":{let{productId:r,quantity:a}=t.payload;if(a<=0){let t=e.items.filter(e=>e.id!==r);n={...e,items:t,partnerId:t.length>0?e.partnerId:null,partnerName:t.length>0?e.partnerName:""}}else{let t=e.items.map(e=>e.id===r?{...e,quantity:a}:e);n={...e,items:t}}break}case"CLEAR":n={items:[],partnerId:null,partnerName:""};break;case"HYDRATE":return t.payload;default:return e}return!function(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(e){}}(n),n}function c(e){let{children:t}=e,[n,c]=(0,a.useReducer)(l,{items:[],partnerId:null,partnerName:""}),d=(0,a.useRef)(null);(0,a.useEffect)(()=>{c({type:"HYDRATE",payload:function(){try{let e=localStorage.getItem(i);if(e)return JSON.parse(e)}catch(e){}return{items:[],partnerId:null,partnerName:""}}()})},[]),(0,a.useEffect)(()=>{if((n.items.length||n.partnerId)&&(0,o.LP)())return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{(0,o.sg)("/cart/sync.php",{items:n.items,partner_id:n.partnerId}).catch(()=>{})},2e3),()=>{d.current&&clearTimeout(d.current)}},[n.items,n.partnerId]);let u=(0,a.useCallback)((e,t,n)=>{c({type:"ADD_ITEM",payload:{product:e,partnerId:t,partnerName:n}})},[]),h=(0,a.useCallback)(e=>{c({type:"REMOVE_ITEM",payload:{productId:e}})},[]),p=(0,a.useCallback)((e,t)=>{c({type:"SET_ITEM_QTY",payload:{productId:e,quantity:t}})},[]),x=(0,a.useCallback)(()=>{c({type:"CLEAR"})},[]),_=(0,a.useCallback)(e=>e.preco_promo&&e.preco_promo>0&&e.preco_promo<e.preco?e.preco_promo:e.preco,[]),m=n.items.reduce((e,t)=>e+_(t)*t.quantity,0),j=n.items.reduce((e,t)=>e+t.quantity,0),g=(0,a.useCallback)(e=>{let t=n.items.find(t=>t.id===e);return t?t.quantity:0},[n.items]);return(0,r.jsx)(s.Provider,{value:{items:n.items,partnerId:n.partnerId,partnerName:n.partnerName,subtotal:m,count:j,addItem:u,removeItem:h,setItemQty:p,clearCart:x,getItemQuantity:g,getItemPrice:_},children:t})}function d(){let e=(0,a.useContext)(s);if(!e)throw Error("useCartContext must be used within CartProvider");return e}},495:function(e,t,n){"use strict";n.d(t,{F:function(){return l},v:function(){return i}});var r=n(7437),a=n(2265);let o=(0,a.createContext)(null),s="superbora_location";function i(e){let{children:t}=e,[n,i]=(0,a.useState)({cep:"",endereco:"",bairro:"",cidade:"",lat:null,lng:null}),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=function(){try{let e=localStorage.getItem(s);if(e)return JSON.parse(e)}catch(e){}return null}();e&&i(e)},[]);let d=(0,a.useCallback)(e=>{i(e),function(e){try{localStorage.setItem(s,JSON.stringify(e))}catch(e){}}(e)},[]),u=(0,a.useCallback)(async e=>{let t=e.replace(/\D/g,"");if(8!==t.length)return null;c(!0);try{let e=await fetch("https://viacep.com.br/ws/".concat(t,"/json/")),n=await e.json();if(n.erro)return null;let r={cep:t,endereco:n.logradouro||"",bairro:n.bairro||"",cidade:"".concat(n.localidade,"/").concat(n.uf),lat:null,lng:null};return d(r),r}catch(e){return null}finally{c(!1)}},[d]),h=(0,a.useCallback)(()=>{navigator.geolocation&&(c(!0),navigator.geolocation.getCurrentPosition(e=>{d({...n,lat:e.coords.latitude,lng:e.coords.longitude,endereco:"Localizacao atual"}),c(!1)},()=>c(!1),{enableHighAccuracy:!0,timeout:1e4}))},[n,d]),p=(0,a.useCallback)(()=>{i({cep:"",endereco:"",bairro:"",cidade:"",lat:null,lng:null});try{localStorage.removeItem(s)}catch(e){}},[]);return(0,r.jsx)(o.Provider,{value:{...n,loading:l,setLocation:d,lookupCep:u,getGeoLocation:h,clearLocation:p,hasLocation:!!(n.cep||n.lat)},children:t})}function l(){let e=(0,a.useContext)(o);if(!e)throw Error("useLocationContext must be used within LocationProvider");return e}},7830:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ez}});var r={};n.r(r),n.d(r,{ArrowLeft:function(){return W},Beef:function(){return M},Bell:function(){return f},ChevronDown:function(){return E},ChevronLeft:function(){return P},ChevronRight:function(){return B},Clock:function(){return m},Coffee:function(){return I},Croissant:function(){return L},Filter:function(){return z},Heart:function(){return g},HeartFilled:function(){return v},Home:function(){return w},MapPin:function(){return p},Minus:function(){return N},Navigation:function(){return k},Package:function(){return y},Paw:function(){return S},Percent:function(){return T},Pill:function(){return u},Plus:function(){return C},Search:function(){return x},ShoppingBag:function(){return h},ShoppingCart:function(){return c},Star:function(){return _},Store:function(){return D},Tag:function(){return A},Truck:function(){return j},Utensils:function(){return d},X:function(){return b}});var a=n(7437),o=n(2265);let s=(0,o.createContext)(null);function i(e){let{children:t}=e,[n,r]=(0,o.useState)([]),i=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=Date.now();r(r=>[...r,{id:n,message:e,type:t}]),setTimeout(()=>{r(e=>e.filter(e=>e.id!==n))},3e3)},[]);return(0,a.jsxs)(s.Provider,{value:i,children:[t,(0,a.jsx)("div",{style:{position:"fixed",bottom:"80px",left:"50%",transform:"translateX(-50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"8px",pointerEvents:"none"},children:n.map(e=>(0,a.jsx)("div",{style:{padding:"10px 20px",borderRadius:"var(--radius-pill)",background:"error"===e.type?"var(--color-danger)":"var(--color-text)",color:"#fff",fontSize:"14px",fontWeight:500,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",animation:"fadeInUp 0.3s ease",pointerEvents:"auto",whiteSpace:"nowrap"},children:e.message},e.id))}),(0,a.jsx)("style",{children:"\n        @keyframes fadeInUp {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      "})]})}let l="currentColor",c=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,a.jsx)("circle",{cx:"20",cy:"21",r:"1"}),(0,a.jsx)("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})},d=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}),(0,a.jsx)("path",{d:"M7 2v20"}),(0,a.jsx)("path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3zm0 0v7"})]})},u=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"m10.5 1.5 -7 7a4.95 4.95 0 1 0 7 7l7-7a4.95 4.95 0 0 0-7-7z"}),(0,a.jsx)("path",{d:"m7 13.5 6-6"})]})},h=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,a.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,a.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]})},p=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,a.jsx)("circle",{cx:"12",cy:"10",r:"3"})]})},x=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,a.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})},_=e=>{let{size:t=24,color:n=l,...r}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:n,stroke:n,strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...r,children:(0,a.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})},m=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("polyline",{points:"12 6 12 12 16 14"})]})},j=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("rect",{x:"1",y:"3",width:"15",height:"13"}),(0,a.jsx)("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),(0,a.jsx)("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),(0,a.jsx)("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]})},g=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:(0,a.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})},v=e=>{let{size:t=24,color:n=l,...r}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:n,stroke:n,strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...r,children:(0,a.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})},f=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,a.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})},w=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,a.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]})},y=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}),(0,a.jsx)("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),(0,a.jsx)("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),(0,a.jsx)("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})},k=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:(0,a.jsx)("polygon",{points:"3 11 22 2 13 21 11 13 3 11"})})},b=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},C=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})},N=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})},S=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("ellipse",{cx:"8",cy:"4.5",rx:"1.5",ry:"2"}),(0,a.jsx)("ellipse",{cx:"16",cy:"4.5",rx:"1.5",ry:"2"}),(0,a.jsx)("ellipse",{cx:"4.5",cy:"9",rx:"1.5",ry:"2"}),(0,a.jsx)("ellipse",{cx:"19.5",cy:"9",rx:"1.5",ry:"2"}),(0,a.jsx)("path",{d:"M7.5 14c0-2 2-4 4.5-4s4.5 2 4.5 4c0 3-2.5 6-4.5 7-2 -1-4.5-4-4.5-7z"})]})},L=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M4.6 13.11L10 16.5l4-3 4 3 5.4-3.39a1 1 0 0 0 .24-1.5l-3.14-3.36a7 7 0 0 0-9 0L8.36 11.75a1 1 0 0 0 .24 1.5z"}),(0,a.jsx)("path",{d:"M10 16.5l-2 4.5"}),(0,a.jsx)("path",{d:"M14 13.5l0 7.5"}),(0,a.jsx)("path",{d:"M18 16.5l2 4.5"}),(0,a.jsx)("path",{d:"M7 3.5c2-1 5-1 7 0"}),(0,a.jsx)("path",{d:"M5 6c1.5-1.5 4-2.5 7-2.5s5.5 1 7 2.5"})]})},M=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M14 3c-1.1 0-2 .5-2.8 1.2C9 6 4 8 3 12c-1 3 1 6 3.5 7.5S12 22 15 21c4-1.5 6-5 6-9 0-3-1.5-5.5-3.5-7A4.4 4.4 0 0 0 14 3z"}),(0,a.jsx)("path",{d:"M10 12c1-1 2.5-1.5 4-1"}),(0,a.jsx)("path",{d:"M9 16c1.5-.5 3-.5 4.5.5"})]})},I=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M17 8h1a4 4 0 1 1 0 8h-1"}),(0,a.jsx)("path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V8z"}),(0,a.jsx)("line",{x1:"6",y1:"2",x2:"6",y2:"4"}),(0,a.jsx)("line",{x1:"10",y1:"2",x2:"10",y2:"4"}),(0,a.jsx)("line",{x1:"14",y1:"2",x2:"14",y2:"4"})]})},B=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:(0,a.jsx)("polyline",{points:"9 18 15 12 9 6"})})},P=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:(0,a.jsx)("polyline",{points:"15 18 9 12 15 6"})})},E=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:(0,a.jsx)("polyline",{points:"6 9 12 15 18 9"})})},z=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:(0,a.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})},W=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,a.jsx)("polyline",{points:"12 19 5 12 12 5"})]})},D=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M3 9l1-4h16l1 4"}),(0,a.jsx)("path",{d:"M3 9a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0 3 3 3 3 0 0 0 3-3"}),(0,a.jsx)("path",{d:"M4 12v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-8"}),(0,a.jsx)("path",{d:"M9 21v-6h6v6"})]})},A=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),(0,a.jsx)("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]})},T=e=>{let{size:t=24,color:n=l,strokeWidth:r=2,...o}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round",...o,children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("line",{x1:"15.5",y1:"8.5",x2:"8.5",y2:"15.5"}),(0,a.jsx)("circle",{cx:"9",cy:"9",r:"1.5"}),(0,a.jsx)("circle",{cx:"15",cy:"15",r:"1.5"})]})};var R=n(2687),q=n.n(R);function O(e){let{onSearch:t,placeholder:n="Buscar lojas e produtos"}=e,[r,s]=(0,o.useState)(""),i=(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,[n,r]=(0,o.useState)(e);(0,o.useEffect)(()=>{let n=setTimeout(()=>r(e),t);return()=>clearTimeout(n)},[e,t])}(r,400),(0,o.useCallback)(e=>{s(e.target.value)},[])),l=(0,o.useCallback)(()=>{s(""),null==t||t("")},[t]),c=(0,o.useCallback)(e=>{"Enter"===e.key&&(null==t||t(r))},[r,t]);return(0,a.jsxs)("div",{className:q().wrap,children:[(0,a.jsx)(x,{size:18,className:q().icon}),(0,a.jsx)("input",{type:"text",className:q().input,placeholder:n,value:r,onChange:i,onKeyDown:c}),r&&(0,a.jsx)("button",{className:q().clear,onClick:l,type:"button",children:(0,a.jsx)(b,{size:16})})]})}var H=n(9146);function G(){return(0,H.i)()}var F=n(3462),U=n.n(F);function V(e){let{location:t,onLocationClick:n,onSearch:r,onCartClick:s}=e,[i,l]=(0,o.useState)(!1),{count:d}=G();(0,o.useEffect)(()=>{let e=()=>l(window.scrollY>8);return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);let u=(null==t?void 0:t.endereco)||(null==t?void 0:t.cidade)||"Informe seu endereco";return(0,a.jsx)("header",{className:"".concat(U().header," ").concat(i?U().scrolled:""),children:(0,a.jsxs)("div",{className:U().inner,children:[(0,a.jsxs)("button",{className:U().location,onClick:n,type:"button",children:[(0,a.jsx)(p,{size:20,className:U().locationIcon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:U().locationText,children:u}),(null==t?void 0:t.bairro)&&(0,a.jsx)("div",{className:U().locationSub,children:t.bairro})]})]}),(0,a.jsx)("div",{className:U().searchWrap,children:(0,a.jsx)(O,{onSearch:r})}),(0,a.jsx)("div",{className:U().right,children:(0,a.jsxs)("button",{className:U().cartBtn,onClick:s,type:"button",children:[(0,a.jsx)(c,{size:22}),d>0&&(0,a.jsx)("span",{className:U().cartBadge,children:d})]})})]})})}let J=[{id:"todos",label:"Todos",icon:"Store"},{id:"restaurante",label:"Restaurantes",icon:"Utensils"},{id:"mercado",label:"Mercados",icon:"ShoppingCart"},{id:"supermercado",label:"Supermercados",icon:"ShoppingBag"},{id:"farmacia",label:"Farmacias",icon:"Pill"},{id:"padaria",label:"Padarias",icon:"Croissant"},{id:"acougue",label:"Acougues",icon:"Beef"},{id:"conveniencia",label:"Conveniencia",icon:"Coffee"},{id:"petshop",label:"Pet Shop",icon:"Paw"},{id:"loja",label:"Lojas",icon:"Store"}];var X=n(6474),K=n.n(X);function Q(e){let{activeCategory:t,onSelect:n}=e;return(0,a.jsx)("div",{className:K().wrap,children:(0,a.jsx)("div",{className:K().scroll,children:J.map(e=>{let o=r[e.icon]||D,s=t===e.id;return(0,a.jsxs)("button",{className:"".concat(K().item," ").concat(s?K().active:""),onClick:()=>n(e.id),type:"button",children:[(0,a.jsx)("div",{className:K().circle,children:(0,a.jsx)(o,{size:24})}),(0,a.jsx)("span",{className:K().label,children:e.label})]},e.id)})})})}var Y=n(6428),Z=n(3900),$=n.n(Z);function ee(e){let{onBannerClick:t}=e,[n,r]=(0,o.useState)([]),[i,l]=(0,o.useState)([]),c=function(){let e=(0,o.useContext)(s);if(!e)throw Error("useToast must be used within ToastProvider");return e}();(0,o.useEffect)(()=>{(0,Y.SC)("/parceiros/banners.php").then(e=>{r(e.banners||[]),l(e.cupons||[])}).catch(()=>{})},[]);let d=e=>{var t;null===(t=navigator.clipboard)||void 0===t||t.writeText(e),c("Cupom ".concat(e," copiado!"))};return 0===n.length&&0===i.length?null:(0,a.jsxs)("div",{className:$().wrap,children:[n.length>0&&(0,a.jsx)("div",{className:$().scroll,children:n.map(e=>(0,a.jsxs)("div",{className:$().banner,style:{background:e.bg_color||"#059669",color:e.text_color||"#ffffff"},onClick:()=>null==t?void 0:t(e),role:"button",tabIndex:0,children:[(0,a.jsx)("div",{className:$().bannerTitle,children:e.titulo}),e.subtitulo&&(0,a.jsx)("div",{className:$().bannerSub,children:e.subtitulo})]},e.id))}),i.length>0&&(0,a.jsx)("div",{className:$().couponScroll,children:i.map(e=>(0,a.jsxs)("div",{className:$().coupon,onClick:()=>d(e.codigo),role:"button",tabIndex:0,children:[(0,a.jsx)("div",{className:$().couponCode,children:e.codigo}),(0,a.jsx)("div",{className:$().couponDesc,children:e.descricao})]},e.id))})]})}var et=n(7650),en=n(4788),er=n.n(en);function ea(e){let{store:t,compact:n=!1,onClick:o}=e,s=r[function(e){let t=J.find(t=>t.id===e);return t?t.icon:"Store"}((t.categoria||"").toLowerCase())]||D;return(0,a.jsxs)("div",{className:"".concat(er().card," ").concat(n?er().compact:""),onClick:()=>null==o?void 0:o(t),role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&(null==o?void 0:o(t)),children:[(0,a.jsxs)("div",{className:er().banner,children:[t.logo?(0,a.jsx)("img",{src:t.logo,alt:t.nome,className:er().bannerImg,loading:"lazy"}):(0,a.jsx)(s,{size:40,className:er().bannerPlaceholder}),(0,a.jsx)("span",{className:er().categoryBadge,children:function(e){let t=J.find(t=>t.id===e);return t?t.label:e}((t.categoria||"").toLowerCase())}),(0,a.jsxs)("span",{className:er().statusDot,children:[(0,a.jsx)("span",{className:"".concat(er().dot," ").concat(t.aberto?er().dotOpen:er().dotClosed)}),t.aberto?"Aberto":"Fechado"]})]}),(0,a.jsxs)("div",{className:er().body,children:[(0,a.jsx)("div",{className:er().name,children:t.nome}),(0,a.jsx)("div",{className:er().category,children:t.endereco||t.cidade}),(0,a.jsxs)("div",{className:er().meta,children:[t.avaliacao>0&&(0,a.jsxs)("span",{className:er().metaItem,children:[(0,a.jsx)(_,{size:14,className:er().starIcon}),(0,et.A6)(t.avaliacao)]}),t.tempo_estimado>0&&(0,a.jsxs)("span",{className:er().metaItem,children:[(0,a.jsx)(m,{size:14}),(0,et.gN)(t.tempo_estimado)]}),(0,a.jsxs)("span",{className:er().metaItem,children:[(0,a.jsx)(j,{size:14}),(0,a.jsx)("span",{className:0===t.taxa_entrega?er().freeDelivery:"",children:(0,et.ci)(t.taxa_entrega)})]})]})]})]})}var eo=n(8668),es=n.n(eo);function ei(e){let{stores:t,onStoreClick:n}=e;return t&&0!==t.length?(0,a.jsxs)("div",{className:es().section,children:[(0,a.jsx)("div",{className:es().header,children:(0,a.jsx)("h2",{className:es().title,children:"Destaques"})}),(0,a.jsx)("div",{className:es().scroll,children:t.map(e=>(0,a.jsx)(ea,{store:e,compact:!0,onClick:n},e.id))})]}):null}var el=n(2954),ec=n.n(el);function ed(e){let{filters:t,onChange:n}=e,r=e=>{n({...t,[e]:!t[e]})};return(0,a.jsxs)("div",{className:ec().bar,children:[(0,a.jsxs)("select",{className:ec().select,value:t.orderBy||"avaliacao",onChange:e=>{n({...t,orderBy:e.target.value})},children:[(0,a.jsx)("option",{value:"avaliacao",children:"Melhor avaliados"}),(0,a.jsx)("option",{value:"taxa",children:"Menor taxa"}),(0,a.jsx)("option",{value:"tempo",children:"Mais rapido"}),(0,a.jsx)("option",{value:"nome",children:"A-Z"})]}),(0,a.jsx)("button",{className:"".concat(ec().chip," ").concat(t.openOnly?ec().active:""),onClick:()=>r("openOnly"),type:"button",children:"Aberto agora"}),(0,a.jsx)("button",{className:"".concat(ec().chip," ").concat(t.freeDelivery?ec().active:""),onClick:()=>r("freeDelivery"),type:"button",children:"Entrega gratis"})]})}var eu=n(5362),eh=n.n(eu);function ep(e){let{width:t,height:n,radius:r,className:o=""}=e;return(0,a.jsx)("div",{className:"".concat(eh().skeleton," ").concat(o),style:{width:t||"100%",height:n||"16px",borderRadius:r||"var(--radius-sm)"}})}function ex(){return(0,a.jsxs)("div",{className:eh().card,children:[(0,a.jsx)(ep,{height:"160px",radius:"var(--radius-card) var(--radius-card) 0 0"}),(0,a.jsxs)("div",{className:eh().body,children:[(0,a.jsx)(ep,{width:"70%",height:"20px"}),(0,a.jsx)(ep,{width:"40%",height:"14px"}),(0,a.jsxs)("div",{className:eh().meta,children:[(0,a.jsx)(ep,{width:"60px",height:"14px"}),(0,a.jsx)(ep,{width:"60px",height:"14px"}),(0,a.jsx)(ep,{width:"60px",height:"14px"})]})]})]})}var e_=n(2800),em=n.n(e_);function ej(e){let{stores:t,loading:n,onStoreClick:r,title:o="Estabelecimentos"}=e;return n?(0,a.jsxs)("div",{className:em().section,children:[(0,a.jsx)("div",{className:em().header,children:(0,a.jsx)("h2",{className:em().title,children:o})}),(0,a.jsx)("div",{className:em().skeletonGrid,children:Array.from({length:6}).map((e,t)=>(0,a.jsx)(ex,{},t))})]}):t&&0!==t.length?(0,a.jsxs)("div",{className:em().section,children:[(0,a.jsxs)("div",{className:em().header,children:[(0,a.jsx)("h2",{className:em().title,children:o}),(0,a.jsxs)("span",{className:em().count,children:[t.length," encontrados"]})]}),(0,a.jsx)("div",{className:em().grid,children:t.map(e=>(0,a.jsx)(ea,{store:e,onClick:r},e.id))})]}):(0,a.jsx)("div",{className:em().section,children:(0,a.jsxs)("div",{className:em().empty,children:[(0,a.jsx)(D,{size:48,className:em().emptyIcon}),(0,a.jsx)("div",{children:"Nenhum estabelecimento encontrado"})]})})}var eg=n(495),ev=n(5520),ef=n.n(ev);function ew(e){let{open:t,onClose:n}=e,{lookupCep:r,getGeoLocation:s,loading:i,endereco:l,bairro:c,cidade:d,cep:u}=(0,eg.F)(),[h,x]=(0,o.useState)(""),[_,m]=(0,o.useState)("");if(!t)return null;let j=async()=>{m("");let e=h.replace(/\D/g,"");if(8!==e.length){m("CEP deve ter 8 digitos");return}await r(e)||m("CEP nao encontrado")};return(0,a.jsx)("div",{className:ef().overlay,onClick:n,children:(0,a.jsxs)("div",{className:ef().modal,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:ef().header,children:[(0,a.jsx)("h3",{className:ef().title,children:"Seu endereco"}),(0,a.jsx)("button",{className:ef().closeBtn,onClick:n,type:"button",children:(0,a.jsx)(b,{size:20})})]}),(0,a.jsxs)("div",{className:ef().inputRow,children:[(0,a.jsx)("input",{className:ef().input,type:"text",placeholder:"Digite seu CEP",value:h,onChange:e=>{let t=e.target.value.replace(/\D/g,"");t.length>8&&(t=t.slice(0,8)),t.length>5&&(t=t.slice(0,5)+"-"+t.slice(5)),x(t),m("")},onKeyDown:e=>"Enter"===e.key&&j(),maxLength:9}),(0,a.jsx)("button",{className:ef().btn,onClick:j,disabled:i,type:"button",children:i?"...":"Buscar"})]}),(0,a.jsxs)("button",{className:ef().gpsBtn,onClick:s,disabled:i,type:"button",children:[(0,a.jsx)(k,{size:18}),"Usar minha localizacao"]}),_&&(0,a.jsx)("div",{className:ef().error,children:_}),u&&(0,a.jsxs)("div",{className:ef().result,children:[(0,a.jsxs)("div",{className:ef().resultAddr,children:[(0,a.jsx)(p,{size:14,style:{display:"inline",verticalAlign:"middle"}})," ",l||"Endereco"]}),c&&(0,a.jsx)("div",{children:c}),(0,a.jsxs)("div",{children:[d," - ",(0,et.hR)(u)]})]})]})})}var ey=n(3093),ek=n.n(ey);function eb(e){let{product:t,partnerId:n,partnerName:r}=e,{addItem:o,removeItem:s,getItemQuantity:i}=G(),l=i(t.id),c=t.preco_promo&&t.preco_promo<t.preco,d=c?t.preco_promo:t.preco,u=!1!==t.disponivel&&t.estoque>0;return(0,a.jsxs)("div",{className:"".concat(ek().card," ").concat(u?"":ek().unavailable),children:[(0,a.jsxs)("div",{className:ek().imgWrap,children:[t.imagem?(0,a.jsx)("img",{src:t.imagem,alt:t.nome,className:ek().img,loading:"lazy"}):(0,a.jsx)(y,{size:32,className:ek().imgPlaceholder}),c&&t.desconto&&(0,a.jsxs)("span",{className:ek().promoBadge,children:["-",t.desconto,"%"]})]}),(0,a.jsxs)("div",{className:ek().body,children:[(0,a.jsx)("div",{className:ek().name,children:t.nome}),t.unidade&&(0,a.jsx)("div",{className:ek().unit,children:t.unidade}),(0,a.jsxs)("div",{className:ek().priceRow,children:[(0,a.jsxs)("div",{children:[c&&(0,a.jsx)("span",{className:ek().priceOriginal,children:(0,et.o_)(t.preco)}),(0,a.jsx)("span",{className:"".concat(ek().price," ").concat(c?ek().pricePromo:""),children:(0,et.o_)(d)})]}),u?l>0?(0,a.jsxs)("div",{className:ek().qtyControls,children:[(0,a.jsx)("button",{className:ek().qtyBtn,onClick:()=>s(t.id),type:"button",children:(0,a.jsx)(N,{size:14})}),(0,a.jsx)("span",{className:ek().qty,children:l}),(0,a.jsx)("button",{className:"".concat(ek().qtyBtn," ").concat(ek().qtyBtnAdd),onClick:()=>o(t,n,r),type:"button",children:(0,a.jsx)(C,{size:14})})]}):(0,a.jsx)("button",{className:ek().addBtn,onClick:()=>o(t,n,r),type:"button",children:(0,a.jsx)(C,{size:16})}):(0,a.jsx)("span",{className:ek().unavailableLabel,children:"Indisponivel"})]})]})]})}var eC=n(5741),eN=n.n(eC);function eS(){let{items:e,subtotal:t,count:n,clearCart:r,partnerName:o}=G();return 0===n?null:(0,a.jsxs)("div",{className:eN().bar,children:[(0,a.jsxs)("div",{className:eN().info,children:[(0,a.jsxs)("div",{className:eN().count,children:[n," ",1===n?"item":"itens"," ",o?"- ".concat(o):""]}),(0,a.jsx)("div",{className:eN().total,children:(0,et.o_)(t)})]}),(0,a.jsx)("button",{className:eN().clearBtn,onClick:r,type:"button",children:"Limpar"}),(0,a.jsx)("button",{className:eN().checkoutBtn,onClick:()=>{window.location.href="/mercado/vitrine/carrinho"},type:"button",children:"Finalizar"})]})}var eL=n(4270),eM=n.n(eL);function eI(e){let{storeId:t,onClose:n}=e,{store:r,categories:s,promotions:i,products:l,loading:c,hasMore:d,categoryId:u,loadStore:h,loadMore:p,filterByCategory:x,searchProducts:g,close:v}=function(){var e,t;let[n,r]=(0,o.useState)(null),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(null),[c,d]=(0,o.useState)(1),[u,h]=(0,o.useState)(null),[p,x]=(0,o.useState)(""),_=(0,o.useCallback)(async function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(!0),l(null);let o=a.page||1,i=null!==(t=a.categoryId)&&void 0!==t?t:null,c=a.q||"";try{let t=await function(){let{id:e,category_id:t,page:n,q:r,price_min:a,price_max:o,on_sale:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Y.SC)("/parceiros/mini-loja.php",{id:e,category_id:t,page:n,q:r,price_min:a,price_max:o,on_sale:s})}({id:e,page:o,category_id:i,q:c});o>1&&n?r({...t,produtos:{...t.produtos,itens:[...n.produtos.itens,...t.produtos.itens]}}):r(t),d(o),h(i),x(c)}catch(e){l(e.message)}finally{s(!1)}},[n]),m=(0,o.useCallback)(()=>{n&&!a&&(c>=Math.ceil(n.produtos.total/n.produtos.por_pagina)||_(n.parceiro.id,{page:c+1,categoryId:u,q:p}))},[n,a,c,u,p,_]),j=(0,o.useCallback)(e=>{n&&_(n.parceiro.id,{page:1,categoryId:e,q:p})},[n,p,_]),g=(0,o.useCallback)(e=>{n&&_(n.parceiro.id,{page:1,categoryId:u,q:e})},[n,u,_]),v=!!n&&c<Math.ceil(n.produtos.total/n.produtos.por_pagina);return{store:(null==n?void 0:n.parceiro)||null,categories:(null==n?void 0:n.categorias)||[],promotions:(null==n?void 0:n.promocoes)||[],products:(null==n?void 0:null===(e=n.produtos)||void 0===e?void 0:e.itens)||[],totalProducts:(null==n?void 0:null===(t=n.produtos)||void 0===t?void 0:t.total)||0,loading:a,error:i,hasMore:v,page:c,categoryId:u,loadStore:_,loadMore:m,filterByCategory:j,searchProducts:g,close:()=>r(null)}}(),[f,w]=(0,o.useState)(null);(0,o.useEffect)(()=>{t&&(h(t),w(null))},[t]);let y=(0,o.useCallback)(()=>{v(),null==n||n()},[v,n]),k=(0,o.useCallback)(e=>{let t=e===f?null:e;w(t),x(t)},[f,x]),C=(0,o.useCallback)(e=>{g(e)},[g]);return((0,o.useEffect)(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),t)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eM().overlay,onClick:y}),(0,a.jsxs)("div",{className:eM().panel,children:[(0,a.jsxs)("div",{className:eM().header,children:[(0,a.jsx)("div",{className:eM().bannerArea,children:(null==r?void 0:r.banner)||(null==r?void 0:r.logo)?(0,a.jsx)("img",{src:r.banner||r.logo,alt:null==r?void 0:r.nome,className:eM().bannerImg}):(0,a.jsx)(D,{size:48,className:eM().bannerPlaceholder})}),(0,a.jsx)("button",{className:eM().closeBtn,onClick:y,type:"button",children:(0,a.jsx)(b,{size:20})})]}),r?(0,a.jsxs)("div",{className:eM().info,children:[(0,a.jsx)("div",{className:eM().storeName,children:r.nome}),(0,a.jsxs)("div",{className:eM().storeMeta,children:[(0,a.jsx)("span",{className:r.aberto?eM().statusOpen:eM().statusClosed,children:r.aberto?"Aberto":"Fechado"}),r.avaliacao>0&&(0,a.jsxs)("span",{className:eM().storeMetaItem,children:[(0,a.jsx)(_,{size:14,className:eM().starIcon}),(0,et.A6)(r.avaliacao)]}),r.tempo_estimado>0&&(0,a.jsxs)("span",{className:eM().storeMetaItem,children:[(0,a.jsx)(m,{size:14}),(0,et.gN)(r.tempo_estimado)]}),(0,a.jsxs)("span",{className:eM().storeMetaItem,children:[(0,a.jsx)(j,{size:14}),(0,et.ci)(r.taxa_entrega)]})]}),r.descricao&&(0,a.jsx)("div",{className:eM().storeDesc,children:r.descricao})]}):(0,a.jsxs)("div",{className:eM().info,children:[(0,a.jsx)(ep,{width:"60%",height:"24px"}),(0,a.jsx)(ep,{width:"80%",height:"14px"})]}),s.length>0&&(0,a.jsxs)("div",{className:eM().categories,children:[(0,a.jsx)("button",{className:"".concat(eM().catPill," ").concat(null===f?eM().active:""),onClick:()=>k(null),type:"button",children:"Todos"}),s.map(e=>(0,a.jsxs)("button",{className:"".concat(eM().catPill," ").concat(f===e.id?eM().active:""),onClick:()=>k(e.id),type:"button",children:[e.nome," (",e.total,")"]},e.id))]}),(0,a.jsx)("div",{className:eM().storeSearch,children:(0,a.jsx)(O,{onSearch:C,placeholder:"Buscar nesta loja"})}),(0,a.jsxs)("div",{className:eM().products,children:[i.length>0&&!f&&(0,a.jsxs)("div",{className:eM().promoSection,children:[(0,a.jsxs)("div",{className:eM().promoTitle,children:[(0,a.jsx)(A,{size:16}),"Ofertas"]}),(0,a.jsx)("div",{className:eM().promoGrid,children:i.map(e=>(0,a.jsx)(eb,{product:e,partnerId:null==r?void 0:r.id,partnerName:null==r?void 0:r.nome},"promo-".concat(e.id)))})]}),c&&0===l.length?(0,a.jsx)("div",{className:eM().productGrid,children:Array.from({length:6}).map((e,t)=>(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,a.jsx)(ep,{height:"140px",radius:"var(--radius-sm)"}),(0,a.jsx)(ep,{width:"80%",height:"14px"}),(0,a.jsx)(ep,{width:"50%",height:"16px"})]},t))}):l.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eM().productGrid,children:l.map(e=>(0,a.jsx)(eb,{product:e,partnerId:null==r?void 0:r.id,partnerName:null==r?void 0:r.nome},e.id))}),d&&(0,a.jsx)("button",{className:eM().loadMore,onClick:p,disabled:c,type:"button",children:c?"Carregando...":"Carregar mais"})]}):(0,a.jsx)("div",{className:eM().empty,children:"Nenhum produto encontrado"})]}),(0,a.jsx)(eS,{})]})]}):null}var eB=n(6777),eP=n.n(eB);function eE(){let e=(0,eg.F)(),{stores:t,highlighted:n,loading:r,filters:s,setFilters:i,loadStores:l,loadByCep:c}=function(){let[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),[i,l]=(0,o.useState)({categoria:null,busca:"",orderBy:"avaliacao",openOnly:!1,freeDelivery:!1}),c=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(!0),s(null);try{let n=await function(){let{categoria:e,busca:t,lat:n,lng:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Y.SC)("/parceiros/vitrine.php",{categoria:e,busca:t,lat:n,lng:r})}({categoria:e.categoria||i.categoria,busca:e.busca||i.busca,lat:e.lat,lng:e.lng});t(n.parceiros||[])}catch(e){s(e.message),t([])}finally{r(!1)}},[i.categoria,i.busca]),d=(0,o.useCallback)(async e=>{r(!0),s(null);try{let n=await (0,Y.SC)("/parceiros/por-cep.php",{cep:e});t(n.parceiros||[])}catch(e){s(e.message),t([])}finally{r(!1)}},[]);(0,o.useEffect)(()=>{c()},[c]);let u=[...e.filter(e=>(!i.openOnly||!!e.aberto)&&(!i.freeDelivery||!(e.taxa_entrega>0)))].sort((e,t)=>{switch(i.orderBy){case"avaliacao":return(t.avaliacao||0)-(e.avaliacao||0);case"taxa":return(e.taxa_entrega||0)-(t.taxa_entrega||0);case"tempo":return(e.tempo_estimado||999)-(t.tempo_estimado||999);case"nome":return(e.nome||"").localeCompare(t.nome||"");default:return 0}}),h=u.filter(e=>e.aberto&&e.avaliacao>=4).slice(0,8);return{stores:u,highlighted:h,loading:n,error:a,filters:i,setFilters:l,loadStores:c,loadByCep:d,refresh:()=>c()}}(),[d,u]=(0,o.useState)(!1),[h,p]=(0,o.useState)(null),[x,_]=(0,o.useState)("todos"),m=(0,o.useCallback)(e=>{_(e);let t="todos"===e?null:e;i(e=>({...e,categoria:t})),l({categoria:t})},[i,l]),j=(0,o.useCallback)(e=>{e?l({busca:e}):l({})},[l]),g=(0,o.useCallback)(e=>{p(e.id)},[]),v=(0,o.useCallback)(e=>{e.partner_id?p(e.partner_id):e.link&&window.open(e.link,"_blank")},[]),f=(0,o.useCallback)(()=>{u(!0)},[]),w=(0,o.useCallback)(()=>{u(!1),e.cep&&c(e.cep)},[e.cep,c]),y="todos"===x?t:t.filter(e=>(function(e,t){if(!t||"todos"===t)return!0;let n=(e.categoria||"").toLowerCase();return n===t||n.includes(t)})(e,x));return(0,a.jsxs)("div",{className:eP().main,children:[(0,a.jsx)(V,{location:e,onLocationClick:f,onSearch:j,onCartClick:()=>window.location.href="/mercado/vitrine/carrinho"}),(0,a.jsxs)("div",{className:eP().content,children:[(0,a.jsx)(Q,{activeCategory:x,onSelect:m}),(0,a.jsx)(ee,{onBannerClick:v}),n.length>0&&"todos"===x&&(0,a.jsx)(ei,{stores:n,onStoreClick:g}),(0,a.jsx)(ed,{filters:s,onChange:i}),(0,a.jsx)(ej,{stores:y,loading:r,onStoreClick:g})]}),(0,a.jsx)(ew,{open:d,onClose:w}),h&&(0,a.jsx)(eI,{storeId:h,onClose:()=>p(null)})]})}function ez(){return(0,a.jsx)(i,{children:(0,a.jsx)(eE,{})})}},7650:function(e,t,n){"use strict";function r(e){return null==e||isNaN(e)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function a(e){if(!e)return"";let t=e.replace(/\D/g,"");return 8!==t.length?e:"".concat(t.slice(0,5),"-").concat(t.slice(5))}function o(e){if(!e)return"";if(e<60)return"".concat(e," min");let t=Math.floor(e/60),n=e%60;return n>0?"".concat(t,"h").concat(n,"min"):"".concat(t,"h")}function s(e){return e?Number(e).toFixed(1):"0.0"}function i(e){return null==e?"":0===e?"Gratis":r(e)}n.d(t,{A6:function(){return s},ci:function(){return i},gN:function(){return o},hR:function(){return a},o_:function(){return r}})},3900:function(e){e.exports={wrap:"BannerCarousel_wrap__smhde",scroll:"BannerCarousel_scroll___3iej",banner:"BannerCarousel_banner__DMO2f",bannerTitle:"BannerCarousel_bannerTitle__7pJcC",bannerSub:"BannerCarousel_bannerSub__TJMLm",couponScroll:"BannerCarousel_couponScroll__LZLgU",coupon:"BannerCarousel_coupon__TtlNs",couponCode:"BannerCarousel_couponCode__l5Y3p",couponDesc:"BannerCarousel_couponDesc__VPSsn"}},3462:function(e){e.exports={header:"StickyHeader_header__ojOnn",scrolled:"StickyHeader_scrolled__qkgaH",inner:"StickyHeader_inner__HK4r8",location:"StickyHeader_location__YO2cg",locationText:"StickyHeader_locationText__wSU5X",locationIcon:"StickyHeader_locationIcon__XcMnz",locationSub:"StickyHeader_locationSub__h8eZy",searchWrap:"StickyHeader_searchWrap__du264",right:"StickyHeader_right__lo1I9",cartBtn:"StickyHeader_cartBtn__yaFf1",cartBadge:"StickyHeader_cartBadge___b_Sy"}},5520:function(e){e.exports={overlay:"CepInput_overlay___7u5N",fadeIn:"CepInput_fadeIn__hXP12",modal:"CepInput_modal__CIg6b",slideUp:"CepInput_slideUp__qGmWs",header:"CepInput_header__E7NSg",title:"CepInput_title__X8nPr",closeBtn:"CepInput_closeBtn__6mBU3",inputRow:"CepInput_inputRow__LQCHB",input:"CepInput_input__CoogW",btn:"CepInput_btn__Poy3s",gpsBtn:"CepInput_gpsBtn__teRK9",result:"CepInput_result___Dtpw",resultAddr:"CepInput_resultAddr__u_uSH",error:"CepInput_error__yDKLX"}},5741:function(e){e.exports={bar:"CartBar_bar__c37Fm",info:"CartBar_info__Pjf_G",count:"CartBar_count__NNcoi",total:"CartBar_total__bgqjQ",checkoutBtn:"CartBar_checkoutBtn__m3pjf",clearBtn:"CartBar_clearBtn__TFeVf"}},4270:function(e){e.exports={overlay:"MiniLojaModal_overlay__NzzJe",fadeIn:"MiniLojaModal_fadeIn__98370",panel:"MiniLojaModal_panel__Yz0eO",slideIn:"MiniLojaModal_slideIn__OggXg",header:"MiniLojaModal_header__IFQBW",bannerArea:"MiniLojaModal_bannerArea__1Dc0P",bannerImg:"MiniLojaModal_bannerImg__97nog",bannerPlaceholder:"MiniLojaModal_bannerPlaceholder__WeINz",closeBtn:"MiniLojaModal_closeBtn__M4MOG",info:"MiniLojaModal_info__zLSxM",storeName:"MiniLojaModal_storeName__wNX5L",storeMeta:"MiniLojaModal_storeMeta__fEj1f",storeMetaItem:"MiniLojaModal_storeMetaItem__9kxDf",starIcon:"MiniLojaModal_starIcon__nRw8f",storeDesc:"MiniLojaModal_storeDesc__xj9jr",statusOpen:"MiniLojaModal_statusOpen__RzIav",statusClosed:"MiniLojaModal_statusClosed__lZPtm",categories:"MiniLojaModal_categories__c0wl4",catPill:"MiniLojaModal_catPill__LNxZd",active:"MiniLojaModal_active__325gs",storeSearch:"MiniLojaModal_storeSearch__oC_Ho",products:"MiniLojaModal_products__j0nJF",promoSection:"MiniLojaModal_promoSection__9LvZG",promoTitle:"MiniLojaModal_promoTitle__y7AHq",promoGrid:"MiniLojaModal_promoGrid__tUB7v",productGrid:"MiniLojaModal_productGrid__RGPXO",loadMore:"MiniLojaModal_loadMore__iQfpu",empty:"MiniLojaModal_empty__ADmSV"}},3093:function(e){e.exports={card:"ProductCard_card__SEO1A",imgWrap:"ProductCard_imgWrap__SWwn9",img:"ProductCard_img__hILbt",imgPlaceholder:"ProductCard_imgPlaceholder__ilUuK",promoBadge:"ProductCard_promoBadge__tNsuW",body:"ProductCard_body__wQ1YK",name:"ProductCard_name__MNhu8",unit:"ProductCard_unit__Ve6WE",priceRow:"ProductCard_priceRow__qJUES",price:"ProductCard_price__Me9zX",pricePromo:"ProductCard_pricePromo__6lzhy",priceOriginal:"ProductCard_priceOriginal__3w0rK",addBtn:"ProductCard_addBtn__8ePC4",qtyControls:"ProductCard_qtyControls__eWR33",qtyBtn:"ProductCard_qtyBtn__js8MD",qtyBtnAdd:"ProductCard_qtyBtnAdd__6shQa",qty:"ProductCard_qty__QDMMW",unavailable:"ProductCard_unavailable__1Gnu7",unavailableLabel:"ProductCard_unavailableLabel__W_LnW"}},2687:function(e){e.exports={wrap:"SearchInput_wrap__zrSfi",input:"SearchInput_input__PhaLJ",icon:"SearchInput_icon__AuuWr",clear:"SearchInput_clear__fh5oF"}},6474:function(e){e.exports={wrap:"CategoryNav_wrap__LIGh8",scroll:"CategoryNav_scroll__V2ucs",item:"CategoryNav_item__spCHs",circle:"CategoryNav_circle__tXeHv",active:"CategoryNav_active__w9_nO",label:"CategoryNav_label__DyqEK"}},2954:function(e){e.exports={bar:"FilterBar_bar__C6lDl",select:"FilterBar_select__US4Wo",chip:"FilterBar_chip__U1hu6",active:"FilterBar_active__oiJP1"}},8668:function(e){e.exports={section:"HighlightSection_section__B_VT5",header:"HighlightSection_header__eJCm9",title:"HighlightSection_title__SLznG",seeAll:"HighlightSection_seeAll__wzyqR",scroll:"HighlightSection_scroll__ovV8I"}},4788:function(e){e.exports={card:"StoreCard_card__ecyVS",banner:"StoreCard_banner__Zl7MX",bannerImg:"StoreCard_bannerImg__qUFf_",bannerPlaceholder:"StoreCard_bannerPlaceholder__Y0tWO",statusDot:"StoreCard_statusDot__OLrFx",dot:"StoreCard_dot__gF1Ri",dotOpen:"StoreCard_dotOpen__Pf0ns",dotClosed:"StoreCard_dotClosed__pW8xZ",categoryBadge:"StoreCard_categoryBadge__6EtQx",body:"StoreCard_body__aR0o_",name:"StoreCard_name__KLL7T",category:"StoreCard_category__HUsux",meta:"StoreCard_meta__r8hRn",metaItem:"StoreCard_metaItem__Jj1ID",starIcon:"StoreCard_starIcon__Pxt5J",freeDelivery:"StoreCard_freeDelivery__eVxRG",compact:"StoreCard_compact__Gf3Rw"}},2800:function(e){e.exports={section:"StoreGrid_section__6RWbG",header:"StoreGrid_header__543VB",title:"StoreGrid_title__4qjkF",count:"StoreGrid_count__qNAPK",grid:"StoreGrid_grid__iuQdL",empty:"StoreGrid_empty__c1d6z",emptyIcon:"StoreGrid_emptyIcon__nZw7U",skeletonGrid:"StoreGrid_skeletonGrid__C87sU"}},5362:function(e){e.exports={skeleton:"Skeleton_skeleton__QZ41i",shimmer:"Skeleton_shimmer__KGRPI",card:"Skeleton_card__AWRZ8",body:"Skeleton_body__RoXr8",meta:"Skeleton_meta__G3Gwr"}},6777:function(e){e.exports={main:"page_main__nw1Wk",content:"page_content___38fW"}}},function(e){e.O(0,[181,971,117,744],function(){return e(e.s=9312)}),_N_E=e.O()}]);