(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6058],{2295:function(e,t,r){"use strict";r.d(t,{$c:function(){return s},X4:function(){return i},oF:function(){return a},s0:function(){return c},wr:function(){return o}});var n=r(6428);function o(){let{categoria:e,busca:t,lat:r,lng:o,city:i,state:a,cep:s,sort:c,delivery_time_max:l,rating_min:u,open_now:d,free_delivery:h,page:p,limit:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.SC)("/parceiros/vitrine.php",{categoria:e,busca:t,lat:r,lng:o,city:i,state:a,cep:s,sort:c,delivery_time_max:l,rating_min:u,open_now:d?"1":void 0,free_delivery:h?"1":void 0,page:p,limit:m})}function i(){let{city:e,state:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.SC)("/home.php",{city:e,state:t})}function a(){let{id:e,category_id:t,page:r,q:o,price_min:i,price_max:a,on_sale:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.SC)("/parceiros/mini-loja.php",{id:e,category_id:t,page:r,q:o,price_min:i,price_max:a,on_sale:s?"1":void 0})}function s(){let{limit:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.SC)("/produtos/recomendados.php",{limit:e})}function c(e){return(0,n.SC)("/parceiros/por-cep.php",{cep:e})}},5208:function(e,t,r){"use strict";r.d(t,{M:function(){return S}});var n=r(7437),o=r(2265),i=r(9376),a=r(5214),s=r(1414),c=r(6428),l=r(7650),u=r(9230),d=r.n(u);let h=[{termo:"Pizza",emoji:"\uD83C\uDF55"},{termo:"Burger",emoji:"\uD83C\uDF54"},{termo:"Acai",emoji:"\uD83E\uDED0"},{termo:"Sorvete",emoji:"\uD83C\uDF66"},{termo:"Sushi",emoji:"\uD83C\uDF63"},{termo:"Cafe",emoji:"☕"}],p=[{id:"promocao",label:"Promocoes",icon:"tag",param:"sale=1"},{id:"frete_gratis",label:"Delivery Gratis",icon:"truck",param:"fee=0"},{id:"novos",label:"Novos",icon:"sparkle",param:"new=1"},{id:"melhor_avaliados",label:"4.5+",icon:"star",param:"rating=4.5"}],m=[{id:"restaurante",label:"Restaurantes",icon:"utensils",emoji:"\uD83C\uDF7D️"},{id:"mercado",label:"Mercados",icon:"cart",emoji:"\uD83D\uDED2"},{id:"farmacia",label:"Farmacias",icon:"pill",emoji:"\uD83D\uDC8A"},{id:"bebidas",label:"Bebidas",icon:"wine",emoji:"\uD83C\uDF77"}];function x(e){var t,r,a,u,x,_;let{query:v,isOpen:f,onClose:g,onSelect:j,inputRef:w,onFilterSelect:b}=e,y=(0,i.useRouter)(),S=(0,o.useRef)(null),k=(0,o.useRef)(!0),[C,N]=(0,o.useState)(null),[B,D]=(0,o.useState)(h),[E,R]=(0,o.useState)(!1),[L,I]=(0,o.useState)(-1);(0,o.useEffect)(()=>(k.current=!0,()=>{k.current=!1}),[]);let{history:P,terms:V,addSearch:z,removeSearch:W,clearHistory:A}=(0,s.u)(),T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,[r,n]=(0,o.useState)(e);return(0,o.useEffect)(()=>{let r=setTimeout(()=>n(e),t);return()=>clearTimeout(r)},[e,t]),r}(v,250);(0,o.useEffect)(()=>{f&&(0,c.SC)("/vitrine/search-suggestions.php",{type:"trending"}).then(e=>{var t;(null==e?void 0:null===(t=e.trending)||void 0===t?void 0:t.length)>0&&D(e.trending.map((e,t)=>{var r;return{termo:e.termo||e,emoji:(null===(r=h[t])||void 0===r?void 0:r.emoji)||"\uD83D\uDD25"}}))}).catch(()=>{})},[f]),(0,o.useEffect)(()=>{if(!T||T.length<2){N(null),I(-1);return}R(!0),(0,c.SC)("/vitrine/search-suggestions.php",{q:T,limit:5}).then(e=>{k.current&&(N(e),I(-1))}).catch(()=>{k.current&&N(null)}).finally(()=>{k.current&&R(!1)})},[T]);let F=(0,o.useMemo)(()=>{let e=[];return v&&v.length>=2&&C?((C.sugestoes_termos||[]).slice(0,4).forEach(t=>{e.push({type:"term",data:t})}),(C.lojas||[]).slice(0,3).forEach(t=>{e.push({type:"store",data:t})}),(C.produtos||[]).slice(0,4).forEach(t=>{e.push({type:"product",data:t})}),v.length>=2&&e.push({type:"viewAll",data:v})):(V.slice(0,5).forEach(t=>{e.push({type:"recent",data:t})}),B.slice(0,6).forEach(t=>{e.push({type:"trending",data:t})}),m.forEach(t=>{e.push({type:"category",data:t})})),e},[v,C,V,B]),M=(0,o.useCallback)((e,t)=>{switch(t){case"term":case"trending":let r=e.termo||e;z(r),y.push("/busca?q=".concat(encodeURIComponent(r)));break;case"recent":case"viewAll":z(e),y.push("/busca?q=".concat(encodeURIComponent(e)));break;case"store":window.dispatchEvent(new CustomEvent("open-mini-loja",{detail:{partnerId:e.id}}));break;case"product":window.dispatchEvent(new CustomEvent("open-mini-loja",{detail:{partnerId:e.parceiro_id,productId:e.id}}));break;case"category":y.push("/busca?cat=".concat(e.id));break;case"filter":y.push("/busca?".concat(e.param))}null==j||j(e,t),null==g||g()},[y,z,j,g]),H=(0,o.useCallback)(e=>{y.push("/busca?".concat(e.param)),null==b||b(e),null==g||g()},[y,b,g]),q=(0,o.useCallback)((e,t)=>{t.stopPropagation(),t.preventDefault(),W(e)},[W]);if((0,o.useEffect)(()=>{if(!f||!(null==w?void 0:w.current))return;let e=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),I(e=>e<F.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),I(e=>e>0?e-1:F.length-1);break;case"Enter":if(L>=0&&F[L]){e.preventDefault();let t=F[L];M(t.data,t.type)}break;case"Escape":e.preventDefault(),null==g||g()}},t=w.current;return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[f,w,L,F,M,g]),(0,o.useEffect)(()=>{if(L>=0&&S.current){let e=S.current.querySelector('[data-index="'.concat(L,'"]'));e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[L]),!f)return null;let G=v&&v.length>=2,O=C&&((null===(t=C.sugestoes_termos)||void 0===t?void 0:t.length)||0)+((null===(r=C.lojas)||void 0===r?void 0:r.length)||0)+((null===(a=C.produtos)||void 0===a?void 0:a.length)||0)>0,X=-1;return(0,n.jsxs)("div",{className:d().dropdown,ref:S,children:[E&&(0,n.jsxs)("div",{className:d().loading,children:[(0,n.jsx)("div",{className:d().spinner}),(0,n.jsx)("span",{children:"Buscando..."})]}),!E&&G&&C&&(0,n.jsxs)(n.Fragment,{children:[(null===(u=C.sugestoes_termos)||void 0===u?void 0:u.length)>0&&(0,n.jsxs)("div",{className:d().section,children:[(0,n.jsxs)("div",{className:d().sectionHeader,children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,n.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),(0,n.jsx)("span",{children:"Sugestoes"})]}),C.sugestoes_termos.slice(0,4).map(e=>{let t=++X;return(0,n.jsxs)("button",{className:"".concat(d().item," ").concat(L===t?d().itemSelected:""),onClick:()=>M(e,"term"),"data-index":t,type:"button",children:[(0,n.jsx)("div",{className:d().itemIconWrap,children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,n.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),(0,n.jsx)("span",{className:d().itemText,children:e.termo}),e.buscas>5&&(0,n.jsxs)("span",{className:d().itemMeta,children:[e.buscas," buscas"]})]},"term-".concat(e.termo))})]}),(null===(x=C.lojas)||void 0===x?void 0:x.length)>0&&(0,n.jsxs)("div",{className:d().section,children:[(0,n.jsxs)("div",{className:d().sectionHeader,children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,n.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),(0,n.jsx)("span",{children:"Lojas"})]}),C.lojas.slice(0,3).map(e=>{let t=++X;return(0,n.jsxs)("button",{className:"".concat(d().item," ").concat(d().storeItem," ").concat(L===t?d().itemSelected:""),onClick:()=>M(e,"store"),"data-index":t,type:"button",children:[e.logo?(0,n.jsx)("img",{src:e.logo,alt:e.nome||"Logo da loja",className:d().itemImg}):(0,n.jsx)("div",{className:d().itemImgPlaceholder,children:(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,n.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})})}),(0,n.jsxs)("div",{className:d().itemContent,children:[(0,n.jsxs)("div",{className:d().itemName,children:[e.nome,e.aberto?(0,n.jsx)("span",{className:d().badgeOpen,children:"Aberto"}):(0,n.jsx)("span",{className:d().badgeClosed,children:"Fechado"})]}),(0,n.jsxs)("div",{className:d().itemSub,children:[e.categoria,e.avaliacao&&(0,n.jsxs)("span",{className:d().rating,children:[(0,n.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),e.avaliacao.toFixed(1)]})]})]})]},"store-".concat(e.id))})]}),(null===(_=C.produtos)||void 0===_?void 0:_.length)>0&&(0,n.jsxs)("div",{className:d().section,children:[(0,n.jsxs)("div",{className:d().sectionHeader,children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"}),(0,n.jsx)("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),(0,n.jsx)("span",{children:"Produtos"})]}),C.produtos.slice(0,4).map(e=>{let t=++X,r=e.preco_promo&&e.preco_promo<e.preco;return(0,n.jsxs)("button",{className:"".concat(d().item," ").concat(d().productItem," ").concat(L===t?d().itemSelected:""),onClick:()=>M(e,"product"),"data-index":t,type:"button",children:[e.imagem?(0,n.jsx)("img",{src:e.imagem,alt:e.nome||"Produto",className:d().itemImg}):(0,n.jsx)("div",{className:d().itemImgPlaceholder,children:(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,n.jsx)("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"})})}),(0,n.jsxs)("div",{className:d().itemContent,children:[(0,n.jsx)("div",{className:d().itemName,children:e.nome}),(0,n.jsx)("div",{className:d().itemSub,children:e.parceiro_nome})]}),(0,n.jsx)("div",{className:d().itemPrice,children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:d().priceOld,children:(0,l.o_)(e.preco)}),(0,n.jsx)("span",{className:d().pricePromo,children:(0,l.o_)(e.preco_promo)})]}):(0,n.jsx)("span",{children:(0,l.o_)(e.preco)})})]},"prod-".concat(e.id))})]}),v.length>=2&&(0,n.jsxs)(n.Fragment,{children:[X++,(0,n.jsxs)("button",{className:"".concat(d().viewAllBtn," ").concat(L===X?d().itemSelected:""),onClick:()=>M(v,"viewAll"),"data-index":X,type:"button",children:[(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,n.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),'Ver todos resultados para "',v,'"',(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:d().viewAllArrow,children:(0,n.jsx)("polyline",{points:"9 18 15 12 9 6"})})]})]}),!O&&(0,n.jsxs)("div",{className:d().empty,children:[(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,n.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),(0,n.jsxs)("span",{children:['Nenhum resultado para "',v,'"']}),(0,n.jsx)("button",{className:d().viewAllBtnEmpty,onClick:()=>M(v,"viewAll"),type:"button",children:"Buscar mesmo assim"})]})]}),!E&&!G&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:d().filtersSection,children:(0,n.jsx)("div",{className:d().filterChips,children:p.map(e=>(0,n.jsxs)("button",{className:d().filterChip,onClick:()=>H(e),type:"button",children:["tag"===e.icon&&(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"}),(0,n.jsx)("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),"truck"===e.icon&&(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("rect",{x:"1",y:"3",width:"15",height:"13"}),(0,n.jsx)("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),(0,n.jsx)("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),(0,n.jsx)("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),"sparkle"===e.icon&&(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,n.jsx)("path",{d:"M12 3l1.5 5.5L19 10l-5.5 1.5L12 17l-1.5-5.5L5 10l5.5-1.5L12 3z"})}),"star"===e.icon&&(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),e.label]},e.id))})}),V.length>0&&(0,n.jsxs)("div",{className:d().section,children:[(0,n.jsxs)("div",{className:d().sectionHeader,children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),(0,n.jsx)("span",{children:"Buscas recentes"}),(0,n.jsx)("button",{className:d().clearBtn,onClick:A,type:"button",children:"Limpar historico"})]}),V.slice(0,5).map(e=>{let t=++X;return(0,n.jsxs)("button",{className:"".concat(d().item," ").concat(d().recentItem," ").concat(L===t?d().itemSelected:""),onClick:()=>M(e,"recent"),"data-index":t,type:"button",children:[(0,n.jsx)("div",{className:d().itemIconWrap,children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("polyline",{points:"12 6 12 12 16 14"})]})}),(0,n.jsx)("span",{className:d().itemText,children:e}),(0,n.jsx)("button",{className:d().removeBtn,onClick:t=>q(e,t),type:"button",title:"Remover",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,n.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},"recent-".concat(e))})]}),(0,n.jsxs)("div",{className:d().section,children:[(0,n.jsxs)("div",{className:d().sectionHeader,children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),(0,n.jsx)("polyline",{points:"17 6 23 6 23 12"})]}),(0,n.jsx)("span",{children:"Em alta"})]}),(0,n.jsx)("div",{className:d().trendingGrid,children:B.slice(0,6).map((e,t)=>{let r=++X;return(0,n.jsxs)("button",{className:"".concat(d().trendingPill," ").concat(L===r?d().trendingPillSelected:""),onClick:()=>M(e,"trending"),"data-index":r,type:"button",children:[(0,n.jsx)("span",{className:d().trendingEmoji,children:e.emoji}),e.termo]},"trending-".concat(e.termo))})})]}),(0,n.jsxs)("div",{className:d().section,children:[(0,n.jsxs)("div",{className:d().sectionHeader,children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,n.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,n.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,n.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]}),(0,n.jsx)("span",{children:"Categorias"})]}),(0,n.jsx)("div",{className:d().categoryGrid,children:m.map(e=>{let t=++X;return(0,n.jsxs)("button",{className:"".concat(d().categoryBtn," ").concat(L===t?d().categoryBtnSelected:""),onClick:()=>M(e,"category"),"data-index":t,type:"button",children:[(0,n.jsx)("span",{className:d().categoryEmoji,children:e.emoji}),(0,n.jsx)("span",{className:d().categoryLabel,children:e.label})]},e.id)})})]})]})]})}var _=r(941),v=r(8786),f=r.n(v);function g(e){let{onResult:t,onListeningChange:r,className:i="",disabled:a=!1}=e,[s,c]=(0,o.useState)(!1),{isListening:l,isSupported:u,error:d,startListening:h,stopListening:p,clearError:m}=(0,_.TL)({onResult:t});(0,o.useEffect)(()=>{c(!0)},[]),(0,o.useEffect)(()=>{null==r||r(l)},[l,r]);let x=(0,o.useCallback)(async e=>{e.preventDefault(),e.stopPropagation(),!a&&u&&(d&&m(),l?p():await h())},[a,u,d,l,m,p,h]);return s&&u?(0,n.jsxs)("button",{type:"button",className:"".concat(f().inlineButton," ").concat(l?f().inlineListening:""," ").concat(i),onClick:x,disabled:a,"aria-label":l?"Parar":"Busca por voz",title:l?"Parar":"Busca por voz",children:[l?(0,n.jsx)(w,{size:18}):(0,n.jsx)(j,{size:18}),l&&(0,n.jsx)("span",{className:f().inlinePulse})]}):null}function j(e){let{size:t=20}=e;return(0,n.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:f().icon,children:[(0,n.jsx)("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),(0,n.jsx)("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),(0,n.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),(0,n.jsx)("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})}function w(e){let{size:t=20}=e;return(0,n.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:f().icon,children:[(0,n.jsx)("rect",{x:"6",y:"4",width:"4",height:"16",rx:"1"}),(0,n.jsx)("rect",{x:"14",y:"4",width:"4",height:"16",rx:"1"})]})}var b=r(2687),y=r.n(b);function S(e){let{onSearch:t,onFocus:r,onBlur:c,expanded:l,placeholder:u="Buscar lojas e produtos"}=e,[d,h]=(0,o.useState)(""),[p,m]=(0,o.useState)(!1),[v,f]=(0,o.useState)(!1),[j,w]=(0,o.useState)(!1),b=(0,o.useRef)(null),S=(0,o.useRef)(null),k=(0,i.useRouter)(),{addSearch:C}=(0,s.u)();(0,o.useEffect)(()=>{w((0,_.bh)())},[]);let N=(0,o.useCallback)(e=>{let t=e.target.value;h(t),t.length>0&&m(!0)},[]),B=(0,o.useCallback)(()=>{var e;h(""),null==t||t(""),m(!1),null===(e=b.current)||void 0===e||e.focus()},[t]),D=(0,o.useCallback)(e=>{var t,r;"Enter"===e.key&&d&&d.length>=2?(C(d),k.push("/busca?q=".concat(encodeURIComponent(d))),m(!1),null===(t=b.current)||void 0===t||t.blur(),null==c||c()):"Escape"===e.key&&(m(!1),null===(r=b.current)||void 0===r||r.blur(),null==c||c())},[d,k,c,C]),E=(0,o.useCallback)(()=>{m(!0),null==r||r()},[r]),R=(0,o.useCallback)(()=>{m(!1)},[]),L=(0,o.useCallback)((e,t)=>{("term"===t||"trending"===t||"recent"===t||"viewAll"===t)&&h(e.termo||e),null==c||c(),m(!1)},[c]),I=(0,o.useCallback)(e=>{e&&e.length>=2&&(h(e),C(e),k.push("/busca?q=".concat(encodeURIComponent(e))),m(!1),null==c||c())},[C,k,c]),P=(0,o.useCallback)(e=>{f(e),e&&(h(""),m(!0))},[]);return(0,o.useEffect)(()=>{if(!p)return;let e=!0,t=null,r=!1,n=t=>{e&&S.current&&!S.current.contains(t.target)&&m(!1)};return t=setTimeout(()=>{e&&(document.addEventListener("mousedown",n),r=!0)},50),()=>{e=!1,t&&clearTimeout(t),r&&document.removeEventListener("mousedown",n)}},[p]),(0,n.jsxs)("div",{className:"".concat(y().wrap," ").concat(l?y().wrapExpanded:""),ref:S,children:[(0,n.jsx)("input",{ref:b,type:"text",className:"".concat(y().input," ").concat(v?y().inputListening:""),placeholder:v?"Ouvindo...":u,value:d,onChange:N,onKeyDown:D,onFocus:E,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","aria-label":"Buscar lojas e produtos"}),(0,n.jsx)(a.Search,{size:18,className:y().icon}),j&&(0,n.jsx)(g,{onResult:I,onListeningChange:P,className:y().voiceBtn}),d&&!v&&(0,n.jsx)("button",{className:y().clear,onClick:B,type:"button",title:"Limpar","aria-label":"Limpar busca",children:(0,n.jsx)(a.X,{size:16})}),(0,n.jsx)(x,{query:d,isOpen:p,onClose:R,onSelect:L,inputRef:b})]})}},8148:function(e,t,r){"use strict";r.d(t,{Od:function(){return a},R:function(){return s}});var n=r(7437),o=r(5362),i=r.n(o);function a(e){let{variant:t="text",width:r,height:o,borderRadius:a,animate:s=!0,className:c="",style:l={},children:u,...d}=e,h={text:{width:r||"100%",height:o||"16px",borderRadius:a||"4px"},circle:{width:r||"48px",height:o||r||"48px",borderRadius:"50%"},card:{width:r||"100%",height:o||"200px",borderRadius:a||"var(--radius-card)"},image:{width:r||"100%",height:o||"150px",borderRadius:a||"var(--radius-md)"},button:{width:r||"120px",height:o||"40px",borderRadius:a||"var(--radius-pill)"},avatar:{width:r||"40px",height:o||r||"40px",borderRadius:"50%"},badge:{width:r||"60px",height:o||"24px",borderRadius:a||"var(--radius-pill)"},paragraph:{width:r||"100%",height:o||"auto",borderRadius:a||"4px"}},p=h[t]||h.text;if("paragraph"===t){let e=d.lines||3;return(0,n.jsx)("div",{className:"".concat(i().paragraph," ").concat(c),style:l,children:Array.from({length:e}).map((t,r)=>(0,n.jsx)("div",{className:"".concat(i().skeleton," ").concat(s?i().animate:""),style:{width:r===e-1?"70%":"100%",height:"14px",borderRadius:"4px"},children:s&&(0,n.jsx)("div",{className:i().shimmer})},r))})}return(0,n.jsxs)("div",{className:"".concat(i().skeleton," ").concat(s?i().animate:""," ").concat(c),style:{...p,...l},...d,children:[s&&(0,n.jsx)("div",{className:i().shimmer}),u]})}function s(e){let{compact:t=!1,animate:r=!0}=e;return(0,n.jsxs)("div",{className:"".concat(i().storeCard," ").concat(t?i().storeCardCompact:""),children:[(0,n.jsxs)("div",{className:i().storeCardBanner,children:[r&&(0,n.jsx)("div",{className:i().shimmer}),(0,n.jsx)("div",{className:i().storeCardTimeBadge,children:r&&(0,n.jsx)("div",{className:i().shimmer})})]}),(0,n.jsx)("div",{className:i().storeCardLogo,children:r&&(0,n.jsx)("div",{className:i().shimmer})}),(0,n.jsxs)("div",{className:i().storeCardBody,children:[(0,n.jsx)(a,{variant:"text",width:"70%",height:"18px",animate:r}),(0,n.jsx)(a,{variant:"text",width:"50%",height:"12px",animate:r}),(0,n.jsxs)("div",{className:i().storeCardMeta,children:[(0,n.jsx)(a,{variant:"badge",width:"70px",animate:r}),(0,n.jsx)(a,{variant:"badge",width:"70px",animate:r})]})]})]})}},6971:function(e,t,r){"use strict";r.d(t,{J:function(){return c},z:function(){return l}});var n=r(7437),o=r(2265),i=r(6428),a=r(7128);let s=(0,o.createContext)(null);function c(e){let{children:t}=e,{isAuthenticated:r}=(0,a.a)(),[c,l]=(0,o.useState)([]),[u,d]=(0,o.useState)(0),[h,p]=(0,o.useState)(null),m=(0,o.useRef)(0),x=(0,o.useRef)(null),_=(0,o.useRef)(!0),v=(0,o.useRef)(null),f=(0,o.useCallback)(async()=>{if((0,i.LP)())try{var e;let t=await (0,i.SC)("/notifications/list.php",{unread:1});if(!_.current)return;let r=null!==(e=t.unread_count)&&void 0!==e?e:0;if(r>m.current&&null!==m.current){let e=r-m.current;p(1===e?"Nova notificacao recebida":"".concat(e," novas notificacoes")),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{_.current&&p(null)},3500)}m.current=r,d(r)}catch(e){}},[]),g=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if((0,i.LP)())try{var t,r,n;let o=await (0,i.SC)("/notifications/list.php",{page:e,limit:20});if(!_.current)return null;return l(null!==(t=o.notifications)&&void 0!==t?t:[]),d(null!==(r=o.unread_count)&&void 0!==r?r:0),m.current=null!==(n=o.unread_count)&&void 0!==n?n:0,o}catch(e){return null}},[]),j=(0,o.useCallback)(async e=>{try{await (0,i.sg)("/notifications/list.php",{id:e}),l(t=>t.map(t=>t.id===e?{...t,is_read:!0}:t)),d(e=>Math.max(0,e-1))}catch(e){}},[]),w=(0,o.useCallback)(async()=>{try{await (0,i.sg)("/notifications/list.php",{}),l(e=>e.map(e=>({...e,is_read:!0}))),d(0),m.current=0}catch(e){}},[]);return(0,o.useEffect)(()=>(_.current=!0,r?(f(),x.current=setInterval(f,3e4)):(l([]),d(0),m.current=0),()=>{_.current=!1,x.current&&(clearInterval(x.current),x.current=null),v.current&&(clearTimeout(v.current),v.current=null)}),[r,f]),(0,n.jsxs)(s.Provider,{value:{notifications:c,unreadCount:u,fetchNotifications:g,markAsRead:j,markAllAsRead:w},children:[t,h&&(0,n.jsxs)("div",{style:{position:"fixed",top:"16px",left:"50%",transform:"translateX(-50%)",zIndex:"var(--z-toast, 1100)",padding:"10px 20px",borderRadius:"var(--radius-pill)",background:"var(--color-accent, #16a34a)",color:"#fff",fontSize:"14px",fontWeight:500,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",animation:"notifSlideDown 0.3s ease",display:"flex",alignItems:"center",gap:"8px",pointerEvents:"none"},children:[(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,n.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),h]}),(0,n.jsx)("style",{children:"\n        @keyframes notifSlideDown {\n          from { opacity: 0; transform: translateX(-50%) translateY(-10px); }\n          to { opacity: 1; transform: translateX(-50%) translateY(0); }\n        }\n      "})]})}function l(){let e=(0,o.useContext)(s);if(!e)throw Error("useNotifications must be used within NotificationProvider");return e}},955:function(e,t,r){"use strict";r.d(t,{MQ:function(){return i},W7:function(){return a}});var n=r(7437),o=r(2265);function i(){let{onLoadMore:e,hasMore:t=!0,loading:r=!1,threshold:n=.1,rootMargin:i="200px"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,o.useRef)(null),[s,c]=(0,o.useState)(!1),l=(0,o.useRef)(null),u=(0,o.useRef)(e);(0,o.useEffect)(()=>{u.current=e},[e]);let d=(0,o.useCallback)(e=>{let[n]=e;c(n.isIntersecting),n.isIntersecting&&t&&!r&&u.current&&u.current()},[t,r]);return(0,o.useEffect)(()=>{let e=a.current;if(e)return l.current&&l.current.disconnect(),l.current=new IntersectionObserver(d,{root:null,rootMargin:i,threshold:n}),l.current.observe(e),()=>{l.current&&l.current.disconnect()}},[d,i,n]),{sentinelRef:a,isIntersecting:s}}function a(e){let{sentinelRef:t,loading:r=!1,hasMore:o=!0,loadingText:i="Carregando...",endText:a="Fim dos resultados",showEndMessage:c=!0,className:l=""}=e;return(0,n.jsxs)("div",{ref:t,className:l,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px 16px",minHeight:60},children:[r&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,color:"var(--color-text-muted)",fontSize:14},children:[(0,n.jsx)(s,{}),(0,n.jsx)("span",{children:i})]}),!r&&!o&&c&&(0,n.jsx)("div",{style:{color:"var(--color-text-muted)",fontSize:13,textAlign:"center"},children:a})]})}function s(e){let{size:t=20}=e;return(0,n.jsx)("div",{style:{width:t,height:t,border:"2px solid var(--color-border)",borderTopColor:"var(--color-accent)",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}if("undefined"!=typeof document){let e="infinite-scroll-styles";if(!document.getElementById(e)){let t=document.createElement("style");t.id=e,t.textContent="\n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n    ",document.head.appendChild(t)}}},1414:function(e,t,r){"use strict";r.d(t,{u:function(){return i}});var n=r(2265);let o="superbora_search_history";function i(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{try{let e=localStorage.getItem(o);if(e){let r=JSON.parse(e);Array.isArray(r)&&t(r.slice(0,10))}}catch(e){console.warn("Failed to load search history:",e)}i(!0)},[]);let a=(0,n.useCallback)(e=>{try{localStorage.setItem(o,JSON.stringify(e))}catch(e){console.warn("Failed to save search history:",e)}},[]),s=(0,n.useCallback)(e=>{if(!e||"string"!=typeof e)return;let r=e.trim();r.length<2||t(e=>{let t=e.filter(e=>e.term.toLowerCase()!==r.toLowerCase()),n=[{term:r,timestamp:Date.now()},...t].slice(0,10);return a(n),n})},[a]),c=(0,n.useCallback)(e=>{t(t=>{let r=t.filter(t=>t.term.toLowerCase()!==e.toLowerCase());return a(r),r})},[a]),l=(0,n.useCallback)(()=>{t([]);try{localStorage.removeItem(o)}catch(e){console.warn("Failed to clear search history:",e)}},[]),u=(0,n.useCallback)(()=>e.map(e=>e.term),[e]);return{history:e,terms:e.map(e=>e.term),isLoaded:r,addSearch:s,removeSearch:c,clearHistory:l,getTerms:u,isEmpty:0===e.length}}},941:function(e,t,r){"use strict";r.d(t,{TL:function(){return i},bh:function(){return a}});var n=r(2265),o=r(2464);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onResult:t,onInterim:r,onError:i,lang:a="pt-BR",continuous:s=!1,silenceTimeout:c=3e3}=e,[l,u]=(0,n.useState)("idle"),[d,h]=(0,n.useState)(!1),[p,m]=(0,n.useState)(""),[x,_]=(0,n.useState)(""),[v,f]=(0,n.useState)(null),[g,j]=(0,n.useState)(!1),w=(0,n.useRef)(null),b=(0,n.useRef)(null),y=(0,n.useRef)(!1),S=(0,n.useRef)("idle"),{tap:k,success:C,error:N}=(0,o.$s)(),B=(0,n.useRef)(t),D=(0,n.useRef)(r),E=(0,n.useRef)(i),R=(0,n.useRef)(C),L=(0,n.useRef)(N);B.current=t,D.current=r,E.current=i,R.current=C,L.current=N,(0,n.useEffect)(()=>{y.current=d},[d]),(0,n.useEffect)(()=>{S.current=l},[l]);let I=(0,n.useCallback)(()=>{b.current&&(clearTimeout(b.current),b.current=null)},[]),P=(0,n.useCallback)(()=>{I(),b.current=setTimeout(()=>{w.current&&y.current&&w.current.stop()},c)},[I,c]);(0,n.useEffect)(()=>{let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(j(!!e),e&&!w.current){let t=new e;t.lang=a,t.interimResults=!0,t.continuous=s,t.maxAlternatives=1,t.onstart=()=>{u("listening"),h(!0),f(null),m(""),_(""),P()},t.onresult=e=>{var t,r;let n="",o="";for(let t=e.resultIndex;t<e.results.length;t++){let r=e.results[t];r.isFinal?o+=r[0].transcript:n+=r[0].transcript}(n||o)&&P(),_(n),null===(t=D.current)||void 0===t||t.call(D,n),o&&(u("processing"),m(o.trim()),R.current(),null===(r=B.current)||void 0===r||r.call(B,o.trim()))},t.onerror=e=>{var t;I();let r="Erro no reconhecimento de voz";switch(e.error){case"no-speech":r="Nenhuma fala detectada. Tente novamente.";break;case"audio-capture":r="Microfone nao encontrado. Verifique seu dispositivo.";break;case"not-allowed":r="Permissao de microfone negada. Habilite nas configuracoes.";break;case"network":r="Erro de conexao. Verifique sua internet.";break;case"aborted":u("idle"),h(!1);return;case"service-not-allowed":r="Servico de voz nao disponivel.";break;default:r="Erro: ".concat(e.error)}u("error"),f(r),h(!1),L.current(),null===(t=E.current)||void 0===t||t.call(E,e.error,r)},t.onend=()=>{I(),h(!1),"error"!==S.current&&u("idle")},t.onspeechend=()=>{!s&&w.current&&w.current.stop()},w.current=t}return()=>{if(I(),w.current)try{w.current.abort()}catch(e){}}},[a,s,P,I]);let V=(0,n.useCallback)(async()=>{if(!g)return f("Busca por voz nao suportada neste navegador. Tente Chrome ou Edge."),u("error"),N(),!1;if(!w.current)return f("Reconhecimento de voz nao inicializado."),u("error"),N(),!1;try{await navigator.mediaDevices.getUserMedia({audio:!0})}catch(t){let e="Permissao de microfone negada. Habilite nas configuracoes do navegador.";return f(e),u("error"),N(),null==i||i("permission-denied",e),!1}k();try{return u("listening"),w.current.start(),!0}catch(e){if("InvalidStateError"===e.name)return!0;return f("Erro ao iniciar reconhecimento de voz."),u("error"),N(),!1}},[g,k,N,i]),z=(0,n.useCallback)(()=>{if(I(),w.current&&d)try{w.current.stop()}catch(e){}h(!1),u("idle")},[d,I]),W=(0,n.useCallback)(()=>{d?z():V()},[d,V,z]),A=(0,n.useCallback)(()=>{if(I(),w.current)try{w.current.abort()}catch(e){}h(!1),u("idle"),m(""),_("")},[I]),T=(0,n.useCallback)(()=>{m(""),_(""),f(null),u("idle")},[]),F=(0,n.useCallback)(()=>{f(null),"error"===l&&u("idle")},[l]);return{status:l,isListening:d,transcript:p,interimTranscript:x,error:v,isSupported:g,startListening:V,stopListening:z,toggleListening:W,abort:A,clear:T,clearError:F,displayText:x||p,hasResult:p.length>0}}function a(){return!!(window.SpeechRecognition||window.webkitSpeechRecognition)}},9230:function(e){e.exports={dropdown:"SearchDropdown_dropdown___nss4",slideDown:"SearchDropdown_slideDown__jHxHl",loading:"SearchDropdown_loading__m3BSl",spinner:"SearchDropdown_spinner__UqjNL",spin:"SearchDropdown_spin__7l1cH",section:"SearchDropdown_section__BL4nM",sectionHeader:"SearchDropdown_sectionHeader__WsyPW",clearBtn:"SearchDropdown_clearBtn__bTNgd",filtersSection:"SearchDropdown_filtersSection__aqc_2",filterChips:"SearchDropdown_filterChips__vFnsP",filterChip:"SearchDropdown_filterChip__miwrb",item:"SearchDropdown_item__N2Wy_",itemSelected:"SearchDropdown_itemSelected__q6JOM",itemIconWrap:"SearchDropdown_itemIconWrap__yRs4j",itemImg:"SearchDropdown_itemImg__3Pn7n",itemImgPlaceholder:"SearchDropdown_itemImgPlaceholder__3e7hF",itemContent:"SearchDropdown_itemContent__h4xhv",itemName:"SearchDropdown_itemName__sK32s",itemSub:"SearchDropdown_itemSub__vC3fQ",itemText:"SearchDropdown_itemText__0lCox",itemMeta:"SearchDropdown_itemMeta__YuYDo",itemPrice:"SearchDropdown_itemPrice__ozUaz",priceOld:"SearchDropdown_priceOld__N33ea",pricePromo:"SearchDropdown_pricePromo__zrbrq",removeBtn:"SearchDropdown_removeBtn__pX2P2",badgeOpen:"SearchDropdown_badgeOpen__sjBAg",badgeClosed:"SearchDropdown_badgeClosed__ByLXW",rating:"SearchDropdown_rating__Sg0s4",trendingGrid:"SearchDropdown_trendingGrid__7haDN",trendingPill:"SearchDropdown_trendingPill__xyTo_",trendingPillSelected:"SearchDropdown_trendingPillSelected__u5Q0_",trendingEmoji:"SearchDropdown_trendingEmoji__kRWKo",categoryGrid:"SearchDropdown_categoryGrid__uQ3oV",categoryBtn:"SearchDropdown_categoryBtn__J8PxZ",categoryBtnSelected:"SearchDropdown_categoryBtnSelected__60chG",categoryEmoji:"SearchDropdown_categoryEmoji__owmjT",categoryLabel:"SearchDropdown_categoryLabel__N6Rkq",viewAllBtn:"SearchDropdown_viewAllBtn__v8XG2",viewAllArrow:"SearchDropdown_viewAllArrow__4FKMy",viewAllBtnEmpty:"SearchDropdown_viewAllBtnEmpty__Pto36",empty:"SearchDropdown_empty__Qm3nJ"}},2687:function(e){e.exports={wrap:"SearchInput_wrap__zrSfi",wrapExpanded:"SearchInput_wrapExpanded__CQcDt",input:"SearchInput_input__PhaLJ",icon:"SearchInput_icon__AuuWr",inputListening:"SearchInput_inputListening__qwtrv",clear:"SearchInput_clear__fh5oF",voiceBtn:"SearchInput_voiceBtn__t12U5"}},8786:function(e){e.exports={wrapper:"VoiceSearchButton_wrapper__j63zt",button:"VoiceSearchButton_button__6GFqz",sm:"VoiceSearchButton_sm__GdTY_",md:"VoiceSearchButton_md__Ds1cb",lg:"VoiceSearchButton_lg__zwZEA",default:"VoiceSearchButton_default__48yaP",filled:"VoiceSearchButton_filled__HrqSk",outline:"VoiceSearchButton_outline__STuqk",disabled:"VoiceSearchButton_disabled__ykyO8",listening:"VoiceSearchButton_listening__wG2xH",error:"VoiceSearchButton_error__p6uuz",shake:"VoiceSearchButton_shake__ELmWf",icon:"VoiceSearchButton_icon__u_L0l",pulse:"VoiceSearchButton_pulse__JJm1r",pulseOuter:"VoiceSearchButton_pulseOuter__lVHd1",voicePulse:"VoiceSearchButton_voicePulse__d_yYM",waveform:"VoiceSearchButton_waveform__NA2Cu",bar:"VoiceSearchButton_bar__sGxIw",waveBar:"VoiceSearchButton_waveBar__FLGwo",label:"VoiceSearchButton_label__mTXXS",fadeIn:"VoiceSearchButton_fadeIn__y_aoi",errorTooltip:"VoiceSearchButton_errorTooltip__LFtap",slideDown:"VoiceSearchButton_slideDown__RVo06",errorText:"VoiceSearchButton_errorText__XzoFJ",errorClose:"VoiceSearchButton_errorClose__Wkge6",inlineButton:"VoiceSearchButton_inlineButton__amsEa",inlineListening:"VoiceSearchButton_inlineListening__yfLor",inlinePulse:"VoiceSearchButton_inlinePulse__NqSGH"}},5362:function(e){e.exports={skeleton:"Skeleton_skeleton__QZ41i",shimmer:"Skeleton_shimmer__KGRPI",card:"Skeleton_card__AWRZ8",body:"Skeleton_body__RoXr8",meta:"Skeleton_meta__G3Gwr"}}}]);