(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7633],{7122:function(e,t,a){"use strict";a.d(t,{I:function(){return p}});var r=a(7437),i=a(2265),l=a(5214),o=a(9364),n=a(5228),s=a(7650),c=a(2004),d=a(3093),u=a.n(d);let _={vegano:{label:"Vegano",icon:"leaf",color:"#2E7D32",bg:"#E8F5E9"},sem_gluten:{label:"Sem Gluten",icon:null,color:"#E65100",bg:"#FFF3E0"},sem_lactose:{label:"Sem Lactose",icon:null,color:"#1565C0",bg:"#E3F2FD"},organico:{label:"Organico",icon:"organic",color:"#33691E",bg:"#F1F8E9"},zero_acucar:{label:"Zero Acucar",icon:null,color:"#AD1457",bg:"#FCE4EC"},integral:{label:"Integral",icon:"grain",color:"#795548",bg:"#EFEBE9"}};function m(e){let{tags:t}=e;return t&&Array.isArray(t)&&0!==t.length?(0,r.jsx)("div",{className:u().dietaryBadges,children:t.slice(0,2).map(e=>{let t=_[e];return t?(0,r.jsxs)("span",{className:u().dietaryBadge,style:{color:t.color,background:t.bg},children:["leaf"===t.icon&&(0,r.jsxs)("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M17 8C8 10 5.9 16.17 3.82 21.34l1.89.66c.61-1.51 1.39-3.09 2.55-4.4C10.42 15.17 13.29 14 17 14V8z"}),(0,r.jsx)("path",{d:"M20.88 3.12C20.13 2.37 18.2 2 15.9 2.16c-2.3.16-5.09.88-7.37 2.64A13.82 13.82 0 004 12.25c.25-.12.5-.22.76-.3 1.07-3.06 3.09-5.37 5.47-7.1 1.6-1.16 3.45-1.93 5.34-2.26-.55.71-1.15 1.61-1.67 2.67-1.66 3.38-2.58 8.27-.66 12.12.7-.9 1.41-1.98 2-3.25C17.35 9.77 18.1 5 20.88 3.12z"})]}),"organic"===t.icon&&(0,r.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 6c-1 2-3 4-3 6s1.34 4 3 4 3-2 3-4-2-4-3-6z"})}),"grain"===t.icon&&(0,r.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,r.jsx)("path",{d:"M2 22L12 2l10 20H2z"})}),(0,r.jsx)("span",{children:t.label})]},e):null})}):null}function h(e){if(!e||"string"!=typeof e)return 0;let[t,a]=e.split(":").map(Number);return 60*(t||0)+(a||0)}let p=(0,i.memo)(function(e){let{product:t,partnerId:a,partnerName:d,onDetail:_,storeOpen:p=!0,onAddOverride:g,compact:x=!1}=e,{addItem:b,removeItem:v,getItemQuantity:P}=(0,o.j)(),{isInWishlist:y,toggleWishlist:f}=(0,n.E)(),C=P(t.id),j=t.preco_promo&&t.preco_promo<t.preco,N=j?t.preco_promo:t.preco,w=j?t.desconto||Math.round((t.preco-t.preco_promo)/t.preco*100):0,[k,D]=(0,i.useState)(!1),[B,M]=(0,i.useState)(!1),[S,E]=(0,i.useState)(!1),I=(0,i.useRef)(!1),L=y(t.id);(0,i.useEffect)(()=>{D(!0)},[]);let z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!e.start||!e.end||!t)return{available:!0,nextTime:null};try{let t;let a=new Date,r=new Intl.DateTimeFormat("pt-BR",{timeZone:"America/Sao_Paulo",hour:"numeric",minute:"numeric",weekday:"short"}).formatToParts(a),i=r.find(e=>"hour"===e.type),l=r.find(e=>"minute"===e.type),o=r.find(e=>"weekday"===e.type),n=parseInt((null==i?void 0:i.value)||"0",10),s=parseInt((null==l?void 0:l.value)||"0",10),c=((null==o?void 0:o.value)||"").toLowerCase().slice(0,3),d=60*n+s,u=h(e.start),_=h(e.end);if(e.days&&Array.isArray(e.days)&&!e.days.includes({dom:"dom",seg:"seg",ter:"ter",qua:"qua",qui:"qui",sex:"sex",sáb:"sab",sab:"sab"}[c]||"seg"))return{available:!1,nextTime:e.start};return{available:t=u<=_?d>=u&&d<_:d>=u||d<_,nextTime:t?null:e.start}}catch(e){return console.warn("[ProductCard] Schedule check error:",e.message),{available:!0,nextTime:null}}}(t.availability_schedule,k),O=!1!==t.disponivel_agora&&z.available,A=!1!==t.disponivel&&t.estoque>0&&p&&O,R=(0,i.useCallback)(async e=>{if(e.stopPropagation(),e.preventDefault(),I.current)return;I.current=!0,M(!0),L||(E(!0),setTimeout(()=>E(!1),600));let r={...t,partner_id:a};await f(r),setTimeout(()=>{I.current=!1,M(!1)},300)},[L,t,a,f]);return(0,r.jsxs)("div",{className:"".concat(u().card," ").concat(x?u().compact:""," ").concat(A?"":u().unavailable),onClick:()=>A&&(null==_?void 0:_(t)),role:_&&A?"button":void 0,style:_&&A?{cursor:"pointer"}:void 0,children:[(0,r.jsxs)("div",{className:u().imgWrap,children:[t.imagem?(0,r.jsx)(c.dg,{src:t.imagem,alt:t.nome,aspectRatio:"1/1",className:u().imgContainer,imgClassName:u().img,fallback:"/placeholder-product.png"}):(0,r.jsx)("div",{className:u().imgPlaceholderWrap,children:(0,r.jsx)(l.Package,{size:32,className:u().imgPlaceholder})}),j&&w>0&&A&&(0,r.jsxs)("span",{className:u().promoBadge,children:["-",w,"%"]}),!A&&(0,r.jsx)("span",{className:u().unavailableBadge,children:p?!O&&z.nextTime?"Disponivel as ".concat(z.nextTime):"Indisponivel":"Loja fechada"}),(0,r.jsxs)("button",{className:"".concat(u().favBtn," ").concat(B?u().favAnimating:""),onClick:R,type:"button","aria-label":L?"Remover dos favoritos":"Adicionar aos favoritos","aria-pressed":L,children:[S&&(0,r.jsx)("span",{className:u().burst,children:[...Array(6)].map((e,t)=>(0,r.jsx)("span",{className:u().particle,style:{"--particle-angle":"".concat(60*t,"deg")}},t))}),(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:L?"#e74c3c":"none",stroke:L?"#e74c3c":"#999",strokeWidth:"2",className:u().favIcon,children:(0,r.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})]})]}),(0,r.jsxs)("div",{className:u().body,children:[(0,r.jsx)("div",{className:u().name,children:t.nome}),t.unidade&&(0,r.jsx)("div",{className:u().unit,children:t.unidade}),(0,r.jsx)(m,{tags:t.dietary_tags}),(0,r.jsxs)("div",{className:u().priceRow,children:[(0,r.jsxs)("div",{children:[j&&(0,r.jsx)("span",{className:u().priceOriginal,children:(0,s.o_)(t.preco)}),(0,r.jsx)("span",{className:"".concat(u().price," ").concat(j?u().pricePromo:""),children:(0,s.o_)(N)})]}),A?C>0?(0,r.jsxs)("div",{className:u().qtyControls,onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{className:u().qtyBtn,onClick:()=>v(t.id),type:"button",children:(0,r.jsx)(l.Minus,{size:14})}),(0,r.jsx)("span",{className:u().qty,children:C}),(0,r.jsx)("button",{className:"".concat(u().qtyBtn," ").concat(u().qtyBtnAdd),onClick:()=>b(t,a,d),type:"button",children:(0,r.jsx)(l.Plus,{size:14})})]}):(0,r.jsx)("button",{className:u().addBtn,onClick:e=>{e.stopPropagation(),g?g(t):b(t,a,d)},type:"button",children:(0,r.jsx)(l.Plus,{size:16})}):null]})]})]})})},5600:function(e,t,a){"use strict";a.d(t,{B:function(){return L}});var r=a(7437),i=a(2265),l=a(5214),o=a(9364),n=a(4609),s=a(7650),c=a(5086),d=a(1263),u=a.n(d);function _(e){let{images:t=[],initialIndex:a=0,alt:o="Image",onClose:s,onIndexChange:c}=e,[d,_]=(0,i.useState)(a),[m,h]=(0,i.useState)(1),[p,g]=(0,i.useState)({x:0,y:0}),[x,b]=(0,i.useState)(!1),[v,P]=(0,i.useState)({x:0,y:0}),[y,f]=(0,i.useState)(0),[C,j]=(0,i.useState)(1),[N,w]=(0,i.useState)(0),[k,D]=(0,i.useState)(!1),B=(0,i.useRef)({startY:0,velocity:0,lastY:0,lastTime:0}),M=(0,i.useRef)(null),S=(0,i.useRef)(null),{light:E}=(0,n.Cv)(),I=t.length,L=t[d];(0,i.useEffect)(()=>{h(1),g({x:0,y:0}),null==c||c(d)},[d,c]),(0,i.useEffect)(()=>{let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[]);let z=(0,i.useCallback)(()=>{m>1||_(e=>(e+1)%I)},[I,m]),O=(0,i.useCallback)(()=>{m>1||_(e=>(e-1+I)%I)},[I,m]);(0,i.useEffect)(()=>{let e=e=>{switch(e.key){case"Escape":null==s||s();break;case"ArrowRight":z();break;case"ArrowLeft":O()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,z,O]);let A=e=>{if(!e||e.length<2)return 0;let t=e[0],a=e[1];if(!t||!a)return 0;let r=t.clientX-a.clientX,i=t.clientY-a.clientY;return Math.sqrt(r*r+i*i)},R=(0,i.useCallback)(e=>{2===e.touches.length?(e.preventDefault(),f(A(e.touches)),j(m)):1===e.touches.length&&m>1&&(b(!0),P({x:e.touches[0].clientX-p.x,y:e.touches[0].clientY-p.y}))},[m,p]),T=(0,i.useCallback)(e=>{if(2===e.touches.length){e.preventDefault();let t=A(e.touches);if(y>0){let e=t/y*C;h(e=Math.min(Math.max(e,1),4)),e<=1&&g({x:0,y:0})}}else if(1===e.touches.length&&x&&m>1){e.preventDefault();let t=e.touches[0].clientX-v.x,a=e.touches[0].clientY-v.y,r=M.current,i=S.current;if(r&&i){let e=(i.offsetWidth*m-r.offsetWidth)/2,l=(i.offsetHeight*m-r.offsetHeight)/2;g({x:Math.max(-e,Math.min(e,t)),y:Math.max(-l,Math.min(l,a))})}}},[y,C,x,v,m]),q=(0,i.useCallback)(e=>{if(b(!1),f(0),1===m&&k){let e=B.current.velocity;Math.abs(N)>100||e>.5?(E(),null==s||s()):w(0),D(!1),B.current={startY:0,velocity:0,lastY:0,lastTime:0}}},[m,k,N,E,s]),F=(0,i.useRef)(0),H=(0,i.useCallback)(e=>{let t=Date.now();if(t-F.current<300){if(e.preventDefault(),m>1)h(1),g({x:0,y:0});else{var a;(null===(a=M.current)||void 0===a?void 0:a.getBoundingClientRect())&&h(2.5)}}F.current=t},[m]),[W,Y]=(0,i.useState)(null),[V,G]=(0,i.useState)(null),Q=(0,i.useCallback)(e=>{1===e.touches.length&&1===m&&(Y(e.touches[0].clientX),G(e.touches[0].clientY),B.current={startY:e.touches[0].clientY,velocity:0,lastY:e.touches[0].clientY,lastTime:Date.now()})},[m]),X=(0,i.useCallback)(e=>{if(1!==m||1!==e.touches.length)return;let t=e.touches[0],a=Date.now(),r=a-B.current.lastTime,i=t.clientY-B.current.lastY;r>0&&(B.current.velocity=Math.abs(i/r)),B.current.lastY=t.clientY,B.current.lastTime=a;let l=t.clientY-B.current.startY;Math.abs(l)>20&&!W&&(D(!0),w(l))},[m,W]),U=(0,i.useCallback)(e=>{if(null!==W&&1===m&&!k&&e.changedTouches&&e.changedTouches.length>0){let t=W-e.changedTouches[0].clientX;Math.abs(t)>50&&(t>0?z():O())}Y(null),G(null)},[W,m,z,O,k]),J=(0,i.useCallback)(e=>{e.target===M.current&&(null==s||s())},[s]);return L?(0,r.jsxs)("div",{className:u().overlay,role:"dialog","aria-modal":"true","aria-label":"Visualizador de imagens",children:[(0,r.jsx)("button",{className:u().closeBtn,onClick:s,"aria-label":"Fechar",type:"button",children:(0,r.jsx)(l.X,{size:24})}),I>1&&(0,r.jsxs)("div",{className:u().counter,children:[d+1," / ",I]}),(0,r.jsx)("div",{ref:M,className:"".concat(u().container," ").concat(k?u().dismissing:""),onClick:J,onTouchStart:e=>{R(e),Q(e)},onTouchMove:e=>{T(e),X(e)},onTouchEnd:e=>{q(e),U(e)},style:{opacity:k?Math.max(.3,1-Math.abs(N)/300):1},children:(0,r.jsx)("div",{className:u().imageWrapper,style:{transform:k?"translate(".concat(p.x,"px, ").concat(p.y+N,"px) scale(").concat(m,")"):"translate(".concat(p.x,"px, ").concat(p.y,"px) scale(").concat(m,")"),transition:x||k?"none":"transform 200ms ease-out"},onClick:H,children:(0,r.jsx)("img",{ref:S,src:L,alt:"".concat(o," ").concat(d+1),className:u().image,draggable:!1})})}),I>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"".concat(u().navBtn," ").concat(u().navBtnPrev),onClick:O,"aria-label":"Imagem anterior",type:"button",disabled:m>1,children:(0,r.jsx)(l.ChevronLeft,{size:28})}),(0,r.jsx)("button",{className:"".concat(u().navBtn," ").concat(u().navBtnNext),onClick:z,"aria-label":"Proxima imagem",type:"button",disabled:m>1,children:(0,r.jsx)(l.ChevronRight,{size:28})})]}),I>1&&(0,r.jsx)("div",{className:u().thumbnails,children:t.map((e,t)=>(0,r.jsx)("button",{className:"".concat(u().thumbnail," ").concat(t===d?u().thumbnailActive:""),onClick:()=>_(t),type:"button","aria-label":"Ver imagem ".concat(t+1),children:(0,r.jsx)("img",{src:e,alt:"Miniatura ".concat(t+1),draggable:!1})},e))}),m>1&&(0,r.jsxs)("div",{className:u().zoomIndicator,children:[Math.round(100*m),"%"]})]}):null}var m=a(7073),h=a.n(m);function p(e){let{images:t=[],alt:a="Product image",aspectRatio:o="4/3",showCounter:n=!0,showDots:s=!0,showArrows:c=!0,enableZoom:d=!0,lazy:u=!0,className:m=""}=e,[p,g]=(0,i.useState)(0),[x,b]=(0,i.useState)(!1),[v,P]=(0,i.useState)(null),[y,f]=(0,i.useState)(null),[C,j]=(0,i.useState)(!1),[N,w]=(0,i.useState)(0),k=(0,i.useRef)(null),D=(0,i.useMemo)(()=>t&&0!==t.length?Array.isArray(t)?t.filter(Boolean):[t]:[],[t]),B=D.length,M=(0,i.useCallback)(e=>{0!==B&&(e<0?g(B-1):e>=B?g(0):g(e))},[B]),S=(0,i.useCallback)(()=>{M(p+1)},[p,M]),E=(0,i.useCallback)(()=>{M(p-1)},[p,M]),I=(0,i.useCallback)(e=>{f(null),P(e.targetTouches[0].clientX),j(!0)},[]),L=(0,i.useCallback)(e=>{if(!v)return;let t=e.targetTouches[0].clientX;f(t),w(t-v)},[v]),z=(0,i.useCallback)(()=>{if(!v||!y){j(!1),w(0);return}let e=v-y;Math.abs(e)>50&&(e>0?S():E()),j(!1),w(0),P(null),f(null)},[v,y,S,E]);(0,i.useEffect)(()=>{if(!x)return;let e=e=>{"ArrowRight"===e.key?S():"ArrowLeft"===e.key?E():"Escape"===e.key&&b(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x,S,E]);let O=(0,i.useCallback)(()=>{d&&B>0&&b(!0)},[d,B]),A=(0,i.useRef)(0),R=(0,i.useCallback)(()=>{let e=Date.now();e-A.current<300&&O(),A.current=e},[O]);return 0===B?(0,r.jsx)("div",{className:"".concat(h().gallery," ").concat(m),style:{aspectRatio:o},children:(0,r.jsx)("div",{className:h().placeholder,children:(0,r.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,r.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,r.jsx)("polyline",{points:"21 15 16 10 5 21"})]})})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:k,className:"".concat(h().gallery," ").concat(m),style:{aspectRatio:o},children:[(0,r.jsx)("div",{className:h().track,style:{transform:"translateX(calc(-".concat(100*p,"% + ").concat(C?N:0,"px))"),transition:C?"none":"transform 300ms cubic-bezier(0.32, 0.72, 0, 1)"},onTouchStart:I,onTouchMove:L,onTouchEnd:z,children:D.map((e,t)=>(0,r.jsx)("div",{className:h().slide,onClick:R,children:(0,r.jsx)("img",{src:e,alt:"".concat(a," ").concat(t+1),className:h().image,loading:u&&t>0?"lazy":"eager",draggable:!1})},"".concat(e,"-").concat(t)))}),n&&B>1&&(0,r.jsxs)("div",{className:h().counter,children:[p+1,"/",B]}),c&&B>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"".concat(h().arrow," ").concat(h().arrowLeft),onClick:e=>{e.stopPropagation(),E()},"aria-label":"Imagem anterior",type:"button",children:(0,r.jsx)(l.ChevronLeft,{size:20})}),(0,r.jsx)("button",{className:"".concat(h().arrow," ").concat(h().arrowRight),onClick:e=>{e.stopPropagation(),S()},"aria-label":"Proxima imagem",type:"button",children:(0,r.jsx)(l.ChevronRight,{size:20})})]}),s&&B>1&&(0,r.jsx)("div",{className:h().dots,children:D.map((e,t)=>(0,r.jsx)("button",{className:"".concat(h().dot," ").concat(t===p?h().dotActive:""),onClick:e=>{e.stopPropagation(),M(t)},"aria-label":"Ir para imagem ".concat(t+1),type:"button"},"dot-".concat(e,"-").concat(t)))}),d&&(0,r.jsx)("button",{className:h().zoomOverlay,onClick:O,"aria-label":"Ampliar imagem",type:"button",children:(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,r.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),(0,r.jsx)("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),(0,r.jsx)("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]})})]}),x&&(0,r.jsx)(_,{images:D,initialIndex:p,alt:a,onClose:()=>b(!1),onIndexChange:g})]})}var g=a(2018),x=a.n(g),b=function(e){let{value:t=1,onChange:a,min:o=1,max:n=99,disabled:s=!1,size:c="default"}=e,[d,u]=(0,i.useState)(!1),[_,m]=(0,i.useState)(null),h=(0,i.useCallback)(e=>{if(s)return;let r=Math.max(o,Math.min(n,t+e));r!==t&&(m(e>0?"up":"down"),u(!0),null==a||a(r),setTimeout(()=>u(!1),200))},[t,a,o,n,s]),p=(0,i.useCallback)(()=>h(-1),[h]),g=(0,i.useCallback)(()=>h(1),[h]);return(0,r.jsxs)("div",{className:"".concat(x().container," ").concat(x()[c]," ").concat(s?x().disabled:""),children:[(0,r.jsx)("button",{type:"button",className:"".concat(x().btn," ").concat(x().btnMinus),onClick:p,disabled:s||t<=o,"aria-label":"Diminuir quantidade",children:(0,r.jsx)(l.Minus,{size:"small"===c?16:"large"===c?24:20})}),(0,r.jsx)("div",{className:x().valueWrapper,children:(0,r.jsx)("span",{className:"\n            ".concat(x().value,"\n            ").concat(d?x().animating:"","\n            ").concat("up"===_?x().animateUp:"","\n            ").concat("down"===_?x().animateDown:"","\n          "),children:t})}),(0,r.jsx)("button",{type:"button",className:"".concat(x().btn," ").concat(x().btnPlus),onClick:g,disabled:s||t>=n,"aria-label":"Aumentar quantidade",children:(0,r.jsx)(l.Plus,{size:"small"===c?16:"large"===c?24:20})})]})},v=a(5085),P=a.n(v);let y=(0,i.memo)(function(e){let{option:t,selected:a,disabled:i,isRadio:l,onClick:o}=e;return(0,r.jsxs)("button",{type:"button",className:"\n        ".concat(P().chip,"\n        ").concat(a?P().chipSelected:"","\n        ").concat(i?P().chipDisabled:"","\n      "),onClick:o,disabled:i,children:[(0,r.jsx)("span",{className:P().chipName,children:t.name}),t.price_extra>0&&(0,r.jsxs)("span",{className:P().chipPrice,children:["+",(0,s.o_)(t.price_extra)]}),(0,r.jsx)("div",{className:"".concat(P().chipCheck," ").concat(a?P().chipCheckSelected:""," ").concat(l?P().chipCheckRadio:""),children:a&&(0,r.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,r.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]})}),f=(0,i.memo)(function(e){let{option:t,selected:a,disabled:i,isRadio:o,onClick:n}=e;return(0,r.jsxs)("button",{type:"button",className:"\n        ".concat(P().card,"\n        ").concat(a?P().cardSelected:"","\n        ").concat(i?P().cardDisabled:"","\n      "),onClick:n,disabled:i,children:[t.image?(0,r.jsx)("img",{src:t.image,alt:t.name,className:P().cardImg,loading:"lazy"}):(0,r.jsx)("div",{className:P().cardImgPlaceholder,children:(0,r.jsx)(l.Package,{size:20})}),(0,r.jsxs)("div",{className:P().cardInfo,children:[(0,r.jsx)("span",{className:P().cardName,children:t.name}),t.description&&(0,r.jsx)("span",{className:P().cardDesc,children:t.description})]}),(0,r.jsxs)("div",{className:P().cardRight,children:[t.price_extra>0&&(0,r.jsxs)("span",{className:P().cardPrice,children:["+",(0,s.o_)(t.price_extra)]}),(0,r.jsx)("div",{className:"".concat(P().cardCheck," ").concat(a?P().cardCheckSelected:""," ").concat(o?P().cardCheckRadio:""),children:a&&(0,r.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,r.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]})]})});var C=function(e){let{groups:t=[],selectedOptions:a={},onOptionChange:o,validation:n=[],displayMode:s="auto"}=e,[c,d]=(0,i.useState)(()=>{let e={};return t.forEach((t,a)=>{e[t.id]=!t.required&&a>0}),e}),u=(0,i.useCallback)(e=>{d(t=>({...t,[e]:!t[e]}))},[]),_=(0,i.useCallback)((e,t)=>{let r;let i=a[e.id]||[],l=i.find(e=>e.id===t.id);if(1===e.max_select)r=l?e.required&&e.min_select>0?i:[]:[t];else if(l)r=i.filter(e=>e.id!==t.id);else{if(i.length>=e.max_select)return;r=[...i,t]}null==o||o(e.id,r)},[a,o]),m=(0,i.useCallback)((e,t)=>(a[e]||[]).some(e=>e.id===t),[a]);return t&&0!==t.length?(0,r.jsx)("div",{className:P().container,children:t.map(e=>{if(!e.options||0===e.options.length)return null;let t=(a[e.id]||[]).length,i=1===e.max_select,o=n.includes(e.name),d=c[e.id],h="chips"===s||"auto"===s&&e.options.length<=4&&!e.options.some(e=>e.image);return(0,r.jsxs)("div",{className:P().group,children:[(0,r.jsxs)("button",{type:"button",className:"".concat(P().groupHeader," ").concat(o?P().groupMissing:""),onClick:()=>u(e.id),children:[(0,r.jsxs)("div",{className:P().groupLeft,children:[(0,r.jsxs)("div",{className:P().groupTitleRow,children:[(0,r.jsx)("h3",{className:P().groupName,children:e.name}),e.required&&(0,r.jsx)("span",{className:P().requiredBadge,children:"Obrigatorio"})]}),(0,r.jsxs)("span",{className:P().groupHint,children:[i?"Escolha 1 opcao":e.min_select>0?"Escolha de ".concat(e.min_select," a ").concat(e.max_select):"Escolha ate ".concat(e.max_select),!i&&t>0&&(0,r.jsxs)("span",{className:P().selectedCount,children:[" (",t,"/",e.max_select,")"]})]})]}),(0,r.jsx)(l.ChevronDown,{size:20,className:"".concat(P().chevron," ").concat(d?"":P().chevronOpen)})]}),!d&&(0,r.jsx)("div",{className:"".concat(P().optionList," ").concat(h?P().chipLayout:P().cardLayout),children:e.options.map(a=>{let l=m(e.id,a.id),o=!l&&!i&&t>=e.max_select;return h?(0,r.jsx)(y,{option:a,selected:l,disabled:o,isRadio:i,onClick:()=>!o&&_(e,a)},a.id):(0,r.jsx)(f,{option:a,selected:l,disabled:o,isRadio:i,onClick:()=>!o&&_(e,a)},a.id)})})]},e.id)})}):null},j=a(7685),N=a.n(j);let w={gluten:{icon:"\uD83C\uDF3E",label:"Gluten"},dairy:{icon:"\uD83E\uDD5B",label:"Lactose"},eggs:{icon:"\uD83E\uDD5A",label:"Ovos"},nuts:{icon:"\uD83E\uDD5C",label:"Nozes"},peanuts:{icon:"\uD83E\uDD5C",label:"Amendoim"},soy:{icon:"\uD83E\uDED8",label:"Soja"},fish:{icon:"\uD83D\uDC1F",label:"Peixe"},shellfish:{icon:"\uD83E\uDD90",label:"Frutos do mar"},sesame:{icon:"\uD83C\uDF31",label:"Gergelim"},sulfites:{icon:"\uD83C\uDF77",label:"Sulfitos"},celery:{icon:"\uD83E\uDD6C",label:"Aipo"},mustard:{icon:"\uD83C\uDF3F",label:"Mostarda"},lupin:{icon:"\uD83C\uDF38",label:"Tremocos"},molluscs:{icon:"\uD83D\uDC1A",label:"Moluscos"}};var k=function(e){let{nutritionalInfo:t=null,allergens:a=[],calories:o=null,servingSize:n=null}=e,[s,c]=(0,i.useState)(!1),d=t&&Object.keys(t).length>0,u=a&&a.length>0,_=null!=o;return d||u||_?(0,r.jsxs)("div",{className:N().container,children:[u&&(0,r.jsxs)("div",{className:N().allergenSection,children:[(0,r.jsxs)("div",{className:N().allergenHeader,children:[(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,r.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,r.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),(0,r.jsx)("span",{className:N().allergenTitle,children:"Alergenos"})]}),(0,r.jsx)("div",{className:N().allergenList,children:a.map(e=>{let t=w[e.toLowerCase()]||{icon:"⚠️",label:e};return(0,r.jsxs)("div",{className:N().allergenChip,children:[(0,r.jsx)("span",{className:N().allergenIcon,children:t.icon}),(0,r.jsx)("span",{className:N().allergenLabel,children:t.label})]},e)})})]}),_&&(0,r.jsxs)("div",{className:N().caloriesRow,children:[(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M12 2a10 10 0 0 0-7.35 16.76 10 10 0 0 0 14.7 0A10 10 0 0 0 12 2z"}),(0,r.jsx)("path",{d:"M12 6v6l4 2"})]}),(0,r.jsxs)("span",{className:N().caloriesValue,children:[o," kcal"]}),n&&(0,r.jsxs)("span",{className:N().servingSize,children:["por ",n]})]}),d&&(0,r.jsxs)("div",{className:N().nutritionalSection,children:[(0,r.jsxs)("button",{type:"button",className:N().expandBtn,onClick:()=>c(!s),children:[(0,r.jsxs)("div",{className:N().expandLeft,children:[(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,r.jsx)("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),(0,r.jsx)("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),(0,r.jsx)("span",{children:"Informacao nutricional"})]}),(0,r.jsx)(l.ChevronDown,{size:18,className:"".concat(N().expandChevron," ").concat(s?N().expanded:"")})]}),s&&(0,r.jsxs)("div",{className:N().nutritionalTable,children:[n&&(0,r.jsxs)("div",{className:N().servingHeader,children:["Porcao: ",n]}),(0,r.jsx)("div",{className:N().tableContent,children:Object.entries(t).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{className:N().tableRow,children:[(0,r.jsx)("span",{className:N().nutrientName,children:{calories:"Calorias",totalFat:"Gorduras totais",saturatedFat:"Gorduras saturadas",transFat:"Gorduras trans",cholesterol:"Colesterol",sodium:"Sodio",totalCarbs:"Carboidratos",fiber:"Fibras",sugar:"Acucares",protein:"Proteinas",vitaminA:"Vitamina A",vitaminC:"Vitamina C",calcium:"Calcio",iron:"Ferro"}[t]||t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),(0,r.jsx)("span",{className:N().nutrientValue,children:a})]},t)})})]})]})]}):null},D=a(1501),B=a.n(D);let M=(0,i.memo)(function(e){let{product:t,onQuickAdd:a,index:i}=e,o=t.preco_promo&&t.preco_promo<t.preco,n=o?t.preco_promo:t.preco,c=t.pedidos_count>50||t.is_popular;return(0,r.jsxs)("div",{className:B().card,style:{animationDelay:"".concat(50*i,"ms")},children:[c&&(0,r.jsx)("span",{className:B().popularBadge,children:"Popular"}),o&&t.desconto&&(0,r.jsxs)("span",{className:B().promoBadge,children:["-",t.desconto,"%"]}),(0,r.jsx)("div",{className:B().imageWrap,children:t.imagem?(0,r.jsx)("img",{src:t.imagem,alt:t.nome,className:B().image,loading:"lazy"}):(0,r.jsx)("div",{className:B().imagePlaceholder,children:(0,r.jsx)(l.Package,{size:24})})}),(0,r.jsxs)("div",{className:B().info,children:[(0,r.jsx)("span",{className:B().name,children:t.nome}),(0,r.jsxs)("div",{className:B().priceRow,children:[o&&(0,r.jsx)("span",{className:B().priceOriginal,children:(0,s.o_)(t.preco)}),(0,r.jsx)("span",{className:"".concat(B().price," ").concat(o?B().pricePromo:""),children:(0,s.o_)(n)})]})]}),(0,r.jsx)("button",{type:"button",className:B().addBtn,onClick:e=>{e.stopPropagation(),null==a||a(t)},"aria-label":"Adicionar ".concat(t.nome),children:(0,r.jsx)(l.Plus,{size:16})})]})});var S=function(e){let{products:t=[],currentProductId:a,onQuickAdd:o,onAddAll:n}=e,c=(0,i.useMemo)(()=>t&&0!==t.length?t.filter(e=>e.id!==a&&!1!==e.disponivel).slice(0,6):[],[t,a]);if(0===c.length)return null;let d=c.reduce((e,t)=>e+(t.preco_promo||t.preco),0);return(0,r.jsxs)("div",{className:B().container,children:[(0,r.jsxs)("div",{className:B().header,children:[(0,r.jsx)("h3",{className:B().title,children:"Frequentemente Comprados Juntos"}),c.length>1&&(0,r.jsxs)("button",{type:"button",className:B().addAllBtn,onClick:()=>null==n?void 0:n(c),children:["Adicionar todos (",(0,s.o_)(d),")",(0,r.jsx)(l.ChevronRight,{size:14})]})]}),(0,r.jsx)("div",{className:B().scroll,children:c.map((e,t)=>(0,r.jsx)(M,{product:e,onQuickAdd:o,index:t},e.id))})]})},E=a(6500),I=a.n(E);function L(e){var t;let{product:a,partnerId:d,partnerName:u,onClose:m,relatedProducts:h=[],lastOrderedDate:g=null,onNotifyWhenAvailable:x}=e,{addItem:v}=(0,o.j)(),{addToCart:P,light:y,success:f}=(0,n.Cv)(),[j,N]=(0,i.useState)(""),[w,D]=(0,i.useState)(1),[B,M]=(0,i.useState)({}),[E,L]=(0,i.useState)(!1),[z,O]=(0,i.useState)(!1),[A,R]=(0,i.useState)(0),[T,q]=(0,i.useState)(!1),[F,H]=(0,i.useState)(!1),[W,Y]=(0,i.useState)(!1),[V,G]=(0,i.useState)(!1),[Q,X]=(0,i.useState)(0),[U,J]=(0,i.useState)(!1),K=(0,i.useRef)({startY:0,lastY:0,lastTime:0,velocity:0}),Z=(0,i.useRef)(null),$=(0,i.useRef)(null),ee=(0,i.useRef)(null),et=(null==a?void 0:a.option_groups)||[],ea=et.length>0&&et.some(e=>e.options&&e.options.length>0),er=(0,i.useMemo)(()=>a?a.imagens&&Array.isArray(a.imagens)&&a.imagens.length>0?a.imagens.filter(Boolean):a.imagem?[a.imagem]:[]:[],[a]),ei=(0,i.useMemo)(()=>(null==a?void 0:a.review_photos)&&Array.isArray(a.review_photos)?a.review_photos:[],[a]),el=ei.length>0;(0,i.useEffect)(()=>{let e=$.current;if(!e)return;let t=()=>{Y(e.scrollTop>200)};return e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[]);let eo=(0,i.useCallback)(e=>{let t=e.touches[0];K.current={startY:t.clientY,lastY:t.clientY,lastTime:Date.now(),velocity:0},J(!0)},[]),en=(0,i.useCallback)(e=>{if(!U)return;let t=e.touches[0],a=Date.now(),r=a-K.current.lastTime,i=t.clientY-K.current.lastY;r>0&&(K.current.velocity=i/r),K.current.lastY=t.clientY,K.current.lastTime=a,X(Math.max(0,t.clientY-K.current.startY))},[U]),es=(0,i.useCallback)(()=>{if(!U)return;J(!1);let e=K.current.velocity;(Q>100||e>.5)&&(E?(y(),m()):(y(),L(!0))),X(0),K.current={startY:0,lastY:0,lastTime:0,velocity:0}},[U,Q,E,m,y]);(0,i.useEffect)(()=>{if(a){document.body.style.overflow="hidden",N(""),D(1),L(!1),q(!1),G(!1);let e={};(a.option_groups||[]).forEach(t=>{e[t.id]=[]}),M(e)}return()=>{document.body.style.overflow=""}},[a]);let ec=(0,i.useMemo)(()=>{let e=0;return Object.values(B).forEach(t=>{t.forEach(t=>{e+=t.price_extra||0})}),e},[B]),ed=(0,i.useCallback)((e,t)=>{M(a=>({...a,[e]:t}))},[]),eu=(0,i.useMemo)(()=>{let e=[];return et.forEach(t=>{if(!t.options||0===t.options.length)return;let a=(B[t.id]||[]).length;t.required&&a<(t.min_select||1)&&e.push(t.name)}),e},[et,B]),e_=(0,i.useMemo)(()=>{if(!a)return null;let e=a.preco_promo&&a.preco_promo<a.preco,t=e?a.preco_promo:a.preco,r=t+ec;return{hasPromo:e,basePrice:t,displayPrice:r,isAvailable:!1!==a.disponivel&&a.estoque>0,isPopular:a.pedidos_count>50||a.is_popular,thumbImage:er[0]||a.imagem}},[a,ec,er]),em=null!==(t=null==e_?void 0:e_.isAvailable)&&void 0!==t&&t,eh=0===eu.length&&em,ep=(0,i.useCallback)(()=>{if(!eh)return;H(!0),P();let e=Object.values(B).flat(),t=e.length>0?e.map(e=>e.id).sort().join(","):"",r="".concat(a.id,":").concat(t);for(let t=0;t<w;t++)v({...a,selectedOptions:e,cartKey:r,observacao:j||void 0},d,u);setTimeout(()=>{H(!1),f(),m()},300)},[eh,B,a,w,j,d,u,v,m,P,f]),eg=(0,i.useCallback)(e=>{P(),v(e,d,u)},[P,v,d,u]),ex=(0,i.useCallback)(e=>{e.forEach(e=>{v(e,d,u)}),f()},[v,d,u,f]),eb=(0,i.useCallback)(()=>{G(!0),y(),null==x||x(a.id)},[a,x,y]),ev=(0,i.useCallback)(e=>{R(e),O(!0)},[]);if(!a||!e_)return null;let{hasPromo:eP,basePrice:ey,displayPrice:ef,isPopular:eC,thumbImage:ej}=e_||{};if(void 0===ey||void 0===ef)return null;let eN=ef*w;return(0,r.jsxs)("div",{className:I().overlay,onClick:m,children:[(0,r.jsxs)("div",{ref:Z,className:"\n          ".concat(I().modal,"\n          ").concat(E?I().modalMinimized:"","\n          ").concat(U?I().dragging:"","\n          ").concat(em?"":I().modalUnavailable,"\n        "),style:{transform:Q>0?"translateY(".concat(Q,"px)"):void 0,transition:U?"none":void 0},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{className:"".concat(I().dragHandle," ").concat(U?I().dragging:""),onTouchStart:eo,onTouchMove:en,onTouchEnd:es,onClick:()=>E&&L(!1),children:(0,r.jsx)("div",{className:I().dragBar})}),E&&(0,r.jsxs)("div",{className:I().minimizedContent,onClick:()=>L(!1),children:[ej&&(0,r.jsx)("img",{src:ej,alt:a.nome,className:I().minimizedImg,loading:"lazy"}),(0,r.jsxs)("div",{className:I().minimizedInfo,children:[(0,r.jsx)("span",{className:I().minimizedName,children:a.nome}),(0,r.jsx)("span",{className:I().minimizedPrice,children:(0,s.o_)(eN)})]}),(0,r.jsx)("button",{className:I().minimizedAddBtn,onClick:e=>{e.stopPropagation(),ep()},type:"button",disabled:!eh,children:"Adicionar"})]}),!E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"".concat(I().stickyHeader," ").concat(W?I().stickyHeaderVisible:""),children:(0,r.jsxs)("div",{className:I().stickyHeaderContent,children:[(0,r.jsx)("span",{className:I().stickyHeaderName,children:a.nome}),(0,r.jsx)("span",{className:I().stickyHeaderPrice,children:(0,s.o_)(ef)})]})}),(0,r.jsxs)("div",{className:I().modalTopBar,children:[(0,r.jsx)(c.Z,{url:"https://superbora.com.br/mercado/vitrine/loja/?id=".concat(d,"&produto=").concat(a.id),title:a.nome,text:"Veja ".concat(a.nome," por ").concat((0,s.o_)(ey)," no SuperBora!"),size:16}),(0,r.jsx)("button",{className:I().closeBtn,onClick:m,type:"button","aria-label":"Fechar",children:(0,r.jsx)(l.X,{size:20})})]}),(0,r.jsxs)("div",{ref:$,className:I().scrollContent,children:[(0,r.jsxs)("div",{className:I().imgWrap,children:[er.length>0?(0,r.jsx)(p,{images:er,alt:a.nome,aspectRatio:"4/3",showCounter:er.length>1,showDots:er.length>1,showArrows:er.length>1,enableZoom:!0,lazy:!0}):(0,r.jsx)("div",{className:I().imgPlaceholder,children:(0,r.jsx)(l.Package,{size:56})}),(0,r.jsxs)("div",{className:I().badgeContainer,children:[eC&&(0,r.jsxs)("span",{className:I().popularBadge,children:[(0,r.jsx)(l.Star,{size:12,color:"#fff"}),"Popular"]}),eP&&a.desconto&&(0,r.jsxs)("span",{className:I().promoBadge,children:["-",a.desconto,"%"]})]}),!em&&(0,r.jsx)("div",{className:I().unavailableOverlay,children:(0,r.jsx)("span",{className:I().unavailableText,children:"Esgotado"})})]}),(0,r.jsxs)("div",{className:I().body,ref:ee,children:[g&&(0,r.jsxs)("div",{className:I().lastOrdered,children:[(0,r.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),"Ultima vez pedido em ",g]}),(0,r.jsx)("h2",{className:I().name,children:a.nome}),a.descricao&&(0,r.jsx)("p",{className:I().desc,children:a.descricao}),a.unidade&&(0,r.jsx)("span",{className:I().unit,children:a.unidade}),(0,r.jsxs)("div",{className:I().priceSection,children:[(0,r.jsxs)("div",{className:I().priceMain,children:[eP&&(0,r.jsx)("span",{className:I().priceOriginal,children:(0,s.o_)(a.preco)}),(0,r.jsx)("span",{className:"".concat(I().price," ").concat(eP?I().pricePromo:""),children:(0,s.o_)(ey)})]}),ec>0&&(0,r.jsxs)("div",{className:I().priceExtras,children:[(0,r.jsx)("span",{className:I().priceExtrasLabel,children:"+ Adicionais:"}),(0,r.jsx)("span",{className:I().priceExtrasValue,children:(0,s.o_)(ec)})]})]}),(0,r.jsxs)("div",{className:I().finalPriceBox,children:[(0,r.jsxs)("span",{className:I().finalPriceLabel,children:["Preco final (",w,"x)"]}),(0,r.jsx)("span",{className:I().finalPriceValue,children:(0,s.o_)(eN)})]}),el&&(0,r.jsxs)("div",{className:I().reviewPhotosSection,children:[(0,r.jsxs)("div",{className:I().reviewPhotosHeader,children:[(0,r.jsxs)("span",{className:I().reviewPhotosTitle,children:[(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,r.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,r.jsx)("polyline",{points:"21 15 16 10 5 21"})]}),"Fotos de clientes"]}),(0,r.jsxs)("span",{className:I().reviewPhotosCount,children:[ei.length," foto",ei.length>1?"s":""]})]}),(0,r.jsx)("div",{className:I().reviewPhotosGrid,children:ei.slice(0,5).map((e,t)=>(0,r.jsxs)("button",{className:I().reviewPhotoThumb,onClick:()=>ev(t),type:"button","aria-label":"Ver foto ".concat(t+1," de cliente"),children:[(0,r.jsx)("img",{src:e.photo_url||e.url||e,alt:e.caption||"Foto de cliente ".concat(t+1),loading:"lazy"}),e.rating&&(0,r.jsxs)("span",{className:I().reviewPhotoRating,children:[(0,r.jsx)(l.Star,{size:10,color:"#f59e0b"}),e.rating]}),4===t&&ei.length>5&&(0,r.jsxs)("span",{className:I().reviewPhotosMore,children:["+",ei.length-5]})]},e.id||"review-photo-".concat(t)))})]}),ea&&(0,r.jsx)(C,{groups:et,selectedOptions:B,onOptionChange:ed,validation:eu,displayMode:"auto"}),(0,r.jsx)(k,{nutritionalInfo:a.nutritional_info,allergens:a.allergens,calories:a.calories,servingSize:a.serving_size}),(0,r.jsx)(S,{products:h,currentProductId:a.id,onQuickAdd:eg,onAddAll:ex}),(0,r.jsx)("div",{className:I().obsSection,children:T?(0,r.jsxs)("div",{className:I().obsInputWrap,children:[(0,r.jsx)("label",{className:I().obsLabel,children:"Instrucoes especiais"}),(0,r.jsx)("textarea",{className:I().obsInput,placeholder:"Ex: sem cebola, ponto da carne, alergias...",value:j,onChange:e=>N(e.target.value),maxLength:200,rows:2,autoFocus:!0}),(0,r.jsxs)("span",{className:I().obsCounter,children:[j.length,"/200"]})]}):(0,r.jsxs)("button",{className:I().obsToggle,onClick:()=>q(!0),type:"button",children:[(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,r.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Adicionar instrucoes especiais"]})})]}),em?(0,r.jsxs)("div",{className:I().footer,children:[(0,r.jsx)(b,{value:w,onChange:D,min:1,max:99}),(0,r.jsx)("button",{className:"\n                      ".concat(I().addCartBtn,"\n                      ").concat(eh?"":I().addCartBtnDisabled,"\n                      ").concat(F?I().addCartBtnPulse:"","\n                    "),onClick:ep,disabled:!eh||F,type:"button",children:F?(0,r.jsx)("span",{className:I().addingSpinner}):eh?"Adicionar ".concat((0,s.o_)(eN)):"Selecione: ".concat(eu.join(", "))})]}):(0,r.jsx)("div",{className:I().footer,children:(0,r.jsxs)("div",{className:I().unavailableFooter,children:[(0,r.jsx)("span",{className:I().unavailableMsg,children:"Este produto esta esgotado"}),(0,r.jsxs)("button",{className:"".concat(I().notifyBtn," ").concat(V?I().notifyBtnRequested:""),onClick:eb,type:"button",disabled:V,children:[(0,r.jsx)(l.Bell,{size:16}),V?"Voce sera avisado!":"Avise-me quando disponivel"]})]})})]})]})]}),z&&(0,r.jsx)(_,{images:ei.map(e=>e.photo_url||e.url||e),initialIndex:A,alt:"Foto de cliente - ".concat(a.nome),onClose:()=>O(!1),onIndexChange:R})]})}},5228:function(e,t,a){"use strict";a.d(t,{E:function(){return d},T:function(){return c}});var r=a(7437),i=a(2265),l=a(7128),o=a(6428);let n=(0,i.createContext)(null),s="superbora_wishlists_guest";function c(e){let{children:t}=e,{customer:a}=(0,l.a)(),c=!!a,[d,u]=(0,i.useState)([]),[_,m]=(0,i.useState)(!0),[h,p]=(0,i.useState)(!1),g=(0,i.useRef)(!1),[x,b]=(0,i.useState)(!1),v=(0,i.useRef)(null);(0,i.useEffect)(()=>(b(!0),()=>{v.current&&v.current.abort()}),[]);let P=(0,i.useCallback)(()=>{try{let e=localStorage.getItem(s);if(e){let t=JSON.parse(e);u(t.wishlists||[])}else{let e={id:"guest-default",name:"Favoritos",is_default:!0,items:[],created_at:new Date().toISOString()};u([e]),y([e])}}catch(e){console.error("Error loading wishlists from storage:",e),u([])}m(!1)},[]),y=(0,i.useCallback)(e=>{try{localStorage.setItem(s,JSON.stringify({wishlists:e}))}catch(e){console.error("Error saving wishlists to storage:",e)}},[]),f=(0,i.useCallback)(async()=>{v.current&&v.current.abort(),v.current=new AbortController;let e=v.current.signal;m(!0);try{let t;let a=await (0,o.SC)("/vitrine/wishlists.php",{},{signal:e});if(e.aborted)return;try{t=await Promise.all((a.wishlists||[]).map(async t=>{if(e.aborted){let e=Error("Aborted");throw e.name="AbortError",e}try{let a=await (0,o.SC)("/vitrine/wishlist-items.php",{wishlist_id:t.id},{signal:e});return{...t,items:Array.isArray(null==a?void 0:a.items)?a.items:[]}}catch(e){if("AbortError"===e.name)throw e;return console.warn("[Wishlist] Failed to load items for wishlist",t.id,e),{...t,items:[]}}}))}catch(e){if("AbortError"===e.name)return;throw e}if(e.aborted)return;u(t)}catch(e){if("AbortError"===e.name)return;console.error("Error loading wishlists from API:",e),u([])}finally{e.aborted||m(!1)}},[]),C=(0,i.useCallback)(async()=>{try{let e=localStorage.getItem(s);if(!e)return;let t=JSON.parse(e).wishlists||[];if(0===t.length)return;p(!0);let a=(await (0,o.SC)("/vitrine/wishlists.php")).wishlists||[],r=a.find(e=>e.is_default);!r&&a.length>0&&(r=a[0]);let i=t.find(e=>e.is_default);if(i&&i.items&&r)for(let e of i.items)try{await (0,o.sg)("/vitrine/wishlist-items.php",{wishlist_id:r.id,product_id:e.product_id,partner_id:e.partner_id})}catch(t){console.warn("[Wishlist] Failed to sync item (may already exist):",e.product_id)}localStorage.removeItem(s),await f()}catch(e){console.error("Error syncing guest wishlists:",e)}p(!1)},[f]);(0,i.useEffect)(()=>{x&&(c?f():P())},[c,x,f,P]),(0,i.useEffect)(()=>{c&&a&&!g.current&&(C(),g.current=!0),c||(g.current=!1)},[c,a,C]);let j=(0,i.useCallback)(e=>d.some(t=>(t.items||[]).some(t=>String(t.product_id)===String(e))),[d]),N=(0,i.useCallback)(e=>d.filter(t=>(t.items||[]).some(t=>String(t.product_id)===String(e))),[d]),w=(0,i.useCallback)(()=>d.find(e=>e.is_default)||d[0]||null,[d]),k=(0,i.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t?d.find(e=>e.id===t):w();if(!a)return!1;let r={product_id:e.id||e.product_id,partner_id:e.partner_id||0,product:{id:e.id||e.product_id,nome:e.nome||e.name,imagem:e.imagem||e.image,preco:e.preco||e.price,preco_promo:e.preco_promo||null,unidade:e.unidade||""},added_at:new Date().toISOString()};if(c)try{return await (0,o.sg)("/vitrine/wishlist-items.php",{wishlist_id:a.id,product_id:r.product_id,partner_id:r.partner_id}),await f(),!0}catch(e){return console.error("Error adding to wishlist:",e),!1}else{let e=d.map(e=>e.id===a.id?(e.items||[]).some(e=>String(e.product_id)===String(r.product_id))?e:{...e,items:[...e.items||[],r]}:e);return u(e),y(e),!0}},[d,c,w,f,y]),D=(0,i.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(c)try{let a={product_id:e};return t&&(a.wishlist_id=t),await (0,o.QW)("/vitrine/wishlist-items.php",a),await f(),!0}catch(e){return console.error("Error removing from wishlist:",e),!1}else{let a=d.map(a=>t&&a.id!==t?a:{...a,items:(a.items||[]).filter(t=>String(t.product_id)!==String(e))});return u(a),y(a),!0}},[d,c,f,y]),B=(0,i.useCallback)(async e=>{let t=e.id||e.product_id;return j(t)?D(t):k(e)},[j,k,D]),M=(0,i.useCallback)(async e=>{if(c)try{let t=await (0,o.sg)("/vitrine/wishlists.php",{name:e});return await f(),t.wishlist}catch(e){throw console.error("Error creating wishlist:",e),e}else{let t={id:"guest-".concat(Date.now()),name:e,is_default:!1,items:[],created_at:new Date().toISOString()},a=[...d,t];return u(a),y(a),t}},[d,c,f,y]),S=(0,i.useCallback)(async(e,t)=>{if(c)try{return await (0,o.pE)("/vitrine/wishlists.php",{id:e,name:t}),await f(),!0}catch(e){return console.error("Error renaming wishlist:",e),!1}else{let a=d.map(a=>a.id===e?{...a,name:t}:a);return u(a),y(a),!0}},[d,c,f,y]),E=(0,i.useCallback)(async e=>{if(c)try{return await (0,o.QW)("/vitrine/wishlists.php",{id:e}),await f(),!0}catch(e){throw console.error("Error deleting wishlist:",e),e}else{let t=d.find(t=>t.id===e);if(null==t?void 0:t.is_default)throw Error("Nao e possivel excluir a lista padrao");let a=d.filter(t=>t.id!==e);return u(a),y(a),!0}},[d,c,f,y]),I=(0,i.useCallback)(()=>c?f():(P(),Promise.resolve()),[c,f,P]),L=(0,i.useMemo)(()=>({wishlists:d,loading:_,syncing:h,isInWishlist:j,getWishlistsForProduct:N,getDefaultWishlist:w,addToWishlist:k,removeFromWishlist:D,toggleWishlist:B,createWishlist:M,renameWishlist:S,deleteWishlist:E,refresh:I}),[d,_,h,j,N,w,k,D,B,M,S,E,I]);return(0,r.jsx)(n.Provider,{value:L,children:t})}function d(){let e=(0,i.useContext)(n);if(!e)throw Error("useWishlist must be used within WishlistProvider");return e}},3093:function(e){e.exports={card:"ProductCard_card__SEO1A",compact:"ProductCard_compact__0_3a3",imgWrap:"ProductCard_imgWrap__SWwn9",body:"ProductCard_body__wQ1YK",name:"ProductCard_name__MNhu8",price:"ProductCard_price__Me9zX",addBtn:"ProductCard_addBtn__8ePC4",imgContainer:"ProductCard_imgContainer__i8BqU",img:"ProductCard_img__hILbt",imgPlaceholderWrap:"ProductCard_imgPlaceholderWrap__0J06U",imgPlaceholder:"ProductCard_imgPlaceholder__ilUuK",promoBadge:"ProductCard_promoBadge__tNsuW",promoBadgeGlow:"ProductCard_promoBadgeGlow__zh0ek",unit:"ProductCard_unit__Ve6WE",dietaryBadges:"ProductCard_dietaryBadges__rZ5vH",dietaryBadge:"ProductCard_dietaryBadge__ou8OG",priceRow:"ProductCard_priceRow__qJUES",pricePromo:"ProductCard_pricePromo__6lzhy",priceOriginal:"ProductCard_priceOriginal__3w0rK",addBtnCelebrate:"ProductCard_addBtnCelebrate__GAsOY",addBtnPulse:"ProductCard_addBtnPulse__apikV",qtyBtnBounce:"ProductCard_qtyBtnBounce__KNXLD",qtyPop:"ProductCard_qtyPop__kMPfS",favAnimating:"ProductCard_favAnimating__MNzfU",favIcon:"ProductCard_favIcon__cBLKQ",particle:"ProductCard_particle__P_kVU",sparkle:"ProductCard_sparkle__jPLmu",confettiPiece:"ProductCard_confettiPiece__bT3ps",qtyControls:"ProductCard_qtyControls__eWR33",qtyBtn:"ProductCard_qtyBtn__js8MD",qtyBtnAdd:"ProductCard_qtyBtnAdd__6shQa",qty:"ProductCard_qty__QDMMW",qtyNumberPop:"ProductCard_qtyNumberPop__3XGtT",unavailable:"ProductCard_unavailable__1Gnu7",unavailableBadge:"ProductCard_unavailableBadge__f8Yh6",favBtn:"ProductCard_favBtn__m_UW_",heartPop:"ProductCard_heartPop__ZwK2X",burst:"ProductCard_burst__Oeviy",particleBurst:"ProductCard_particleBurst__DJRre",sparkleBurst:"ProductCard_sparkleBurst__8t09g",confettiBurst:"ProductCard_confettiBurst__iIGBH",confettiFly:"ProductCard_confettiFly__vksvB"}},6500:function(e){e.exports={overlay:"ProductDetailModal_overlay__fRcW6",fadeIn:"ProductDetailModal_fadeIn__CvYxC",modal:"ProductDetailModal_modal__XdFq1",slideUpMobile:"ProductDetailModal_slideUpMobile___h6X_",modalMinimized:"ProductDetailModal_modalMinimized__dFrXs",dragging:"ProductDetailModal_dragging__pHrLb",modalUnavailable:"ProductDetailModal_modalUnavailable__8nl9G",slideUp:"ProductDetailModal_slideUp___Hpaj",dragHandle:"ProductDetailModal_dragHandle__Lzwkn",dragBar:"ProductDetailModal_dragBar__sWmrj",minimizedContent:"ProductDetailModal_minimizedContent__NBGDi",minimizedImg:"ProductDetailModal_minimizedImg__uPyqb",minimizedInfo:"ProductDetailModal_minimizedInfo__A0VXP",minimizedName:"ProductDetailModal_minimizedName__RwMNj",minimizedPrice:"ProductDetailModal_minimizedPrice__U6H1_",minimizedAddBtn:"ProductDetailModal_minimizedAddBtn__8GkwK",stickyHeader:"ProductDetailModal_stickyHeader___cMod",stickyHeaderVisible:"ProductDetailModal_stickyHeaderVisible__8WXo_",stickyHeaderContent:"ProductDetailModal_stickyHeaderContent__iJ3TQ",stickyHeaderName:"ProductDetailModal_stickyHeaderName__PXltS",stickyHeaderPrice:"ProductDetailModal_stickyHeaderPrice__kHzIE",modalTopBar:"ProductDetailModal_modalTopBar__XICOx",closeBtn:"ProductDetailModal_closeBtn__7LUEP",scrollContent:"ProductDetailModal_scrollContent__97DI3",imgWrap:"ProductDetailModal_imgWrap__XYqJO",imgPlaceholder:"ProductDetailModal_imgPlaceholder__grP9K",badgeContainer:"ProductDetailModal_badgeContainer__4uj1m",popularBadge:"ProductDetailModal_popularBadge__fJ4dz",popIn:"ProductDetailModal_popIn__WYgUm",promoBadge:"ProductDetailModal_promoBadge__Z80KY",unavailableOverlay:"ProductDetailModal_unavailableOverlay__BjBEt",unavailableText:"ProductDetailModal_unavailableText__uetpe",body:"ProductDetailModal_body__P2anN",lastOrdered:"ProductDetailModal_lastOrdered__WMGYo",slideDown:"ProductDetailModal_slideDown__Rahn_",name:"ProductDetailModal_name___PXfW",desc:"ProductDetailModal_desc__3CaNK",unit:"ProductDetailModal_unit__Ek04C",priceSection:"ProductDetailModal_priceSection__9Me_H",priceMain:"ProductDetailModal_priceMain__1GmcW",price:"ProductDetailModal_price__HqEgq",pricePromo:"ProductDetailModal_pricePromo____EBV",priceOriginal:"ProductDetailModal_priceOriginal__yjIbO",priceExtras:"ProductDetailModal_priceExtras__0ruZV",priceExtrasLabel:"ProductDetailModal_priceExtrasLabel__mdwJn",priceExtrasValue:"ProductDetailModal_priceExtrasValue__R85jb",finalPriceBox:"ProductDetailModal_finalPriceBox__J_yLr",finalPriceLabel:"ProductDetailModal_finalPriceLabel__wnrEp",finalPriceValue:"ProductDetailModal_finalPriceValue__XI4mR",obsSection:"ProductDetailModal_obsSection__2PKzg",obsToggle:"ProductDetailModal_obsToggle__GTV1S",obsInputWrap:"ProductDetailModal_obsInputWrap__cJ2Xq",obsLabel:"ProductDetailModal_obsLabel__LLLAG",obsInput:"ProductDetailModal_obsInput__0cyws",obsCounter:"ProductDetailModal_obsCounter__9rzBE",footer:"ProductDetailModal_footer__999mJ",addCartBtn:"ProductDetailModal_addCartBtn__e5IqR",addCartBtnDisabled:"ProductDetailModal_addCartBtnDisabled__nUG3d",addCartBtnPulse:"ProductDetailModal_addCartBtnPulse__ccQvu",addToCartPulse:"ProductDetailModal_addToCartPulse__lDMac",addingSpinner:"ProductDetailModal_addingSpinner__ejumB",spin:"ProductDetailModal_spin__IQkwy",unavailableFooter:"ProductDetailModal_unavailableFooter__wBM6U",unavailableMsg:"ProductDetailModal_unavailableMsg__nxjny",notifyBtn:"ProductDetailModal_notifyBtn__UQJV1",notifyBtnRequested:"ProductDetailModal_notifyBtnRequested__CfSdS",reviewPhotosSection:"ProductDetailModal_reviewPhotosSection__DkORe",reviewPhotosHeader:"ProductDetailModal_reviewPhotosHeader__ELYZ7",reviewPhotosTitle:"ProductDetailModal_reviewPhotosTitle__nMlx5",reviewPhotosCount:"ProductDetailModal_reviewPhotosCount__MfOz8",reviewPhotosGrid:"ProductDetailModal_reviewPhotosGrid__slsiC",reviewPhotoThumb:"ProductDetailModal_reviewPhotoThumb__DDRq9",reviewPhotoRating:"ProductDetailModal_reviewPhotoRating__4aLo_",reviewPhotosMore:"ProductDetailModal_reviewPhotosMore__iBJ0R",pulse:"ProductDetailModal_pulse__VQDl5"}},1501:function(e){e.exports={container:"ProductFrequentlyBought_container__kcnz_",header:"ProductFrequentlyBought_header__m7pKM",title:"ProductFrequentlyBought_title__FDM3J",addAllBtn:"ProductFrequentlyBought_addAllBtn__K8B9a",scroll:"ProductFrequentlyBought_scroll__ccLTL",card:"ProductFrequentlyBought_card__oZ_0f",fadeSlideIn:"ProductFrequentlyBought_fadeSlideIn__kpRTC",popularBadge:"ProductFrequentlyBought_popularBadge__QAefX",promoBadge:"ProductFrequentlyBought_promoBadge__s9p2i",imageWrap:"ProductFrequentlyBought_imageWrap__tzEtz",image:"ProductFrequentlyBought_image__ZD4K2",imagePlaceholder:"ProductFrequentlyBought_imagePlaceholder__oxUhJ",info:"ProductFrequentlyBought_info__6CdPm",name:"ProductFrequentlyBought_name__VJHjT",priceRow:"ProductFrequentlyBought_priceRow__Kdl0n",priceOriginal:"ProductFrequentlyBought_priceOriginal__XqLB6",price:"ProductFrequentlyBought_price__q3GRX",pricePromo:"ProductFrequentlyBought_pricePromo__MOYMH",addBtn:"ProductFrequentlyBought_addBtn__9ARCD",addPulse:"ProductFrequentlyBought_addPulse__2_BVy"}},7685:function(e){e.exports={container:"ProductNutritional_container__Sr7Ay",allergenSection:"ProductNutritional_allergenSection__bNmO7",allergenHeader:"ProductNutritional_allergenHeader__3_ang",allergenTitle:"ProductNutritional_allergenTitle__NAwJP",allergenList:"ProductNutritional_allergenList__RjMUR",allergenChip:"ProductNutritional_allergenChip__xwIMl",allergenIcon:"ProductNutritional_allergenIcon__ba83C",allergenLabel:"ProductNutritional_allergenLabel__uQKNn",caloriesRow:"ProductNutritional_caloriesRow__sr2lS",caloriesValue:"ProductNutritional_caloriesValue__SnhEC",servingSize:"ProductNutritional_servingSize__03fFa",nutritionalSection:"ProductNutritional_nutritionalSection__PeAO4",expandBtn:"ProductNutritional_expandBtn__yYNlB",expandLeft:"ProductNutritional_expandLeft__2MGWU",expandChevron:"ProductNutritional_expandChevron__lkXsO",expanded:"ProductNutritional_expanded__ZYVUC",nutritionalTable:"ProductNutritional_nutritionalTable__Qudbs",slideDown:"ProductNutritional_slideDown__KmGK2",servingHeader:"ProductNutritional_servingHeader___5xOm",tableContent:"ProductNutritional_tableContent__YNG95",tableRow:"ProductNutritional_tableRow__1dYmi",nutrientName:"ProductNutritional_nutrientName__g_lgx",nutrientValue:"ProductNutritional_nutrientValue__qpkQ0"}},5085:function(e){e.exports={container:"ProductOptions_container__jwV66",group:"ProductOptions_group__nlTR1",groupHeader:"ProductOptions_groupHeader__tQ31l",groupLeft:"ProductOptions_groupLeft__sUBhz",groupTitleRow:"ProductOptions_groupTitleRow__ficLM",groupName:"ProductOptions_groupName__RoDHi",groupMissing:"ProductOptions_groupMissing__B3iKv",requiredBadge:"ProductOptions_requiredBadge__uGhES",groupHint:"ProductOptions_groupHint__BMm9v",selectedCount:"ProductOptions_selectedCount__XelNX",chevron:"ProductOptions_chevron___OumB",chevronOpen:"ProductOptions_chevronOpen__TZPws",optionList:"ProductOptions_optionList__sf_ML",chipLayout:"ProductOptions_chipLayout__GdvcL",cardLayout:"ProductOptions_cardLayout__oxn1h",chip:"ProductOptions_chip__pHs7w",chipSelected:"ProductOptions_chipSelected__1OZrj",chipDisabled:"ProductOptions_chipDisabled__JLUzk",chipName:"ProductOptions_chipName__VqaU7",chipPrice:"ProductOptions_chipPrice__MYBnb",chipCheck:"ProductOptions_chipCheck__8aRtQ",chipCheckRadio:"ProductOptions_chipCheckRadio__QPs1B",chipCheckSelected:"ProductOptions_chipCheckSelected__NNJd0",popIn:"ProductOptions_popIn__IGHLT",card:"ProductOptions_card__zkTMa",cardSelected:"ProductOptions_cardSelected__8NiOs",cardDisabled:"ProductOptions_cardDisabled__NKpMc",cardImg:"ProductOptions_cardImg__xglJ0",cardImgPlaceholder:"ProductOptions_cardImgPlaceholder__98rRF",cardInfo:"ProductOptions_cardInfo__TCBt9",cardName:"ProductOptions_cardName__DkgD_",cardDesc:"ProductOptions_cardDesc___8noC",cardRight:"ProductOptions_cardRight__7LdP4",cardPrice:"ProductOptions_cardPrice__l7r43",cardCheck:"ProductOptions_cardCheck__zmQ7I",cardCheckRadio:"ProductOptions_cardCheckRadio__mI5fS",cardCheckSelected:"ProductOptions_cardCheckSelected__fXKC9"}},2018:function(e){e.exports={container:"ProductQuantitySelector_container__VfjVP",small:"ProductQuantitySelector_small__wH89m",large:"ProductQuantitySelector_large___wZN4",disabled:"ProductQuantitySelector_disabled__X_V1I",btn:"ProductQuantitySelector_btn__gfwPh",default:"ProductQuantitySelector_default__FH4Ca",btnPlus:"ProductQuantitySelector_btnPlus__Qe_Cs",valueWrapper:"ProductQuantitySelector_valueWrapper__Nm1IX",value:"ProductQuantitySelector_value__QSTC0",animating:"ProductQuantitySelector_animating__gU4ks",pulse:"ProductQuantitySelector_pulse__EOruP",animateUp:"ProductQuantitySelector_animateUp__BPiqQ",bounceUp:"ProductQuantitySelector_bounceUp__JCQN_",animateDown:"ProductQuantitySelector_animateDown__ozOV5",bounceDown:"ProductQuantitySelector_bounceDown__42FRC"}},7073:function(e){e.exports={gallery:"ImageGallery_gallery__YeFWc",track:"ImageGallery_track__YX5vz",slide:"ImageGallery_slide__MXH_E",image:"ImageGallery_image__DdpBR",placeholder:"ImageGallery_placeholder__HGCrh",counter:"ImageGallery_counter__IiVKq",arrow:"ImageGallery_arrow__k7L4s",arrowLeft:"ImageGallery_arrowLeft__pT8NL",arrowRight:"ImageGallery_arrowRight__0qaxq",dots:"ImageGallery_dots__0gzE5",dot:"ImageGallery_dot__CMNrB",dotActive:"ImageGallery_dotActive__8aZxN",zoomOverlay:"ImageGallery_zoomOverlay__lhnk2"}},1263:function(e){e.exports={overlay:"Lightbox_overlay__N5_b1",fadeIn:"Lightbox_fadeIn__H8cZl",closeBtn:"Lightbox_closeBtn__NRrrV",counter:"Lightbox_counter__CXXoM",container:"Lightbox_container__dA8g7",dismissing:"Lightbox_dismissing__A0zHv",imageWrapper:"Lightbox_imageWrapper__kKu7g",image:"Lightbox_image__5LrIC",navBtn:"Lightbox_navBtn__t_1qy",navBtnPrev:"Lightbox_navBtnPrev__yDVYg",navBtnNext:"Lightbox_navBtnNext__p4y91",thumbnails:"Lightbox_thumbnails__a7YUl",thumbnail:"Lightbox_thumbnail__z8VvD",thumbnailActive:"Lightbox_thumbnailActive__9_MfL",zoomIndicator:"Lightbox_zoomIndicator__7OM8X",swipeHint:"Lightbox_swipeHint__O7vcb"}}}]);