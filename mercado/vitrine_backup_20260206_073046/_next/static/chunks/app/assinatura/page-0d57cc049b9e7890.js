(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9118],{5833:function(e,t,r){Promise.resolve().then(r.bind(r,6803))},6428:function(e,t,r){"use strict";r.d(t,{LP:function(){return a},QW:function(){return h},SC:function(){return c},o4:function(){return s},pE:function(){return u},sg:function(){return d}}),r(257);let n="/api/mercado",o="superbora_token";function i(){return window.location.origin}function a(){try{return localStorage.getItem(o)}catch(e){return null}}function s(e){try{e?localStorage.setItem(o,e):localStorage.removeItem(o)}catch(e){}}function l(){let e=a();return e?{Authorization:"Bearer ".concat(e)}:{}}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{signal:o}=r,a=new URL(n+e,i());Object.entries(t).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&a.searchParams.set(t,r)});let s=await fetch(a.toString(),{credentials:"include",headers:l(),signal:o});if(!s.ok){let e=await s.json().catch(()=>null);throw Error((null==e?void 0:e.message)||"API error: ".concat(s.status))}let c=await s.json().catch(()=>null);if(!c||!c.success)throw Error((null==c?void 0:c.message)||"Erro desconhecido na API");return void 0!==c.data?c.data:null}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{signal:o}=r,a=new URL(n+e,i()),s=await fetch(a.toString(),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...l()},body:JSON.stringify(t),signal:o}),c=await s.json().catch(()=>null);if(!s.ok||!(null==c?void 0:c.success))throw Error((null==c?void 0:c.message)||"API error: ".concat(s.status));return void 0!==c.data?c.data:null}async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{signal:o}=r,a=new URL(n+e,i()),s=await fetch(a.toString(),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",...l()},body:JSON.stringify(t),signal:o}),c=await s.json().catch(()=>null);if(!s.ok||!(null==c?void 0:c.success))throw Error((null==c?void 0:c.message)||"API error: ".concat(s.status));return void 0!==c.data?c.data:null}async function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{signal:o}=r,a=new URL(n+e,i());Object.entries(t).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&a.searchParams.set(t,r)});let s=await fetch(a.toString(),{method:"DELETE",credentials:"include",headers:l(),signal:o}),c=await s.json().catch(()=>null);if(!s.ok||!(null==c?void 0:c.success))throw Error((null==c?void 0:c.message)||"API error: ".concat(s.status));return void 0!==c.data?c.data:null}},6803:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),o=r(2265),i=r(9376);r(7648);var a=r(8779),s=r(6428),l=r(7650);let c={truck:(0,n.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{x:"1",y:"3",width:"15",height:"13"}),(0,n.jsx)("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),(0,n.jsx)("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),(0,n.jsx)("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),headphones:(0,n.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M3 18v-6a9 9 0 0 1 18 0v6"}),(0,n.jsx)("path",{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"})]}),star:(0,n.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),tag:(0,n.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),(0,n.jsx)("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]})};function d(){return(0,n.jsx)(a.Z,{children:(0,n.jsx)(u,{})})}function u(){let e=(0,i.useRouter)(),[t,r]=(0,o.useState)(null),[a,d]=(0,o.useState)(!0),[u,A]=(0,o.useState)(!1),[P,I]=(0,o.useState)(!1),[L,q]=(0,o.useState)("monthly"),[N,_]=(0,o.useState)(null),[M,O]=(0,o.useState)(!1),H=(0,o.useRef)(null);function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";_({message:e,type:t}),H.current&&clearTimeout(H.current),H.current=setTimeout(()=>_(null),4e3)}async function $(){A(!0);try{await (0,s.sg)("/customer/membership.php",{plan:L}),U("Bem-vindo ao SuperBora+!");let e=await (0,s.SC)("/customer/membership.php");r(e)}catch(e){U(e.message||"Erro ao assinar","error")}finally{A(!1)}}async function F(){I(!0);try{await (0,s.pE)("/customer/membership.php",{}),U("Assinatura cancelada. Beneficios ativos ate o fim do periodo."),O(!1);let e=await (0,s.SC)("/customer/membership.php");r(e)}catch(e){U(e.message||"Erro ao cancelar","error")}finally{I(!1)}}if((0,o.useEffect)(()=>{(0,s.SC)("/customer/membership.php").then(e=>r(e)).catch(e=>{"AbortError"!==e.name&&console.warn("[Membership] Failed to load membership data")}).finally(()=>d(!1))},[]),(0,o.useEffect)(()=>()=>{H.current&&(clearTimeout(H.current),H.current=null)},[]),a)return(0,n.jsx)("div",{style:f,children:(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:60},children:(0,n.jsx)("div",{style:W})})});let D=null==t?void 0:t.is_premium,V=null==t?void 0:t.membership,Z=(null==t?void 0:t.benefits)||[];return null==t||t.plans,(0,n.jsxs)("div",{style:f,children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:24},children:[(0,n.jsx)("button",{onClick:()=>e.back(),style:p,type:"button","aria-label":"Voltar",children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,n.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,n.jsx)("div",{style:{fontSize:20,fontWeight:700},children:"SuperBora+"})]}),(0,n.jsx)("div",{style:g,children:(0,n.jsxs)("div",{style:m,children:[(0,n.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"#fbbf24",letterSpacing:1,textTransform:"uppercase",marginBottom:8},children:"SuperBora+"}),(0,n.jsx)("div",{style:{fontSize:26,fontWeight:800,color:"#fff",marginBottom:8,lineHeight:1.2},children:"Economize em cada pedido"}),(0,n.jsx)("div",{style:{fontSize:15,color:"rgba(255,255,255,0.85)",lineHeight:1.5},children:"Entrega gratis, pontos em dobro e muito mais. Assine agora!"})]})}),D&&V&&(0,n.jsxs)("div",{style:x,children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[(0,n.jsx)("div",{style:v,children:"PREMIUM"}),(0,n.jsx)("div",{style:{fontSize:16,fontWeight:700},children:V.plan_name})]}),(0,n.jsx)("div",{style:{fontSize:14,color:"var(--color-text-secondary)",marginBottom:6},children:V.is_cancelled?"Cancelada - beneficios ativos ate:":"Ativa - renova em:"}),(0,n.jsx)("div",{style:{fontSize:15,fontWeight:600},children:new Date(V.expires_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}),(0,n.jsxs)("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginTop:4},children:[(0,l.o_)(V.price),"/","yearly"===V.plan?"ano":"mes"]}),!V.is_cancelled&&(0,n.jsx)("button",{onClick:()=>O(!0),style:R,children:"Cancelar assinatura"}),V.is_cancelled&&(0,n.jsx)("div",{style:{marginTop:12,padding:"10px 14px",background:"#fef9c3",borderRadius:8,fontSize:13,color:"#854d0e"},children:"Sua assinatura foi cancelada, mas os beneficios permanecem ativos ate a data acima."})]}),(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)("div",{style:{fontSize:18,fontWeight:700,marginBottom:16},children:"Beneficios exclusivos"}),(0,n.jsx)("div",{style:{display:"grid",gap:12},children:Z.map(e=>(0,n.jsxs)("div",{style:y,children:[(0,n.jsx)("div",{style:b,children:c[e.icon]||c.star}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontSize:15,fontWeight:600,marginBottom:2},children:e.title}),(0,n.jsx)("div",{style:{fontSize:13,color:"var(--color-text-secondary)",lineHeight:1.4},children:e.description})]})]},e.id||e.title))})]}),!D&&(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)("div",{style:{fontSize:18,fontWeight:700,marginBottom:16},children:"Escolha seu plano"}),(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,n.jsx)("div",{onClick:()=>q("monthly"),style:{...j,border:"monthly"===L?"2px solid var(--color-accent)":"1px solid var(--color-border)",background:"monthly"===L?"#f0fdf4":"var(--color-bg)"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,n.jsx)("div",{style:{...w,borderColor:"monthly"===L?"var(--color-accent)":"var(--color-border)"},children:"monthly"===L&&(0,n.jsx)("div",{style:S})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontSize:16,fontWeight:700},children:"Mensal"}),(0,n.jsx)("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:"Cancele quando quiser"})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsx)("div",{style:{fontSize:22,fontWeight:800,color:"var(--color-accent)"},children:"R$ 19,90"}),(0,n.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)"},children:"/mes"})]})]})}),(0,n.jsxs)("div",{onClick:()=>q("yearly"),style:{...j,border:"yearly"===L?"2px solid var(--color-accent)":"1px solid var(--color-border)",background:"yearly"===L?"#f0fdf4":"var(--color-bg)",position:"relative",overflow:"visible"},children:[(0,n.jsx)("div",{style:k,children:"ECONOMIZE 25%"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,n.jsx)("div",{style:{...w,borderColor:"yearly"===L?"var(--color-accent)":"var(--color-border)"},children:"yearly"===L&&(0,n.jsx)("div",{style:S})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontSize:16,fontWeight:700},children:"Anual"}),(0,n.jsx)("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:"Equivalente a R$ 14,99/mes"})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsx)("div",{style:{fontSize:22,fontWeight:800,color:"var(--color-accent)"},children:"R$ 179,90"}),(0,n.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)"},children:"/ano"})]})]})]})]}),(0,n.jsx)("button",{onClick:$,disabled:u,style:C,children:u?(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)("div",{style:{...W,width:18,height:18}})," Processando..."]}):"Assinar SuperBora+ - ".concat("yearly"===L?"R$ 179,90/ano":"R$ 19,90/mes")}),(0,n.jsx)("div",{style:{textAlign:"center",fontSize:12,color:"var(--color-text-muted)",marginTop:8},children:"Cancele a qualquer momento. Sem multa ou taxas extras."})]}),(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)("div",{style:{fontSize:18,fontWeight:700,marginBottom:16},children:"Perguntas frequentes"}),(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,n.jsx)(h,{q:"Como funciona a entrega gratis?",a:"Com o SuperBora+, voce nao paga taxa de entrega em nenhum pedido, independente do valor."}),(0,n.jsx)(h,{q:"Posso cancelar a qualquer momento?",a:"Sim! Voce pode cancelar quando quiser. Seus beneficios continuam ativos ate o fim do periodo pago."}),(0,n.jsx)(h,{q:"Os pontos em dobro sao automaticos?",a:"Sim! Ao fazer qualquer pedido como membro SuperBora+, voce recebe 2x os pontos de fidelidade automaticamente."}),(0,n.jsx)(h,{q:"Como funcionam as ofertas exclusivas?",a:"Membros SuperBora+ recebem cupons e promocoes exclusivas diretamente no app."})]})]}),M&&(0,n.jsx)("div",{style:z,onClick:()=>!P&&O(!1),role:"alertdialog","aria-modal":"true","aria-labelledby":"cancel-subscription-modal-title",children:(0,n.jsxs)("div",{style:B,onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("div",{id:"cancel-subscription-modal-title",style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Cancelar SuperBora+?"}),(0,n.jsx)("div",{style:{fontSize:14,color:"var(--color-text-secondary)",marginBottom:16,lineHeight:1.5},children:"Tem certeza que deseja cancelar sua assinatura? Voce perdera os beneficios de entrega gratis, pontos em dobro e ofertas exclusivas ao fim do periodo atual."}),(0,n.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,n.jsx)("button",{onClick:()=>O(!1),disabled:P,style:E,children:"Manter assinatura"}),(0,n.jsx)("button",{onClick:F,disabled:P,style:T,children:P?"Cancelando...":"Sim, cancelar"})]})]})}),N&&(0,n.jsx)("div",{style:{position:"fixed",bottom:80,left:"50%",transform:"translateX(-50%)",background:"error"===N.type?"#dc2626":"#15803d",color:"#fff",padding:"12px 24px",borderRadius:100,fontSize:14,fontWeight:600,zIndex:3e3,boxShadow:"0 4px 16px rgba(0,0,0,0.2)",animation:"slideUp 0.3s ease"},children:N.message})]})}function h(e){let{q:t,a:r}=e,[i,a]=(0,o.useState)(!1);return(0,n.jsxs)("div",{style:{background:"var(--color-bg)",borderRadius:12,boxShadow:"var(--shadow-card)",overflow:"hidden"},children:[(0,n.jsxs)("button",{onClick:()=>a(!i),style:A,children:[(0,n.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:600,fontSize:14},children:t}),(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transition:"transform 0.2s",transform:i?"rotate(180deg)":"rotate(0)"},children:(0,n.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),i&&(0,n.jsx)("div",{style:{padding:"0 16px 14px",fontSize:13,color:"var(--color-text-secondary)",lineHeight:1.5},children:r})]})}let f={maxWidth:600,margin:"0 auto",padding:16,minHeight:"calc(100dvh - 60px)"},p={display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:"50%",background:"var(--color-bg)",border:"1px solid var(--color-border)",cursor:"pointer"},g={borderRadius:16,overflow:"hidden",marginBottom:24},m={background:"linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #15803d 100%)",padding:"32px 24px",minHeight:160,display:"flex",flexDirection:"column",justifyContent:"center"},x={background:"var(--color-bg)",borderRadius:16,boxShadow:"var(--shadow-card)",padding:20,marginBottom:24,border:"2px solid var(--color-accent)"},v={display:"inline-block",padding:"4px 12px",background:"linear-gradient(135deg, #fbbf24, #f59e0b)",color:"#78350f",fontSize:11,fontWeight:800,borderRadius:100,letterSpacing:1},y={display:"flex",alignItems:"flex-start",gap:14,padding:16,background:"var(--color-bg)",borderRadius:12,boxShadow:"var(--shadow-card)"},b={width:48,height:48,borderRadius:12,background:"#f0fdf4",color:"var(--color-accent)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},j={padding:18,borderRadius:14,cursor:"pointer",transition:"all 0.2s"},w={width:22,height:22,borderRadius:"50%",border:"2px solid var(--color-border)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},S={width:12,height:12,borderRadius:"50%",background:"var(--color-accent)"},k={position:"absolute",top:-10,right:16,padding:"4px 10px",background:"#dc2626",color:"#fff",fontSize:10,fontWeight:800,borderRadius:100,letterSpacing:.5},C={width:"100%",padding:16,background:"var(--color-accent)",color:"#fff",fontSize:16,fontWeight:700,borderRadius:12,border:"none",cursor:"pointer",marginTop:16,transition:"opacity 0.2s"},R={marginTop:14,padding:"10px 20px",background:"transparent",color:"var(--color-text-muted)",fontSize:13,fontWeight:500,border:"1px solid var(--color-border)",borderRadius:8,cursor:"pointer",width:"100%"},z={position:"fixed",inset:0,zIndex:2e3,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:24},B={background:"var(--color-bg)",borderRadius:16,padding:24,width:"100%",maxWidth:400,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},E={flex:1,padding:"12px 16px",fontSize:14,fontWeight:600,background:"var(--color-accent)",color:"#fff",border:"none",borderRadius:8,cursor:"pointer"},T={flex:1,padding:"12px 16px",fontSize:14,fontWeight:600,background:"transparent",color:"#dc2626",border:"1px solid #dc2626",borderRadius:8,cursor:"pointer"},A={display:"flex",alignItems:"center",gap:10,width:"100%",padding:"14px 16px",background:"none",border:"none",cursor:"pointer",color:"var(--color-text)",textAlign:"left"},W={width:24,height:24,border:"3px solid var(--color-border)",borderTopColor:"var(--color-accent)",borderRadius:"50%",animation:"spin 0.8s linear infinite"}},8779:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437),o=r(2265),i=r(9376),a=r(7128);function s(e){let{children:t}=e,{isAuthenticated:r,loading:s}=(0,a.a)(),l=(0,i.useRouter)();return((0,o.useEffect)(()=>{if(!s&&!r){let e=window.location.pathname;l.push("/login?return=".concat(encodeURIComponent(e)))}},[s,r,l]),s)?(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,n.jsx)("div",{style:{width:32,height:32,border:"3px solid var(--color-border)",borderTopColor:"var(--color-accent)",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}):r?t:null}},7128:function(e,t,r){"use strict";r.d(t,{H:function(){return s},a:function(){return l}});var n=r(7437),o=r(2265),i=r(6428);let a=(0,o.createContext)(null);function s(e){let{children:t}=e,[r,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(!0),d=(0,o.useRef)(!0);(0,o.useEffect)(()=>(d.current=!0,()=>{d.current=!1}),[]);let u=(0,o.useCallback)(async()=>{if(!(0,i.LP)()){d.current&&(s(null),c(!1));return}try{let e=await (0,i.SC)("/auth/session.php");if(!d.current)return;e.authenticated&&e.customer?s(e.customer):((0,i.o4)(null),s(null))}catch(e){if(!d.current)return;"AbortError"!==e.name&&console.warn("[Auth] Session check failed"),(0,i.o4)(null),s(null)}finally{d.current&&c(!1)}},[]);(0,o.useEffect)(()=>{u()},[u]);let h=(0,o.useCallback)(async(e,t)=>{try{let r=await (0,i.sg)("/auth/login.php",{email:e,senha:t});if(!d.current)return null;return(0,i.o4)(r.token),s(r.customer),r.customer}catch(e){throw console.warn("[AuthContext] Login failed:",e.message),e}},[]),f=(0,o.useCallback)(async e=>{try{let t=await (0,i.sg)("/auth/register.php",e);if(!d.current)return null;return(0,i.o4)(t.token),s(t.customer),t.customer}catch(e){throw console.warn("[AuthContext] Register failed:",e.message),e}},[]),p=(0,o.useCallback)(async e=>{try{let t=await (0,i.sg)("/auth/google.php",{credential:e});if(!d.current)return null;return(0,i.o4)(t.token),s(t.customer),t}catch(e){throw console.warn("[AuthContext] Google login failed:",e.message),e}},[]),g=(0,o.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"whatsapp";try{let r={channel:t};return"email"===t?r.email=e:r.phone=e,await (0,i.sg)("/auth/send-code.php",r)}catch(e){throw console.warn("[AuthContext] Send OTP failed:",e.message),e}},[]),m=(0,o.useCallback)(async(e,t,r)=>{try{let n={phone:e,code:t};r&&(n.name=r);let o=await (0,i.sg)("/auth/verify-code.php",n);if(!d.current)return null;return(0,i.o4)(o.token),s(o.customer),o}catch(e){throw console.warn("[AuthContext] Verify OTP failed:",e.message),e}},[]),x=(0,o.useCallback)(()=>{(0,i.o4)(null),s(null)},[]),v=(0,o.useCallback)(e=>{s(t=>t?{...t,...e}:t)},[]),y=(0,o.useMemo)(()=>({customer:r,loading:l,isAuthenticated:!!r,login:h,loginWithGoogle:p,register:f,sendOtp:g,verifyOtp:m,logout:x,updateCustomer:v,refreshSession:u}),[r,l,h,p,f,g,m,x,v,u]);return(0,n.jsx)(a.Provider,{value:y,children:t})}function l(){let e=(0,o.useContext)(a);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},7650:function(e,t,r){"use strict";function n(e){return null!=e&&"number"==typeof e&&Number.isFinite(e)?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e):"R$ 0,00"}function o(e){if(!e)return"";let t=String(e);if(t.length>20)return"";let r=t.replace(/\D/g,"");return 8===r.length&&/^\d{8}$/.test(r)?"".concat(r.slice(0,5),"-").concat(r.slice(5)):""}function i(e){if(null==e||"number"!=typeof e||!Number.isFinite(e)||e<0)return"";let t=Math.round(e);if(0===t)return"";if(t<60)return"".concat(t," min");let r=Math.floor(t/60),n=t%60;return n>0?"".concat(r,"h").concat(n,"min"):"".concat(r,"h")}function a(e){if(null==e)return"0.0";let t=Number(e);return Number.isFinite(t)?t.toFixed(1):"0.0"}function s(e){if(null==e)return"";let t=Number(e);return isNaN(t)?n(0):0===t?"Gratis":n(t)}r.d(t,{A6:function(){return a},ci:function(){return s},gN:function(){return i},hR:function(){return o},o_:function(){return n}})},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},257:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],c=!1,d=-1;function u(){c&&n&&(c=!1,n.length?l=n.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=s(u);c=!0;for(var t=l.length;t;){for(n=l,l=[];++d<t;)n&&n[d].run();d=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()}},function(e){e.O(0,[7648,2971,2117,1744],function(){return e(e.s=5833)}),_N_E=e.O()}]);