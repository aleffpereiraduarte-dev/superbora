(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4550],{8992:function(e,s,a){Promise.resolve().then(a.bind(a,5591))},7885:function(e,s,a){"use strict";a.d(s,{F:function(){return n},f:function(){return o}});var t=a(7437),l=a(2265);let r="superbora_theme",i=(0,l.createContext)(null);function o(e){let{children:s}=e,[a,o]=(0,l.useState)("light"),[n,c]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem(r);"dark"===e||"light"===e?o(e):o(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),c(!0)},[]),(0,l.useEffect)(()=>{if(!n)return;document.documentElement.setAttribute("data-theme",a),localStorage.setItem(r,a);let e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","dark"===a?"#1a1a2e":"#ffffff")},[a,n]);let d=(0,l.useCallback)(()=>{o(e=>"light"===e?"dark":"light")},[]),h=(0,l.useCallback)(()=>o("light"),[]),m=(0,l.useCallback)(()=>o("dark"),[]);return(0,t.jsx)(i.Provider,{value:{theme:a,isDark:"dark"===a,toggleTheme:d,setLightTheme:h,setDarkTheme:m},children:s})}function n(){let e=(0,l.useContext)(i);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},5591:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return B}});var t=a(7437),l=a(2265),r=a(9376),i=a(7648),o=a(8779),n=a(7128),c=a(7885),d=a(6428),h=a(8113),m=a.n(h);function u(){let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)(!0),[i,o]=(0,l.useState)(!1),[n,c]=(0,l.useState)(!1),h=(0,l.useRef)(null),u=(0,l.useRef)(null);(0,l.useEffect)(()=>((0,d.SC)("/customer/referral.php").then(e=>s(e)).catch(e=>{"AbortError"!==e.name&&console.warn("[Referral] Failed to load referral data")}).finally(()=>r(!1)),()=>{h.current&&clearTimeout(h.current),u.current&&clearTimeout(u.current)}),[]);let x=(0,l.useCallback)(async()=>{if(!e)return;let s=e.share_text;if(navigator.share)try{await navigator.share({title:"SuperBora - Indicar amigo",text:s}),c(!0),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>c(!1),2e3);return}catch(e){console.warn("[Referral] Share failed, using clipboard fallback")}try{await navigator.clipboard.writeText(s),o(!0),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>o(!1),2e3)}catch(a){console.warn("[Referral] Clipboard API failed, using textarea fallback");let e=document.createElement("textarea");e.value=s,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),o(!0),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>o(!1),2e3)}},[e]);return a?(0,t.jsx)("div",{className:m().section,children:(0,t.jsx)("div",{className:m().loading,children:"Carregando..."})}):e?(0,t.jsxs)("div",{className:m().section,children:[(0,t.jsxs)("div",{className:m().header,children:[(0,t.jsxs)("svg",{className:m().icon,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"8.5",cy:"7",r:"4"}),(0,t.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),(0,t.jsx)("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),(0,t.jsx)("div",{className:m().title,children:"Indicar amigos"})]}),(0,t.jsxs)("div",{className:m().body,children:[(0,t.jsx)("div",{className:m().description,children:"Convide amigos para o SuperBora! Voce ganha 500 pontos e seu amigo ganha R$10 de desconto."}),(0,t.jsxs)("div",{className:m().codeBox,children:[(0,t.jsx)("div",{className:m().codeLabel,children:"Seu codigo"}),(0,t.jsx)("div",{className:m().code,children:e.referral_code})]}),(0,t.jsxs)("button",{className:m().shareBtn,onClick:x,type:"button",children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"18",cy:"5",r:"3"}),(0,t.jsx)("circle",{cx:"6",cy:"12",r:"3"}),(0,t.jsx)("circle",{cx:"18",cy:"19",r:"3"}),(0,t.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),(0,t.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),i?"Copiado!":n?"Compartilhado!":"Compartilhar"]}),e.total_referrals>0&&(0,t.jsxs)("div",{className:m().stats,children:[(0,t.jsxs)("div",{className:m().stat,children:[(0,t.jsx)("div",{className:m().statValue,children:e.total_referrals}),(0,t.jsx)("div",{className:m().statLabel,children:1===e.total_referrals?"amigo indicado":"amigos indicados"})]}),e.total_points_earned>0&&(0,t.jsxs)("div",{className:m().stat,children:[(0,t.jsx)("div",{className:m().statValue,children:e.total_points_earned}),(0,t.jsx)("div",{className:m().statLabel,children:"pontos ganhos"})]})]})]})]}):null}var x=a(2563),_=a(1314),g=a(1564),p=a.n(g);let f={"shopping-bag":"\uD83D\uDECD️",star:"⭐",award:"\uD83C\uDFC6",trophy:"\uD83C\uDFC6",crown:"\uD83D\uDC51",diamond:"\uD83D\uDC8E",flame:"\uD83D\uDD25",zap:"⚡",fire:"\uD83D\uDD25",medal:"\uD83C\uDFC5","message-square":"\uD83D\uDCAC",camera:"\uD83D\uDCF8",moon:"\uD83C\uDF19",sunrise:"\uD83C\uDF05",calendar:"\uD83D\uDCC5","credit-card":"\uD83D\uDCB3",gem:"\uD83D\uDC8E",heart:"❤️"};function v(e){let{badge:s,onClose:a,duration:r=5e3}=e,[i,o]=(0,l.useState)(!1),[n,c]=(0,l.useState)([]),d=(0,l.useCallback)(()=>{o(!0),setTimeout(()=>{null==a||a()},300)},[a]);return((0,l.useEffect)(()=>{if(!s)return;let e=["#10b981","#f59e0b","#3b82f6","#ec4899","#8b5cf6"],a=[];for(let s=0;s<30;s++)a.push({id:s,left:100*Math.random(),color:e[Math.floor(Math.random()*e.length)],delay:.5*Math.random(),size:6+8*Math.random()});c(a);let t=setTimeout(()=>c([]),3e3);return()=>clearTimeout(t)},[s]),(0,l.useEffect)(()=>{if(!s||r<=0)return;let e=setTimeout(d,r);return()=>clearTimeout(e)},[s,r,d]),s)?(0,t.jsxs)(t.Fragment,{children:[n.length>0&&(0,t.jsx)("div",{className:p().confetti,children:n.map(e=>(0,t.jsx)("div",{className:p().confettiPiece,style:{left:"".concat(e.left,"%"),background:e.color,width:e.size,height:e.size,borderRadius:Math.random()>.5?"50%":"2px",animationDelay:"".concat(e.delay,"s")}},e.id))}),(0,t.jsxs)("div",{className:"".concat(p().achievementToast," ").concat(i?p().achievementToastLeaving:""),role:"alert","aria-live":"polite",children:[(0,t.jsx)("div",{className:p().achievementIcon,children:f[s.icon]||"\uD83C\uDFC6"}),(0,t.jsxs)("div",{className:p().achievementContent,children:[(0,t.jsx)("div",{className:p().achievementLabel,children:"Nova conquista!"}),(0,t.jsx)("div",{className:p().achievementName,children:s.name}),s.points_reward>0&&(0,t.jsxs)("div",{className:p().achievementPoints,children:["+",s.points_reward," pontos"]})]}),(0,t.jsx)("button",{className:p().achievementClose,onClick:d,"aria-label":"Fechar",children:(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}):null}function j(e){let{badges:s=[],onBadgeDismissed:a}=e,[r,i]=(0,l.useState)([]),[o,n]=(0,l.useState)(null);(0,l.useEffect)(()=>{s.length>0&&i(e=>[...e,...s])},[s]),(0,l.useEffect)(()=>{!o&&r.length>0&&(n(r[0]),i(e=>e.slice(1)))},[o,r]);let c=(0,l.useCallback)(()=>{o&&(null==a||a(o)),n(null)},[o,a]);return o?(0,t.jsx)(v,{badge:o,onClose:c}):null}function b(){let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)(!0),[o,n]=(0,l.useState)([]);return((0,l.useEffect)(()=>{(0,d.SC)("/vitrine/gamification.php").then(e=>{s(e),e.new_badges&&e.new_badges.length>0&&n(e.new_badges)}).catch(e=>{console.error("Failed to load gamification:",e)}).finally(()=>r(!1))},[]),a)?(0,t.jsx)("div",{className:p().card,children:(0,t.jsx)("div",{className:p().loading,children:(0,t.jsx)("div",{className:p().spinner})})}):e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{badges:o,onBadgeDismissed:()=>{}}),(0,t.jsxs)("div",{className:p().card,children:[(0,t.jsxs)("div",{className:p().cardHeader,children:[(0,t.jsxs)("div",{className:p().cardTitle,children:[(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"8",r:"7"}),(0,t.jsx)("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})]}),"Minhas Conquistas"]}),(0,t.jsx)(i.default,{href:"/conquistas",className:p().cardLink,children:"Ver todas"})]}),(0,t.jsxs)("div",{className:p().cardBody,children:[(0,t.jsx)(_.Z,{streak:e.streak}),(0,t.jsxs)("div",{className:p().levelRow,children:[(0,t.jsx)("div",{className:p().levelBadge,style:{background:"linear-gradient(135deg, ".concat(e.level.color,"40, ").concat(e.level.color,"20)"),border:"2px solid ".concat(e.level.color)},children:e.level.icon}),(0,t.jsxs)("div",{className:p().levelInfo,children:[(0,t.jsx)("div",{className:p().levelName,children:e.level.name}),(0,t.jsxs)("div",{className:p().levelPoints,children:[e.points.total.toLocaleString("pt-BR")," pontos"]})]})]}),(0,t.jsx)(x.Z,{level:e.level,points:e.points,nextLevel:e.next_level}),(0,t.jsxs)("div",{className:p().statsRow,children:[(0,t.jsxs)("div",{className:p().stat,children:[(0,t.jsx)("div",{className:p().statValue,children:e.stats.total_orders}),(0,t.jsx)("div",{className:p().statLabel,children:"Pedidos"})]}),(0,t.jsxs)("div",{className:p().stat,children:[(0,t.jsxs)("div",{className:p().statValue,children:[e.badges.total_earned,"/",e.badges.total_available]}),(0,t.jsx)("div",{className:p().statLabel,children:"Conquistas"})]}),(0,t.jsxs)("div",{className:p().stat,children:[(0,t.jsx)("div",{className:p().statValue,children:e.stats.total_reviews}),(0,t.jsx)("div",{className:p().statLabel,children:"Avaliacoes"})]})]})]})]})]}):null}var N=a(7585),y=a.n(N);let C=(0,l.memo)(function(e){let{label:s,description:a,checked:l,onChange:r,disabled:i=!1,icon:o}=e;return(0,t.jsxs)("div",{className:"".concat(y().toggleRow," ").concat(i?y().toggleDisabled:""),onClick:()=>!i&&r(!l),children:[o&&(0,t.jsx)("div",{className:y().toggleIcon,children:o}),(0,t.jsxs)("div",{className:y().toggleContent,children:[(0,t.jsx)("div",{className:y().toggleLabel,children:s}),a&&(0,t.jsx)("div",{className:y().toggleDescription,children:a})]}),(0,t.jsx)("div",{className:"".concat(y().switch," ").concat(l?y().switchActive:""),children:(0,t.jsx)("div",{className:y().switchKnob})})]})});function w(e){let{enabled:s,onToggle:a,startTime:r,endTime:i,onStartChange:o,onEndChange:n,disabled:c=!1}=e,[d,h]=(0,l.useState)(r||"22:00"),[m,u]=(0,l.useState)(i||"08:00");(0,l.useEffect)(()=>{h(r||"22:00")},[r]),(0,l.useEffect)(()=>{u(i||"08:00")},[i]);let x=e=>{h(e),o(e)},_=e=>{u(e),n(e)};return(0,t.jsxs)("div",{className:y().dndContainer,children:[(0,t.jsxs)("div",{className:"".concat(y().toggleRow," ").concat(c?y().toggleDisabled:""),onClick:()=>!c&&a(!s),children:[(0,t.jsx)("div",{className:y().toggleIcon,children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),(0,t.jsxs)("div",{className:y().toggleContent,children:[(0,t.jsx)("div",{className:y().toggleLabel,children:"Nao perturbe"}),(0,t.jsx)("div",{className:y().toggleDescription,children:"Silenciar notificacoes durante um periodo"})]}),(0,t.jsx)("div",{className:"".concat(y().switch," ").concat(s?y().switchActive:""),children:(0,t.jsx)("div",{className:y().switchKnob})})]}),s&&(0,t.jsxs)("div",{className:y().dndSchedule,children:[(0,t.jsxs)("div",{className:y().timePickerRow,children:[(0,t.jsxs)("div",{className:y().timePickerGroup,children:[(0,t.jsx)("label",{className:y().timeLabel,children:"Inicio"}),(0,t.jsx)("input",{type:"time",value:d,onChange:e=>x(e.target.value),className:y().timeInput,disabled:c})]}),(0,t.jsx)("div",{className:y().timeSeparator,children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})}),(0,t.jsxs)("div",{className:y().timePickerGroup,children:[(0,t.jsx)("label",{className:y().timeLabel,children:"Fim"}),(0,t.jsx)("input",{type:"time",value:m,onChange:e=>_(e.target.value),className:y().timeInput,disabled:c})]})]}),(0,t.jsxs)("div",{className:y().dndHint,children:["Notificacoes serao silenciadas de ",d," ate ",m]})]})]})}function P(){let[e,s]=(0,l.useState)(!0),[a,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[n,c]=(0,l.useState)(!1),[h,m]=(0,l.useState)(!1),[u,x]=(0,l.useState)({orders_enabled:!0,promotions_enabled:!0,news_enabled:!0,reminders_enabled:!0,dnd_enabled:!1,dnd_start:"22:00",dnd_end:"08:00",email_enabled:!0,push_enabled:!0,sms_enabled:!1}),[_,g]=(0,l.useState)(null);(0,l.useEffect)(()=>{p()},[]);let p=async()=>{s(!0),o(null);try{let e=await (0,d.SC)("/vitrine/notification-prefs.php");e.preferences&&(x(e.preferences),g(e.preferences))}catch(e){o(e.message||"Erro ao carregar preferencias")}finally{s(!1)}},f=(0,l.useCallback)((e,s)=>{x(a=>({...a,[e]:s})),m(!0),c(!1)},[]),v=async()=>{r(!0),o(null),c(!1);try{let e=await (0,d.sg)("/vitrine/notification-prefs.php",u);e.preferences&&(x(e.preferences),g(e.preferences)),m(!1),c(!0),setTimeout(()=>c(!1),3e3)}catch(e){o(e.message||"Erro ao salvar preferencias")}finally{r(!1)}};return e?(0,t.jsx)("div",{className:y().container,children:(0,t.jsxs)("div",{className:y().loadingState,children:[(0,t.jsx)("div",{className:y().spinner}),(0,t.jsx)("span",{children:"Carregando preferencias..."})]})}):(0,t.jsxs)("div",{className:y().container,children:[(0,t.jsxs)("div",{className:y().header,children:[(0,t.jsx)("div",{className:y().headerIcon,children:(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,t.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}),(0,t.jsxs)("div",{className:y().headerText,children:[(0,t.jsx)("h3",{className:y().title,children:"Preferencias de Notificacao"}),(0,t.jsx)("p",{className:y().subtitle,children:"Configure como e quando deseja receber notificacoes"})]})]}),i&&(0,t.jsxs)("div",{className:y().errorMsg,children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,t.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),i]}),n&&(0,t.jsxs)("div",{className:y().successMsg,children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"Preferencias salvas com sucesso!"]}),(0,t.jsxs)("div",{className:y().section,children:[(0,t.jsx)("div",{className:y().sectionTitle,children:"Categorias"}),(0,t.jsx)("div",{className:y().sectionSubtitle,children:"Escolha quais tipos de notificacao deseja receber"}),(0,t.jsx)(C,{label:"Pedidos",description:"Atualizacoes sobre seus pedidos em andamento",checked:u.orders_enabled,onChange:e=>f("orders_enabled",e),disabled:a,icon:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,t.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,t.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,t.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),(0,t.jsx)(C,{label:"Promocoes",description:"Ofertas especiais e descontos exclusivos",checked:u.promotions_enabled,onChange:e=>f("promotions_enabled",e),disabled:a,icon:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("polyline",{points:"20 12 20 22 4 22 4 12"}),(0,t.jsx)("rect",{x:"2",y:"7",width:"20",height:"5"}),(0,t.jsx)("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),(0,t.jsx)("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),(0,t.jsx)("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"})]})}),(0,t.jsx)(C,{label:"Novidades",description:"Novos restaurantes e funcionalidades",checked:u.news_enabled,onChange:e=>f("news_enabled",e),disabled:a,icon:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),(0,t.jsx)(C,{label:"Lembretes",description:"Carrinho abandonado e sugestoes personalizadas",checked:u.reminders_enabled,onChange:e=>f("reminders_enabled",e),disabled:a,icon:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("polyline",{points:"12 6 12 12 16 14"})]})})]}),(0,t.jsxs)("div",{className:y().section,children:[(0,t.jsx)("div",{className:y().sectionTitle,children:"Canais"}),(0,t.jsx)("div",{className:y().sectionSubtitle,children:"Como deseja receber suas notificacoes"}),(0,t.jsx)(C,{label:"Push",description:"Notificacoes no seu dispositivo",checked:u.push_enabled,onChange:e=>f("push_enabled",e),disabled:a,icon:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),(0,t.jsx)("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]})}),(0,t.jsx)(C,{label:"Email",description:"Resumos e informacoes importantes",checked:u.email_enabled,onChange:e=>f("email_enabled",e),disabled:a,icon:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,t.jsx)("polyline",{points:"22,6 12,13 2,6"})]})}),(0,t.jsx)(C,{label:"SMS",description:"Mensagens de texto para alertas criticos",checked:u.sms_enabled,onChange:e=>f("sms_enabled",e),disabled:a,icon:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})]}),(0,t.jsxs)("div",{className:y().section,children:[(0,t.jsx)("div",{className:y().sectionTitle,children:"Horario Silencioso"}),(0,t.jsx)("div",{className:y().sectionSubtitle,children:"Configure um periodo para silenciar notificacoes"}),(0,t.jsx)(w,{enabled:u.dnd_enabled,onToggle:e=>f("dnd_enabled",e),startTime:u.dnd_start,endTime:u.dnd_end,onStartChange:e=>f("dnd_start",e),onEndChange:e=>f("dnd_end",e),disabled:a})]}),(0,t.jsxs)("div",{className:y().actions,children:[h&&(0,t.jsx)("button",{className:y().resetBtn,onClick:()=>{_&&(x(_),m(!1))},disabled:a,type:"button",children:"Cancelar"}),(0,t.jsx)("button",{className:y().saveBtn,onClick:v,disabled:a||!h,type:"button",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:y().btnSpinner}),"Salvando..."]}):"Salvar preferencias"})]})]})}var k=a(940),S=a.n(k);function B(){return(0,t.jsx)(o.Z,{children:(0,t.jsx)(I,{})})}function I(){let e=(0,r.useRouter)(),{customer:s,logout:a,updateCustomer:o}=(0,n.a)(),{isDark:h,toggleTheme:m}=(0,c.F)(),[x,_]=(0,l.useState)([]),[g,p]=(0,l.useState)(!1),[f,v]=(0,l.useState)(""),[j,N]=(0,l.useState)(""),[y,C]=(0,l.useState)(!1),[w,k]=(0,l.useState)(null),[B,I]=(0,l.useState)(!1),[L,E]=(0,l.useState)(""),[T,A]=(0,l.useState)(!1),[D,R]=(0,l.useState)(null),[M,W]=(0,l.useState)(!1),[z,F]=(0,l.useState)(!1),[G,H]=(0,l.useState)(""),[q,V]=(0,l.useState)(""),[O,U]=(0,l.useState)(""),[X,K]=(0,l.useState)(!1),[J,Q]=(0,l.useState)(null),[Z,Y]=(0,l.useState)(null),[$,ee]=(0,l.useState)({label:"Casa",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""}),[es,ea]=(0,l.useState)(!1),[et,el]=(0,l.useState)(!1),[er,ei]=(0,l.useState)({label:"Casa",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""}),[eo,en]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(0,d.SC)("/addresses/list.php").then(e=>_(e.addresses||[])).catch(e=>{"AbortError"!==e.name&&console.warn("[Profile] Failed to load addresses")}),W(!0),(0,d.SC)("/customer/cashback.php").then(e=>R(e)).catch(e=>{"AbortError"!==e.name&&console.warn("[Profile] Failed to load cashback data")}).finally(()=>W(!1))},[]);let ec=(0,l.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";k({message:e,type:s}),setTimeout(()=>k(null),3e3)},[]);async function ed(){if(!f.trim()){ec("Nome e obrigatorio","error");return}if(!j.trim()){ec("Telefone e obrigatorio","error");return}C(!0);try{let e=await (0,d.sg)("/customer/profile.php",{nome:f.trim(),telefone:j.trim()});o({nome:e.nome,telefone:e.telefone}),p(!1),ec("Perfil atualizado com sucesso!")}catch(e){ec(e.message||"Erro ao salvar","error")}finally{C(!1)}}async function eh(){if(Q(null),!G.trim()){Q({type:"error",text:"Informe a senha atual"});return}if(q.length<6){Q({type:"error",text:"Nova senha deve ter no minimo 6 caracteres"});return}if(q!==O){Q({type:"error",text:"Nova senha e confirmacao nao conferem"});return}K(!0);try{await (0,d.sg)("/auth/change-password.php",{current_password:G,new_password:q,confirm_password:O}),Q({type:"success",text:"Senha alterada com sucesso!"}),H(""),V(""),U("")}catch(e){Q({type:"error",text:e.message||"Erro ao alterar senha"})}finally{K(!1)}}function em(){Y(null),ee({label:"Casa",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""})}async function eu(e){let s=e.replace(/\D/g,"");if(8===s.length)try{let e=await fetch("https://viacep.com.br/ws/".concat(s,"/json/")),a=await e.json();a.erro||ee(e=>({...e,logradouro:a.logradouro||e.logradouro,bairro:a.bairro||e.bairro,cidade:a.localidade||e.cidade,estado:a.uf||e.estado}))}catch(e){console.warn("[Profile] CEP lookup failed:",e.message)}}async function ex(){if(!$.logradouro.trim()||!$.numero.trim()||!$.bairro.trim()||!$.cidade.trim()||!$.estado.trim()){ec("Preencha todos os campos obrigatorios","error");return}ea(!0);try{let e=(await (0,d.pE)("/addresses/list.php",{address_id:Z,...$})).address;_(s=>s.map(s=>s.id===Z?{...s,...e}:s)),Y(null),ec("Endereco atualizado!")}catch(e){ec(e.message||"Erro ao atualizar endereco","error")}finally{ea(!1)}}async function e_(e){if(window.confirm("Tem certeza que deseja excluir este endereco?"))try{await (0,d.QW)("/addresses/list.php",{id:e}),_(s=>s.filter(s=>s.id!==e)),Z===e&&Y(null),ec("Endereco removido!")}catch(e){ec(e.message||"Erro ao remover endereco","error")}}async function eg(e){let s=e.replace(/\D/g,"");if(8===s.length)try{let e=await fetch("https://viacep.com.br/ws/".concat(s,"/json/")),a=await e.json();a.erro||ei(e=>({...e,logradouro:a.logradouro||e.logradouro,bairro:a.bairro||e.bairro,cidade:a.localidade||e.cidade,estado:a.uf||e.estado}))}catch(e){console.warn("[Profile] CEP lookup failed:",e.message)}}async function ep(){if(!er.logradouro.trim()||!er.numero.trim()||!er.bairro.trim()||!er.cidade.trim()||!er.estado.trim()){ec("Preencha todos os campos obrigatorios","error");return}en(!0);try{await (0,d.sg)("/addresses/list.php",{...er,is_default:0===x.length});let e=await (0,d.SC)("/addresses/list.php");_(e.addresses||[]),el(!1),ei({label:"Casa",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""}),ec("Endereco adicionado!")}catch(e){ec(e.message||"Erro ao adicionar endereco","error")}finally{en(!1)}}async function ef(e){try{let s=(0,d.LP)(),a=await fetch("/api/mercado/addresses/list.php",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({address_id:e,is_default:!0})});if(!a.ok){console.warn("[Profile] Failed to set default address: HTTP",a.status);return}(await a.json()).success&&(_(s=>s.map(s=>({...s,is_default:s.id===e}))),ec("Endereco padrao atualizado!"))}catch(e){console.warn("[Profile] Failed to set default address:",e.message)}}async function ev(){if(!L.trim()){ec("Digite sua senha para confirmar","error");return}A(!0);try{let s=await fetch("/api/mercado/customer/account.php",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,d.LP)())},body:JSON.stringify({senha:L})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.message||"Erro ao excluir conta")}let t=await s.json();if(!t.success)throw Error(t.message||"Erro ao excluir conta");ec("Conta excluida com sucesso"),setTimeout(()=>{a(),e.push("/")},1500)}catch(e){ec(e.message||"Erro ao excluir conta","error")}finally{A(!1)}}if(!s)return null;let ej=(s.nome||"").split(" ").filter(Boolean).slice(0,2).map(e=>e[0]).join("").toUpperCase();return(0,t.jsxs)("div",{className:S().page,children:[(0,t.jsx)("div",{className:S().header,children:(0,t.jsx)("div",{className:S().title,children:"Meu perfil"})}),(0,t.jsxs)("div",{className:S().profileCard,children:[(0,t.jsx)("div",{className:S().profileAvatar,children:ej}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:S().profileName,children:s.nome}),(0,t.jsx)("div",{className:S().profileEmail,children:s.email})]})]}),(0,t.jsxs)("div",{className:S().section,children:[(0,t.jsxs)(i.default,{href:"/pedidos",className:S().menuItem,children:[(0,t.jsxs)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,t.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),(0,t.jsx)("span",{className:S().menuLabel,children:"Meus pedidos"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,t.jsxs)(i.default,{href:"/listas",className:S().menuItem,children:[(0,t.jsx)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),(0,t.jsx)("span",{className:S().menuLabel,children:"Minhas Listas"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,t.jsxs)(i.default,{href:"/conquistas",className:S().menuItem,children:[(0,t.jsxs)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"8",r:"7"}),(0,t.jsx)("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})]}),(0,t.jsx)("span",{className:S().menuLabel,children:"Conquistas"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,t.jsxs)(i.default,{href:"/ajuda",className:S().menuItem,children:[(0,t.jsxs)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,t.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),(0,t.jsx)("span",{className:S().menuLabel,children:"Ajuda"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,t.jsxs)(i.default,{href:"/carrinho",className:S().menuItem,children:[(0,t.jsxs)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,t.jsx)("circle",{cx:"20",cy:"21",r:"1"}),(0,t.jsx)("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),(0,t.jsx)("span",{className:S().menuLabel,children:"Carrinho"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,t.jsxs)(i.default,{href:"/carteira",className:S().menuItem,children:[(0,t.jsxs)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),(0,t.jsx)("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),(0,t.jsx)("span",{className:S().menuLabel,children:"Carteira"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,t.jsxs)(i.default,{href:"/enderecos",className:S().menuItem,children:[(0,t.jsxs)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,t.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),(0,t.jsx)("span",{className:S().menuLabel,children:"Meus enderecos"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,t.jsxs)(i.default,{href:"/gift-card",className:S().menuItem,children:[(0,t.jsxs)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("rect",{x:"3",y:"8",width:"18",height:"14",rx:"2"}),(0,t.jsx)("path",{d:"M12 8V22"}),(0,t.jsx)("path",{d:"M3 12h18"}),(0,t.jsx)("path",{d:"M12 8c-2-3-6-3-6 0s4 3 6 0"}),(0,t.jsx)("path",{d:"M12 8c2-3 6-3 6 0s-4 3-6 0"})]}),(0,t.jsx)("span",{className:S().menuLabel,children:"Cartao Presente"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]})]}),(0,t.jsxs)("div",{className:S().section,children:[(0,t.jsx)("div",{className:S().sectionTitle,style:{padding:0,marginBottom:12},children:"Meu Cashback"}),M?(0,t.jsx)("div",{style:{padding:16,textAlign:"center",color:"var(--color-text-muted)"},children:"Carregando..."}):(null==D?void 0:D.wallet)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:12,padding:20,color:"white",marginBottom:16},children:[(0,t.jsx)("div",{style:{fontSize:13,opacity:.9,marginBottom:4},children:"Saldo disponivel"}),(0,t.jsx)("div",{style:{fontSize:32,fontWeight:700,marginBottom:8},children:D.wallet.available_formatted}),D.wallet.expiring_soon>0&&(0,t.jsxs)("div",{style:{fontSize:12,background:"rgba(255,255,255,0.2)",padding:"6px 10px",borderRadius:6,display:"inline-block"},children:[D.wallet.expiring_soon_formatted," expirando em breve"]})]}),D.transactions&&D.transactions.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:600,marginBottom:8,color:"var(--color-text-secondary)"},children:"Ultimas transacoes"}),D.transactions.slice(0,5).map(e=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 0",borderBottom:"1px solid var(--color-border)"},children:[(0,t.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",background:"credit"===e.type?"#dcfce7":"debit"===e.type?"#dbeafe":"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:600,color:"credit"===e.type?"#10b981":"debit"===e.type?"#3b82f6":"#ef4444"},children:"credit"===e.type?"+":"-"}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:500},children:e.description}),(0,t.jsx)("div",{style:{fontSize:11,color:"var(--color-text-muted)"},children:e.created_at_formatted})]}),(0,t.jsx)("div",{style:{fontWeight:600,fontSize:14,color:"credit"===e.type?"#10b981":"debit"===e.type?"#3b82f6":"#ef4444"},children:e.amount_formatted})]},e.id))]})]}):(0,t.jsx)("div",{style:{padding:16,textAlign:"center",color:"var(--color-text-muted)",fontSize:14},children:"Voce ainda nao tem cashback. Faca pedidos para ganhar!"})]}),(0,t.jsx)(u,{}),(0,t.jsx)(b,{}),(0,t.jsx)(P,{}),(0,t.jsxs)("div",{className:S().section,children:[(0,t.jsxs)("div",{className:S().sectionHeader,children:[(0,t.jsx)("div",{className:S().sectionTitle,style:{padding:0},children:"Dados pessoais"}),!g&&(0,t.jsx)("button",{className:S().editBtn,onClick:function(){v(s.nome||""),N(s.telefone||""),p(!0)},children:"Editar"})]}),(0,t.jsxs)("div",{className:S().formSection,children:[(0,t.jsxs)("label",{className:S().formLabel,children:["Nome",(0,t.jsx)("input",{type:"text",value:g?f:s.nome||"",disabled:!g,onChange:e=>v(e.target.value),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,children:["Email",(0,t.jsx)("input",{type:"email",value:s.email||"",disabled:!0,className:S().formInput})]}),(0,t.jsxs)("div",{className:S().formRow,children:[(0,t.jsxs)("label",{className:S().formLabel,children:["Telefone",(0,t.jsx)("input",{type:"tel",value:g?j:s.telefone||"",disabled:!g,onChange:e=>N(e.target.value),className:S().formInput,placeholder:"(XX) XXXXX-XXXX"})]}),(0,t.jsxs)("label",{className:S().formLabel,children:["CPF",(0,t.jsx)("input",{type:"text",value:s.cpf||"",disabled:!0,className:S().formInput})]})]})]}),g&&(0,t.jsxs)("div",{className:S().formActions,children:[(0,t.jsx)("button",{className:S().cancelBtn,onClick:function(){p(!1),v(""),N("")},disabled:y,children:"Cancelar"}),(0,t.jsx)("button",{className:S().saveBtn,onClick:ed,disabled:y,children:y?"Salvando...":"Salvar"})]})]}),(0,t.jsxs)("div",{className:S().section,children:[(0,t.jsxs)("button",{className:S().collapsibleToggle,onClick:()=>{F(!z),Q(null)},children:[(0,t.jsxs)("svg",{className:S().collapsibleIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,t.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),(0,t.jsx)("span",{className:S().collapsibleLabel,children:"Alterar senha"}),(0,t.jsx)("svg",{className:"".concat(S().collapsibleArrow," ").concat(z?S().collapsibleArrowOpen:""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),z&&(0,t.jsxs)("div",{className:S().collapsibleContent,children:[J&&(0,t.jsx)("div",{className:"".concat(S().passwordMsg," ").concat("success"===J.type?S().passwordMsgSuccess:S().passwordMsgError),children:J.text}),(0,t.jsxs)("label",{className:S().formLabel,children:["Senha atual",(0,t.jsx)("input",{type:"password",value:G,onChange:e=>H(e.target.value),className:S().formInput,placeholder:"Digite sua senha atual",disabled:X})]}),(0,t.jsxs)("label",{className:S().formLabel,children:["Nova senha",(0,t.jsx)("input",{type:"password",value:q,onChange:e=>V(e.target.value),className:S().formInput,placeholder:"Minimo 6 caracteres",disabled:X})]}),(0,t.jsxs)("label",{className:S().formLabel,children:["Confirmar nova senha",(0,t.jsx)("input",{type:"password",value:O,onChange:e=>U(e.target.value),className:S().formInput,placeholder:"Repita a nova senha",disabled:X})]}),(0,t.jsx)("div",{className:S().formActions,style:{padding:0},children:(0,t.jsx)("button",{className:S().saveBtn,onClick:eh,disabled:X||!G||!q||!O,children:X?"Alterando...":"Alterar senha"})})]})]}),(0,t.jsx)("div",{className:S().section,children:(0,t.jsxs)("div",{className:S().themeToggle,onClick:m,role:"button",tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),m())},children:[(0,t.jsx)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,t.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,t.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,t.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,t.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,t.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,t.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,t.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,t.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):(0,t.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),(0,t.jsx)("span",{className:S().menuLabel,children:h?"Modo claro":"Modo escuro"}),(0,t.jsx)("div",{className:"".concat(S().themeSwitch," ").concat(h?S().active:""),children:(0,t.jsx)("div",{className:S().themeSwitchKnob})})]})}),(0,t.jsxs)("div",{className:S().section,children:[(0,t.jsxs)("div",{className:S().sectionHeader,children:[(0,t.jsx)("div",{className:S().sectionTitle,style:{padding:0},children:"Enderecos"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,t.jsx)(i.default,{href:"/enderecos",style:{fontSize:13,fontWeight:600,color:"var(--color-accent)",textDecoration:"none"},children:"Ver todos"}),!et&&(0,t.jsxs)("button",{className:S().editBtn,onClick:()=>el(!0),children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:4,verticalAlign:"middle"},children:[(0,t.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,t.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Adicionar"]})]})]}),et&&(0,t.jsxs)("div",{className:S().addressEditForm,children:[(0,t.jsxs)("div",{className:S().addressEditGrid,children:[(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Rotulo",(0,t.jsxs)("select",{value:er.label,onChange:e=>ei(s=>({...s,label:e.target.value})),className:S().addressLabelSelect,children:[(0,t.jsx)("option",{value:"Casa",children:"Casa"}),(0,t.jsx)("option",{value:"Trabalho",children:"Trabalho"}),(0,t.jsx)("option",{value:"Outro",children:"Outro"})]})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["CEP",(0,t.jsx)("input",{type:"text",value:er.cep,onChange:e=>{let s=e.target.value.replace(/\D/g,"").slice(0,8);ei(e=>({...e,cep:s})),8===s.length&&eg(s)},className:S().formInput,placeholder:"00000000"})]}),(0,t.jsxs)("label",{className:"".concat(S().formLabel," ").concat(S().addressEditFull),style:{marginBottom:0},children:["Rua *",(0,t.jsx)("input",{type:"text",value:er.logradouro,onChange:e=>ei(s=>({...s,logradouro:e.target.value})),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Numero *",(0,t.jsx)("input",{type:"text",value:er.numero,onChange:e=>ei(s=>({...s,numero:e.target.value})),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Complemento",(0,t.jsx)("input",{type:"text",value:er.complemento,onChange:e=>ei(s=>({...s,complemento:e.target.value})),className:S().formInput,placeholder:"Apto, bloco..."})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Bairro *",(0,t.jsx)("input",{type:"text",value:er.bairro,onChange:e=>ei(s=>({...s,bairro:e.target.value})),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Cidade *",(0,t.jsx)("input",{type:"text",value:er.cidade,onChange:e=>ei(s=>({...s,cidade:e.target.value})),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Estado *",(0,t.jsx)("input",{type:"text",value:er.estado,onChange:e=>ei(s=>({...s,estado:e.target.value.toUpperCase().slice(0,2)})),className:S().formInput,maxLength:2})]})]}),(0,t.jsxs)("div",{className:S().addressEditActions,children:[(0,t.jsx)("button",{className:S().cancelBtn,onClick:()=>{el(!1),ei({label:"Casa",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""})},disabled:eo,children:"Cancelar"}),(0,t.jsx)("button",{className:S().saveBtn,onClick:ep,disabled:eo,children:eo?"Salvando...":"Salvar"})]})]}),0!==x.length||et?x.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:S().addressItem,children:[(0,t.jsx)("button",{className:S().addressDefault,onClick:()=>ef(e.id),title:e.is_default?"Endereco padrao":"Definir como padrao",type:"button",children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:e.is_default?"var(--color-accent)":"none",stroke:e.is_default?"var(--color-accent)":"var(--color-text-muted)",strokeWidth:"2",children:(0,t.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),(0,t.jsx)("span",{className:S().addressBadge,children:e.label}),(0,t.jsxs)("span",{className:S().addressText,children:[e.formatted,e.is_default&&(0,t.jsx)("span",{style:{marginLeft:6,fontSize:11,color:"var(--color-accent)",fontWeight:600},children:"Padrao"})]}),(0,t.jsxs)("div",{className:S().addressActions,children:[(0,t.jsx)("button",{className:S().addressEdit,onClick:()=>Z===e.id?em():void(Y(e.id),ee({label:e.label||"Casa",cep:e.cep||"",logradouro:e.logradouro||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",estado:e.estado||""})),title:"Editar endereco",children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,t.jsx)("button",{className:S().addressDelete,onClick:()=>e_(e.id),children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),Z===e.id&&(0,t.jsxs)("div",{className:S().addressEditForm,children:[(0,t.jsxs)("div",{className:S().addressEditGrid,children:[(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Rotulo",(0,t.jsxs)("select",{value:$.label,onChange:e=>ee(s=>({...s,label:e.target.value})),className:S().addressLabelSelect,children:[(0,t.jsx)("option",{value:"Casa",children:"Casa"}),(0,t.jsx)("option",{value:"Trabalho",children:"Trabalho"}),(0,t.jsx)("option",{value:"Outro",children:"Outro"})]})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["CEP",(0,t.jsx)("input",{type:"text",value:$.cep,onChange:e=>{let s=e.target.value.replace(/\D/g,"").slice(0,8);ee(e=>({...e,cep:s})),8===s.length&&eu(s)},className:S().formInput,placeholder:"00000000"})]}),(0,t.jsxs)("label",{className:"".concat(S().formLabel," ").concat(S().addressEditFull),style:{marginBottom:0},children:["Rua",(0,t.jsx)("input",{type:"text",value:$.logradouro,onChange:e=>ee(s=>({...s,logradouro:e.target.value})),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Numero",(0,t.jsx)("input",{type:"text",value:$.numero,onChange:e=>ee(s=>({...s,numero:e.target.value})),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Complemento",(0,t.jsx)("input",{type:"text",value:$.complemento,onChange:e=>ee(s=>({...s,complemento:e.target.value})),className:S().formInput,placeholder:"Apto, bloco..."})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Bairro",(0,t.jsx)("input",{type:"text",value:$.bairro,onChange:e=>ee(s=>({...s,bairro:e.target.value})),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Cidade",(0,t.jsx)("input",{type:"text",value:$.cidade,onChange:e=>ee(s=>({...s,cidade:e.target.value})),className:S().formInput})]}),(0,t.jsxs)("label",{className:S().formLabel,style:{marginBottom:0},children:["Estado",(0,t.jsx)("input",{type:"text",value:$.estado,onChange:e=>ee(s=>({...s,estado:e.target.value.toUpperCase().slice(0,2)})),className:S().formInput,maxLength:2})]})]}),(0,t.jsxs)("div",{className:S().addressEditActions,children:[(0,t.jsx)("button",{className:S().cancelBtn,onClick:em,disabled:es,children:"Cancelar"}),(0,t.jsx)("button",{className:S().saveBtn,onClick:ex,disabled:es,children:es?"Salvando...":"Salvar"})]})]})]},e.id)):(0,t.jsx)("div",{style:{padding:16,fontSize:14,color:"var(--color-text-muted)"},children:"Nenhum endereco cadastrado"})]}),(0,t.jsxs)("div",{className:S().section,children:[(0,t.jsxs)(i.default,{href:"/termos",className:S().menuItem,children:[(0,t.jsxs)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,t.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,t.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,t.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,t.jsx)("polyline",{points:"10 9 9 9 8 9"})]}),(0,t.jsx)("span",{className:S().menuLabel,children:"Termos de uso"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,t.jsxs)(i.default,{href:"/privacidade",className:S().menuItem,children:[(0,t.jsx)("svg",{className:S().menuIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),(0,t.jsx)("span",{className:S().menuLabel,children:"Politica de privacidade"}),(0,t.jsx)("svg",{className:S().menuArrow,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]})]}),(0,t.jsx)("div",{className:S().section,children:(0,t.jsxs)("button",{className:S().logoutBtn,onClick:function(){a(),e.push("/")},children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,t.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,t.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sair da conta"]})}),(0,t.jsx)("div",{className:S().section,children:(0,t.jsx)("div",{className:S().dangerZone,children:(0,t.jsx)("button",{className:S().deleteAccountBtn,onClick:()=>I(!0),children:"Excluir minha conta"})})}),B&&(0,t.jsx)("div",{className:S().modalOverlay,onClick:()=>!T&&I(!1),role:"alertdialog","aria-modal":"true","aria-labelledby":"delete-account-modal-title",children:(0,t.jsxs)("div",{className:S().modal,onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{id:"delete-account-modal-title",className:S().modalTitle,children:"Excluir conta"}),(0,t.jsx)("div",{className:S().modalText,children:"Tem certeza? Esta acao e irreversivel. Todos os seus dados serao permanentemente removidos, incluindo historico de pedidos, enderecos e dados pessoais, em conformidade com a LGPD."}),(0,t.jsx)("input",{type:"password",className:S().modalInput,placeholder:"Digite sua senha para confirmar",value:L,onChange:e=>E(e.target.value),disabled:T}),(0,t.jsxs)("div",{className:S().modalActions,children:[(0,t.jsx)("button",{className:S().modalCancelBtn,onClick:()=>{I(!1),E("")},disabled:T,children:"Cancelar"}),(0,t.jsx)("button",{className:S().modalDeleteBtn,onClick:ev,disabled:T||!L.trim(),children:T?"Excluindo...":"Excluir conta"})]})]})}),w&&(0,t.jsx)("div",{className:"".concat(S().toast," ").concat("error"===w.type?S().toastError:S().toastSuccess),children:w.message})]})}},940:function(e){e.exports={page:"Pages_page__1BOVN",header:"Pages_header__jGmk8",backBtn:"Pages_backBtn__mTFay",title:"Pages_title__n2U_m",profileCard:"Pages_profileCard__wMFAT",profileAvatar:"Pages_profileAvatar__J6d58",profileName:"Pages_profileName__eHajI",profileEmail:"Pages_profileEmail__BG4As",section:"Pages_section__HV85g",sectionTitle:"Pages_sectionTitle__Tp1xX",menuItem:"Pages_menuItem___rXUi",menuIcon:"Pages_menuIcon__NOqLG",menuLabel:"Pages_menuLabel__Kl19j",menuArrow:"Pages_menuArrow__SdUUa",logoutBtn:"Pages_logoutBtn__f_kNh",formSection:"Pages_formSection__U2cjn",formRow:"Pages_formRow__JYsGc",formLabel:"Pages_formLabel__bb7Gh",formInput:"Pages_formInput__HPy8g",saveBtn:"Pages_saveBtn__I8a11",addressItem:"Pages_addressItem__WoRA7",addressBadge:"Pages_addressBadge__sJUoT",addressText:"Pages_addressText__d_ZO9",addressDefault:"Pages_addressDefault__5JKVW",addressDelete:"Pages_addressDelete__cnadr",searchBar:"Pages_searchBar__5Dkwd",searchInput:"Pages_searchInput__uwXko",searchGroup:"Pages_searchGroup__GTpFY",searchGroupTitle:"Pages_searchGroupTitle__G7oMv",searchResult:"Pages_searchResult__pHApo",searchResultImg:"Pages_searchResultImg__Rm_38",searchResultInfo:"Pages_searchResultInfo___2tNW",searchResultName:"Pages_searchResultName__Uxe2e",searchResultSub:"Pages_searchResultSub__T6Igl",searchResultPrice:"Pages_searchResultPrice__0aoBM",favGrid:"Pages_favGrid__EeFq2",favCard:"Pages_favCard__2v7V3",favImg:"Pages_favImg__gibhm",favInfo:"Pages_favInfo__FUDHC",favName:"Pages_favName__iEqsH",favSub:"Pages_favSub__WiVId",favRemove:"Pages_favRemove__D9W9q",empty:"Pages_empty__453IL",emptyIcon:"Pages_emptyIcon__KgY7u",emptyTitle:"Pages_emptyTitle__DydbF",emptyText:"Pages_emptyText__j_lO2",emptyBtn:"Pages_emptyBtn__t6JhT",loader:"Pages_loader__CfUaA",spinner:"Pages_spinner__vfHyj",spin:"Pages_spin__EwJus",sectionHeader:"Pages_sectionHeader__nUDll",editBtn:"Pages_editBtn__pIroG",formActions:"Pages_formActions__6UaKQ",cancelBtn:"Pages_cancelBtn__1lLBg",toast:"Pages_toast__HVzU5",toastSlide:"Pages_toastSlide__Asiox",toastSuccess:"Pages_toastSuccess__SiheR",toastError:"Pages_toastError__IFB0U",themeToggle:"Pages_themeToggle__NUe4D",themeSwitch:"Pages_themeSwitch__FfX5_",active:"Pages_active___qnLG",themeSwitchKnob:"Pages_themeSwitchKnob__P_Lbi",faqItem:"Pages_faqItem__SXRHq",faqQuestion:"Pages_faqQuestion__J2tB_",faqArrow:"Pages_faqArrow__hHUFM",faqArrowOpen:"Pages_faqArrowOpen__skMZa",faqAnswer:"Pages_faqAnswer__y1SOx",supportSection:"Pages_supportSection__GpKPS",supportBtn:"Pages_supportBtn__nc5K5",whatsappBtn:"Pages_whatsappBtn__Fh6BH",emailBtn:"Pages_emailBtn__zXmb_",dangerZone:"Pages_dangerZone___OjoH",deleteAccountBtn:"Pages_deleteAccountBtn__RjiDZ",modalOverlay:"Pages_modalOverlay__Ozk7K",fadeIn:"Pages_fadeIn__qy_Lm",modal:"Pages_modal__WqBAs",modalSlide:"Pages_modalSlide__2k_8W",modalTitle:"Pages_modalTitle__NVRC7",modalText:"Pages_modalText__er455",modalInput:"Pages_modalInput__Axi42",modalActions:"Pages_modalActions__n_gup",modalCancelBtn:"Pages_modalCancelBtn__5y6zO",modalDeleteBtn:"Pages_modalDeleteBtn__J__OJ",legalContent:"Pages_legalContent__kNa0Q",legalLinks:"Pages_legalLinks__nvTPF",legalLink:"Pages_legalLink__Yb2Lh",filterBar:"Pages_filterBar__5_wQM",filterRow:"Pages_filterRow__X5_1W",sortWrapper:"Pages_sortWrapper__nP3qh",sortSelect:"Pages_sortSelect__CGoV1",sortIcon:"Pages_sortIcon__MLIpC",filterToggle:"Pages_filterToggle__rR2y_",filterToggleActive:"Pages_filterToggleActive__qLlB6",categoryPills:"Pages_categoryPills__XdAK4",categoryPill:"Pages_categoryPill__MQbTs",categoryPillActive:"Pages_categoryPillActive__7evic",searchGroupHeader:"Pages_searchGroupHeader__tjzk1",searchGroupCount:"Pages_searchGroupCount__tWq_Z",badgeOpen:"Pages_badgeOpen__FkSbP",badgeClosed:"Pages_badgeClosed__Px3It",searchResultRating:"Pages_searchResultRating___POva",searchResultMeta:"Pages_searchResultMeta___JaSQ",searchResultPriceRow:"Pages_searchResultPriceRow__lrFKp",searchResultPriceOld:"Pages_searchResultPriceOld__MZeBz",badgePromo:"Pages_badgePromo__l8v2Q",priceRange:"Pages_priceRange__to7SG",priceInput:"Pages_priceInput__a8uGp",priceSep:"Pages_priceSep__JbekD",priceClear:"Pages_priceClear__WyfjP",collapsibleToggle:"Pages_collapsibleToggle__eM6Xw",collapsibleIcon:"Pages_collapsibleIcon__UpZJ2",collapsibleLabel:"Pages_collapsibleLabel__VQyBe",collapsibleArrow:"Pages_collapsibleArrow__7XJx1",collapsibleArrowOpen:"Pages_collapsibleArrowOpen__u7mYT",collapsibleContent:"Pages_collapsibleContent__xYahU",passwordMsg:"Pages_passwordMsg__aNyN5",passwordMsgSuccess:"Pages_passwordMsgSuccess__APLEp",passwordMsgError:"Pages_passwordMsgError__Qzj3f",addressActions:"Pages_addressActions__v_kCd",addressEdit:"Pages_addressEdit___KVRM",addressEditForm:"Pages_addressEditForm__eiUpy",addressEditGrid:"Pages_addressEditGrid___9wvb",addressEditFull:"Pages_addressEditFull__OLTK9",addressEditActions:"Pages_addressEditActions__bsiYD",addressLabelSelect:"Pages_addressLabelSelect__ZDzya"}},8113:function(e){e.exports={section:"Referral_section__zQ_Fm",loading:"Referral_loading__F82SM",header:"Referral_header__rdfmv",icon:"Referral_icon__hctnU",title:"Referral_title__fHQCt",body:"Referral_body__VqnRc",description:"Referral_description__7a_pd",codeBox:"Referral_codeBox__qvypP",codeLabel:"Referral_codeLabel__v9AvF",code:"Referral_code__1I3ZS",shareBtn:"Referral_shareBtn__lrGSN",stats:"Referral_stats__51XIg",stat:"Referral_stat__SueIE",statValue:"Referral_statValue__swmXL",statLabel:"Referral_statLabel__hxCMB"}},7585:function(e){e.exports={container:"NotificationPreferences_container__aQgGY",header:"NotificationPreferences_header__IFhh8",headerIcon:"NotificationPreferences_headerIcon__3eSI7",headerText:"NotificationPreferences_headerText__vpfmn",title:"NotificationPreferences_title__GwjUT",subtitle:"NotificationPreferences_subtitle__vI3nc",errorMsg:"NotificationPreferences_errorMsg___4iPw",successMsg:"NotificationPreferences_successMsg___Qlzo",section:"NotificationPreferences_section__Cyxd3",sectionTitle:"NotificationPreferences_sectionTitle__0B4v8",sectionSubtitle:"NotificationPreferences_sectionSubtitle__cvGUf",toggleRow:"NotificationPreferences_toggleRow__fUiX2",toggleDisabled:"NotificationPreferences_toggleDisabled__obeWh",toggleIcon:"NotificationPreferences_toggleIcon__lwao7",toggleContent:"NotificationPreferences_toggleContent__ovy_e",toggleLabel:"NotificationPreferences_toggleLabel__LiYyA",toggleDescription:"NotificationPreferences_toggleDescription__ez2Up",switch:"NotificationPreferences_switch__dSIS9",switchActive:"NotificationPreferences_switchActive__Nl_x2",switchKnob:"NotificationPreferences_switchKnob__hPk56",dndContainer:"NotificationPreferences_dndContainer__98vJo",dndSchedule:"NotificationPreferences_dndSchedule__Gzsve",timePickerRow:"NotificationPreferences_timePickerRow__3jqRS",timePickerGroup:"NotificationPreferences_timePickerGroup__fmbT9",timeLabel:"NotificationPreferences_timeLabel__WTaTM",timeInput:"NotificationPreferences_timeInput__SBiGh",timeSeparator:"NotificationPreferences_timeSeparator__G8rs6",dndHint:"NotificationPreferences_dndHint__073BC",actions:"NotificationPreferences_actions__UvwBA",saveBtn:"NotificationPreferences_saveBtn__46iqy",resetBtn:"NotificationPreferences_resetBtn__oIKlg",loadingState:"NotificationPreferences_loadingState__US2Lv",spinner:"NotificationPreferences_spinner__C6TMT",btnSpinner:"NotificationPreferences_btnSpinner__puMWK",spin:"NotificationPreferences_spin__4STun"}}},function(e){e.O(0,[2361,3602,7648,638,2971,2117,1744],function(){return e(e.s=8992)}),_N_E=e.O()}]);