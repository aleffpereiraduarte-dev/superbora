(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{2168:function(e,t,r){Promise.resolve().then(r.bind(r,9275)),Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,1579)),Promise.resolve().then(r.t.bind(r,8003,23))},2277:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(7437),a=r(2265),o=r(9376),i=r(7648),s=r(7128),l=r(1477),c=r.n(l);let u=[{href:"/",label:"Inicio",icon:(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,n.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,n.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]})},{href:"/busca",label:"Busca",icon:(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,n.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})},{href:"/pedidos",label:"Pedidos",icon:(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,n.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,n.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,n.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,n.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})},{href:"/fidelidade",label:"Pontos",icon:(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,n.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}];function d(){let e=(0,o.usePathname)(),{isAuthenticated:t}=(0,s.a)(),[r,l]=(0,a.useState)(!1);function d(t){return"/"===t?"/"===e||""===e:e.startsWith(t)}(0,a.useEffect)(()=>{l(!0)},[]);let f=[...u,r&&t?{href:"/perfil",label:"Perfil",icon:(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,n.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,n.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}:{href:"/login",label:"Entrar",icon:(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,n.jsx)("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),(0,n.jsx)("polyline",{points:"10 17 15 12 10 7"}),(0,n.jsx)("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]})}];return(0,n.jsx)("nav",{className:c().nav,"aria-label":"Navegacao principal",children:f.map(e=>(0,n.jsxs)(i.default,{href:e.href,className:"".concat(c().item," ").concat(d(e.href)?c().active:""),"aria-current":d(e.href)?"page":void 0,children:[(0,n.jsx)("span",{className:c().icon,children:e.icon}),(0,n.jsx)("span",{className:c().label,children:e.label})]},e.href))})}},9275:function(e,t,r){"use strict";r.d(t,{ErrorBoundary:function(){return i}});var n=r(7437),a=r(2265),o=r(6340);class i extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),(0,o.uN)(e,t),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",padding:"24px",textAlign:"center",background:"var(--color-bg-muted, #f5f5f5)",borderRadius:"12px",margin:"16px"},children:[(0,n.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-text-secondary, #666)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginBottom:"16px"},children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,n.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),(0,n.jsx)("h3",{style:{margin:"0 0 8px",fontSize:"18px",fontWeight:"600",color:"var(--color-text-primary, #333)"},children:"Algo deu errado"}),(0,n.jsx)("p",{style:{margin:"0 0 16px",fontSize:"14px",color:"var(--color-text-secondary, #666)"},children:"Ocorreu um erro inesperado. Por favor, tente novamente."}),(0,n.jsx)("button",{onClick:this.handleRetry,style:{padding:"10px 20px",fontSize:"14px",fontWeight:"500",color:"white",background:"var(--color-accent, #00a868)",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Tentar novamente"}),!1]}):this.props.children}constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}}},495:function(e,t,r){"use strict";r.d(t,{F:function(){return u},v:function(){return c}});var n=r(7437),a=r(2265);let o=(0,a.createContext)(null),i="superbora_location";function s(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(e){console.warn("[Location] Failed to save location to localStorage")}}async function l(e,t,r){if("number"!=typeof e||"number"!=typeof t||!Number.isFinite(e)||!Number.isFinite(t))return null;try{var n;let a=await fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(e,"&lon=").concat(t,"&format=json&addressdetails=1&accept-language=pt-BR"),{headers:{"User-Agent":"SuperBora/1.0"},signal:r}),o=await a.json();if(o.error)return null;let i=o.address||{},s=i.road||i.pedestrian||i.footway||"",l=i.house_number||"",c=i.suburb||i.neighbourhood||i.quarter||"",u=i.city||i.town||i.village||i.municipality||"",d=i.state||"",f=(i.postcode||"").replace(/\D/g,""),h={"Sao Paulo":"SP","Rio de Janeiro":"RJ","Minas Gerais":"MG",Bahia:"BA",Parana:"PR","Rio Grande do Sul":"RS",Pernambuco:"PE",Ceara:"CE",Para:"PA","Santa Catarina":"SC",Goias:"GO",Maranhao:"MA",Amazonas:"AM","Espirito Santo":"ES",Paraiba:"PB","Rio Grande do Norte":"RN","Mato Grosso":"MT",Alagoas:"AL",Piaui:"PI","Distrito Federal":"DF","Mato Grosso do Sul":"MS",Sergipe:"SE",Rondonia:"RO",Tocantins:"TO",Acre:"AC",Amapa:"AP",Roraima:"RR"}[d]||d.slice(0,2).toUpperCase(),p=[s,l].filter(Boolean).join(", ")||(null===(n=o.display_name)||void 0===n?void 0:n.split(",")[0])||"Localizacao atual",m=u?"".concat(u,"/").concat(h):h;return{endereco:p,bairro:c,cidade:m,cep:f,displayName:o.display_name||""}}catch(e){return e.name,null}}function c(e){let{children:t}=e,[r,c]=(0,a.useState)({cep:"",endereco:"",bairro:"",cidade:"",lat:null,lng:null,source:""}),[u,d]=(0,a.useState)(!1),[f,h]=(0,a.useState)(!0),[p,m]=(0,a.useState)(""),g=(0,a.useRef)(!0),v=(0,a.useRef)(!1),b=(0,a.useRef)(null),[w,_]=(0,a.useState)("");(0,a.useEffect)(()=>{g.current=!0;let e=function(){try{let e=localStorage.getItem(i);if(e)return JSON.parse(e)}catch(e){console.warn("[Location] Failed to load location from localStorage")}return null}();if(e&&e.cidade)c(e),("cep"===e.source||"gps"===e.source)&&(v.current=!0),h(!1);else{let e=new AbortController;return fetch("/api/mercado/geolocate.php",{signal:e.signal}).then(e=>e.json()).then(e=>{if(g.current&&!v.current&&e.success&&e.data){let t=e.data,r={cep:"",endereco:"",bairro:"",cidade:t.city&&t.state?"".concat(t.city,"/").concat(t.state):"",lat:t.lat||null,lng:t.lng||null,source:"ip"};c(r),s(r),t.city&&_("".concat(t.city,"/").concat(t.state))}}).catch(e=>{"AbortError"!==e.name&&console.warn("[Location] IP geolocation failed:",e)}).finally(()=>{g.current&&h(!1)}),()=>{g.current=!1,e.abort()}}return()=>{g.current=!1}},[]);let x=(0,a.useCallback)(e=>{v.current=!0,c(e),s(e)},[]),S=(0,a.useCallback)(async e=>{let t=e.replace(/\D/g,"");if(8!==t.length)return null;d(!0),m("");try{let e=await fetch("https://viacep.com.br/ws/".concat(t,"/json/"));if(!g.current)return null;if(!e.ok)throw Error("CEP lookup failed");let r=await e.json();if(!g.current)return null;if(r.erro)throw Error("CEP not found");let n={cep:t,endereco:r.logradouro||"",bairro:r.bairro||"",cidade:"".concat(r.localidade,"/").concat(r.uf),lat:null,lng:null,source:"cep"};return x(n),n}catch(e){if(!g.current)return null;return console.warn("[Location] CEP lookup failed:",e.message),null}finally{g.current&&d(!1)}},[x]),E=(0,a.useCallback)(()=>{if(!navigator.geolocation){m("Geolocalizacao nao suportada neste navegador");return}d(!0),m(""),g.current&&navigator.geolocation.getCurrentPosition(async e=>{if(!g.current)return;if(!e||!e.coords){g.current&&(d(!1),m("Dados de localizacao invalidos."));return}let{latitude:t,longitude:r}=e.coords;if("number"!=typeof t||"number"!=typeof r||isNaN(t)||isNaN(r)){g.current&&(d(!1),m("Coordenadas invalidas."));return}if(!g.current)return;b.current&&b.current.abort(),b.current=new AbortController;let n=await l(t,r,b.current.signal);if(!g.current)return;let a={lat:t,lng:r,cep:(null==n?void 0:n.cep)||"",endereco:(null==n?void 0:n.endereco)||"Localizacao atual",bairro:(null==n?void 0:n.bairro)||"",cidade:(null==n?void 0:n.cidade)||"",source:"gps"};g.current&&(x(a),d(!1))},e=>{if(g.current)switch(d(!1),e.code){case e.PERMISSION_DENIED:m("Permissao de localizacao negada. Habilite nas configuracoes do navegador.");break;case e.POSITION_UNAVAILABLE:m("Localizacao indisponivel no momento.");break;case e.TIMEOUT:m("Tempo esgotado ao buscar localizacao.");break;default:m("Erro ao obter localizacao.")}},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})},[x]),C=(0,a.useCallback)(()=>{c({cep:"",endereco:"",bairro:"",cidade:"",lat:null,lng:null,source:""}),m("");try{localStorage.removeItem(i)}catch(e){console.warn("[Location] Failed to clear location from localStorage")}},[]);return(0,n.jsx)(o.Provider,{value:{...r,loading:u,initializing:f,gpsError:p,detectedCity:w,setLocation:x,lookupCep:S,getGeoLocation:E,clearLocation:C,hasLocation:!!(r.cep||r.lat||r.cidade),isGps:"gps"===r.source,isIp:"ip"===r.source},children:t})}function u(){let e=(0,a.useContext)(o);if(!e)throw Error("useLocationContext must be used within LocationProvider");return e}},7885:function(e,t,r){"use strict";r.d(t,{F:function(){return l},f:function(){return s}});var n=r(7437),a=r(2265);let o="superbora_theme",i=(0,a.createContext)(null);function s(e){let{children:t}=e,[r,s]=(0,a.useState)("light"),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=localStorage.getItem(o);"dark"===e||"light"===e?s(e):s(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),c(!0)},[]),(0,a.useEffect)(()=>{if(!l)return;document.documentElement.setAttribute("data-theme",r),localStorage.setItem(o,r);let e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","dark"===r?"#1a1a2e":"#ffffff")},[r,l]);let u=(0,a.useCallback)(()=>{s(e=>"light"===e?"dark":"light")},[]),d=(0,a.useCallback)(()=>s("light"),[]),f=(0,a.useCallback)(()=>s("dark"),[]);return(0,n.jsx)(i.Provider,{value:{theme:r,isDark:"dark"===r,toggleTheme:u,setLightTheme:d,setDarkTheme:f},children:t})}function l(){let e=(0,a.useContext)(i);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},5228:function(e,t,r){"use strict";r.d(t,{E:function(){return u},T:function(){return c}});var n=r(7437),a=r(2265),o=r(7128),i=r(6428);let s=(0,a.createContext)(null),l="superbora_wishlists_guest";function c(e){let{children:t}=e,{customer:r}=(0,o.a)(),c=!!r,[u,d]=(0,a.useState)([]),[f,h]=(0,a.useState)(!0),[p,m]=(0,a.useState)(!1),g=(0,a.useRef)(!1),[v,b]=(0,a.useState)(!1),w=(0,a.useRef)(null);(0,a.useEffect)(()=>(b(!0),()=>{w.current&&w.current.abort()}),[]);let _=(0,a.useCallback)(()=>{try{let e=localStorage.getItem(l);if(e){let t=JSON.parse(e);d(t.wishlists||[])}else{let e={id:"guest-default",name:"Favoritos",is_default:!0,items:[],created_at:new Date().toISOString()};d([e]),x([e])}}catch(e){console.error("Error loading wishlists from storage:",e),d([])}h(!1)},[]),x=(0,a.useCallback)(e=>{try{localStorage.setItem(l,JSON.stringify({wishlists:e}))}catch(e){console.error("Error saving wishlists to storage:",e)}},[]),S=(0,a.useCallback)(async()=>{w.current&&w.current.abort(),w.current=new AbortController;let e=w.current.signal;h(!0);try{let t;let r=await (0,i.SC)("/vitrine/wishlists.php",{},{signal:e});if(e.aborted)return;try{t=await Promise.all((r.wishlists||[]).map(async t=>{if(e.aborted){let e=Error("Aborted");throw e.name="AbortError",e}try{let r=await (0,i.SC)("/vitrine/wishlist-items.php",{wishlist_id:t.id},{signal:e});return{...t,items:Array.isArray(null==r?void 0:r.items)?r.items:[]}}catch(e){if("AbortError"===e.name)throw e;return console.warn("[Wishlist] Failed to load items for wishlist",t.id,e),{...t,items:[]}}}))}catch(e){if("AbortError"===e.name)return;throw e}if(e.aborted)return;d(t)}catch(e){if("AbortError"===e.name)return;console.error("Error loading wishlists from API:",e),d([])}finally{e.aborted||h(!1)}},[]),E=(0,a.useCallback)(async()=>{try{let e=localStorage.getItem(l);if(!e)return;let t=JSON.parse(e).wishlists||[];if(0===t.length)return;m(!0);let r=(await (0,i.SC)("/vitrine/wishlists.php")).wishlists||[],n=r.find(e=>e.is_default);!n&&r.length>0&&(n=r[0]);let a=t.find(e=>e.is_default);if(a&&a.items&&n)for(let e of a.items)try{await (0,i.sg)("/vitrine/wishlist-items.php",{wishlist_id:n.id,product_id:e.product_id,partner_id:e.partner_id})}catch(t){console.warn("[Wishlist] Failed to sync item (may already exist):",e.product_id)}localStorage.removeItem(l),await S()}catch(e){console.error("Error syncing guest wishlists:",e)}m(!1)},[S]);(0,a.useEffect)(()=>{v&&(c?S():_())},[c,v,S,_]),(0,a.useEffect)(()=>{c&&r&&!g.current&&(E(),g.current=!0),c||(g.current=!1)},[c,r,E]);let C=(0,a.useCallback)(e=>u.some(t=>(t.items||[]).some(t=>String(t.product_id)===String(e))),[u]),y=(0,a.useCallback)(e=>u.filter(t=>(t.items||[]).some(t=>String(t.product_id)===String(e))),[u]),k=(0,a.useCallback)(()=>u.find(e=>e.is_default)||u[0]||null,[u]),N=(0,a.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t?u.find(e=>e.id===t):k();if(!r)return!1;let n={product_id:e.id||e.product_id,partner_id:e.partner_id||0,product:{id:e.id||e.product_id,nome:e.nome||e.name,imagem:e.imagem||e.image,preco:e.preco||e.price,preco_promo:e.preco_promo||null,unidade:e.unidade||""},added_at:new Date().toISOString()};if(c)try{return await (0,i.sg)("/vitrine/wishlist-items.php",{wishlist_id:r.id,product_id:n.product_id,partner_id:n.partner_id}),await S(),!0}catch(e){return console.error("Error adding to wishlist:",e),!1}else{let e=u.map(e=>e.id===r.id?(e.items||[]).some(e=>String(e.product_id)===String(n.product_id))?e:{...e,items:[...e.items||[],n]}:e);return d(e),x(e),!0}},[u,c,k,S,x]),j=(0,a.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(c)try{let r={product_id:e};return t&&(r.wishlist_id=t),await (0,i.QW)("/vitrine/wishlist-items.php",r),await S(),!0}catch(e){return console.error("Error removing from wishlist:",e),!1}else{let r=u.map(r=>t&&r.id!==t?r:{...r,items:(r.items||[]).filter(t=>String(t.product_id)!==String(e))});return d(r),x(r),!0}},[u,c,S,x]),I=(0,a.useCallback)(async e=>{let t=e.id||e.product_id;return C(t)?j(t):N(e)},[C,N,j]),T=(0,a.useCallback)(async e=>{if(c)try{let t=await (0,i.sg)("/vitrine/wishlists.php",{name:e});return await S(),t.wishlist}catch(e){throw console.error("Error creating wishlist:",e),e}else{let t={id:"guest-".concat(Date.now()),name:e,is_default:!1,items:[],created_at:new Date().toISOString()},r=[...u,t];return d(r),x(r),t}},[u,c,S,x]),O=(0,a.useCallback)(async(e,t)=>{if(c)try{return await (0,i.pE)("/vitrine/wishlists.php",{id:e,name:t}),await S(),!0}catch(e){return console.error("Error renaming wishlist:",e),!1}else{let r=u.map(r=>r.id===e?{...r,name:t}:r);return d(r),x(r),!0}},[u,c,S,x]),L=(0,a.useCallback)(async e=>{if(c)try{return await (0,i.QW)("/vitrine/wishlists.php",{id:e}),await S(),!0}catch(e){throw console.error("Error deleting wishlist:",e),e}else{let t=u.find(t=>t.id===e);if(null==t?void 0:t.is_default)throw Error("Nao e possivel excluir a lista padrao");let r=u.filter(t=>t.id!==e);return d(r),x(r),!0}},[u,c,S,x]),D=(0,a.useCallback)(()=>c?S():(_(),Promise.resolve()),[c,S,_]),R=(0,a.useMemo)(()=>({wishlists:u,loading:f,syncing:p,isInWishlist:C,getWishlistsForProduct:y,getDefaultWishlist:k,addToWishlist:N,removeFromWishlist:j,toggleWishlist:I,createWishlist:T,renameWishlist:O,deleteWishlist:L,refresh:D}),[u,f,p,C,y,k,N,j,I,T,O,L,D]);return(0,n.jsx)(s.Provider,{value:R,children:t})}function u(){let e=(0,a.useContext)(s);if(!e)throw Error("useWishlist must be used within WishlistProvider");return e}},2464:function(e,t,r){"use strict";r.d(t,{$s:function(){return a}});var n=r(2265);function a(){let[e,t]=(0,n.useState)(!0);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("haptics-enabled");null!==e&&t("true"===e)}catch(e){}},[]);let r=(0,n.useMemo)(()=>"vibrate"in navigator,[]),a=(0,n.useCallback)(e=>{t(e);try{localStorage.setItem("haptics-enabled",String(e))}catch(e){}},[]),o=(0,n.useCallback)(t=>{if(!r||!e)return!1;try{let e=Array.isArray(t)?t:[t];return navigator.vibrate(e)}catch(e){return!1}},[r,e]),i=(0,n.useCallback)(()=>{if(!r)return!1;try{return navigator.vibrate(0)}catch(e){return!1}},[r]),s=(0,n.useCallback)(()=>o(10),[o]),l=(0,n.useCallback)(()=>o([10,50,10]),[o]),c=(0,n.useCallback)(()=>o([50,30,50,30,50]),[o]),u=(0,n.useCallback)(()=>o([30,50,30]),[o]),d=(0,n.useCallback)(()=>o([20,100,20]),[o]),f=(0,n.useCallback)(()=>o(5),[o]),h=(0,n.useCallback)(()=>o(40),[o]),p=(0,n.useCallback)(()=>o([15,40,15]),[o]),m=(0,n.useCallback)(e=>o(e),[o]);return{isSupported:r,isEnabled:e,setEnabled:a,tap:s,success:l,error:c,warning:u,notification:d,selection:f,impact:h,double:p,vibrate:o,custom:m,cancel:i}}},6340:function(e,t,r){"use strict";r.d(t,{uN:function(){return d},zw:function(){return l}});var n=r(257);let a=n.env.NEXT_PUBLIC_ERROR_ENDPOINT||"",o=n.env.NEXT_PUBLIC_APP_VERSION||"1.0.0",i=[],s=null;function l(){window.addEventListener("error",e=>{c(e.error||Error(e.message),{type:"unhandled",filename:e.filename,lineno:e.lineno,colno:e.colno})}),window.addEventListener("unhandledrejection",e=>{c(e.reason||Error("Unhandled Promise Rejection"),{type:"unhandledrejection"})})}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let r={message:e.message||String(e),stack:e.stack||"",name:e.name||"Error",timestamp:new Date().toISOString(),url:window.location.href,userAgent:"undefined"!=typeof navigator?navigator.userAgent:"",appVersion:o,...t};try{let e=localStorage.getItem("superbora_user");if(e){let t=JSON.parse(e);r.userId=t.id,r.userEmail=t.email}}catch(e){}i.push(r),s||(s=setTimeout(()=>{u(),s=null},1e3))}async function u(){if(0===i.length)return;if(!a){i=[];return}let e=[...i];i=[];try{let t=JSON.stringify({errors:e});navigator.sendBeacon?navigator.sendBeacon(a,t):await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:t,keepalive:!0})}catch(e){}}function d(e,t){c(e,{type:"react",componentStack:(null==t?void 0:t.componentStack)||""})}window.addEventListener("beforeunload",u),window.addEventListener("pagehide",u)},1579:function(e,t,r){"use strict";r.d(t,{Providers:function(){return B}});var n=r(7437),a=r(2265),o=r(9146),i=r(495),s=r(7128),l=r(6971),c=r(7885);let u=(0,a.createContext)(null),d={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected",RECONNECTING:"reconnecting"},f={GOOD:"good",POOR:"poor",DISCONNECTED:"disconnected"},h={HEARTBEAT_INTERVAL:3e4,HEARTBEAT_TIMEOUT:1e4,MAX_RETRIES:5,MAX_RETRIES_NEVER_CONNECTED:2,BASE_DELAY:2e3,MAX_DELAY:6e4,JITTER_FACTOR:.3,LATENCY_THRESHOLD_GOOD:500,LATENCY_THRESHOLD_POOR:2e3,MISSED_PONGS_THRESHOLD:2};function p(e){let{children:t}=e,{user:r,isAuthenticated:o}=(0,s.a)(),[i,l]=(0,a.useState)(d.DISCONNECTED),[c,p]=(0,a.useState)(f.DISCONNECTED),[m,g]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),w=(0,a.useRef)(null),_=(0,a.useRef)(null),x=(0,a.useRef)(null),S=(0,a.useRef)(null),E=(0,a.useRef)(0),C=(0,a.useRef)(new Map),y=(0,a.useRef)(null),k=(0,a.useRef)(0),N=(0,a.useRef)(!1),j=(0,a.useRef)(!0),I=(0,a.useRef)(!0),T=(0,a.useRef)(!1),O=(0,a.useRef)(!1),L=(0,a.useCallback)((e,t)=>(C.current.has(e)||C.current.set(e,new Set),C.current.get(e).add(t),()=>{let r=C.current.get(e);r&&r.delete(t)}),[]),D=(0,a.useCallback)((e,t)=>{let r=C.current.get(e);r&&r.forEach(e=>{try{e(t)}catch(e){console.error("[Realtime] Listener error:",e)}})},[]),R=(0,a.useRef)(i);R.current=i;let B=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(R.current!==d.CONNECTED){p(f.DISCONNECTED);return}if(k.current>=h.MISSED_PONGS_THRESHOLD){p(f.POOR);return}null!==e&&(e<=h.LATENCY_THRESHOLD_GOOD?p(f.GOOD):(h.LATENCY_THRESHOLD_POOR,p(f.POOR)))},[]),P=(0,a.useCallback)(()=>{var e;(null===(e=w.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&(y.current=Date.now(),w.current.send(JSON.stringify({type:"ping",timestamp:y.current})),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{if(k.current+=1,console.warn("[Realtime] Pong timeout, missed:",k.current),B(),k.current>=h.MISSED_PONGS_THRESHOLD+1){var e;console.warn("[Realtime] Too many missed pongs, reconnecting..."),null===(e=w.current)||void 0===e||e.close()}},h.HEARTBEAT_TIMEOUT))},[B]),A=(0,a.useCallback)(()=>{x.current&&(clearInterval(x.current),x.current=null),S.current&&(clearTimeout(S.current),S.current=null)},[]),M=(0,a.useCallback)(()=>{A(),P(),x.current=setInterval(P,h.HEARTBEAT_INTERVAL)},[P,A]),W=(0,a.useCallback)(()=>{let e=Math.min(h.MAX_DELAY,h.BASE_DELAY*Math.pow(2,E.current)),t=e*h.JITTER_FACTOR*(2*Math.random()-1);return Math.floor(e+t)},[]),H=(0,a.useCallback)(()=>{var e;if((null===(e=w.current)||void 0===e?void 0:e.readyState)!==WebSocket.OPEN){l(d.CONNECTING),p(f.DISCONNECTED);try{let e="https:"===window.location.protocol?"wss:":"ws:",t="".concat(e,"//").concat(window.location.host,"/ws"),n=new WebSocket(t);w.current=n,n.onopen=()=>{if(!j.current){n.close(1e3);return}let e=N.current;I.current=!1,T.current=!1,O.current=!1,l(d.CONNECTED),p(f.GOOD),E.current=0,k.current=0,N.current=!0,M(),j.current&&o&&(null==r?void 0:r.id)&&n.send(JSON.stringify({type:"auth",user_id:r.id,token:localStorage.getItem("superbora_token")})),e&&D("reconnected",{timestamp:Date.now()})},n.onmessage=e=>{try{let t=JSON.parse(e.data);if(g(Date.now()),"pong"===t.type){if(S.current&&(clearTimeout(S.current),S.current=null),k.current=0,y.current){let e=Date.now()-y.current;b(e),B(e)}return}D(t.type,t.data||t),D("message",t)}catch(e){console.error("[Realtime] Message parse error:",e)}},n.onclose=e=>{if(w.current=null,A(),1e3===e.code){l(d.DISCONNECTED),p(f.DISCONNECTED);return}let t=I.current?h.MAX_RETRIES_NEVER_CONNECTED:h.MAX_RETRIES;if(E.current>=t){T.current||(console.warn("[Realtime] WebSocket server unavailable, disabling realtime"),T.current=!0),O.current=!0,l(d.DISCONNECTED),p(f.DISCONNECTED);return}l(d.RECONNECTING),p(f.DISCONNECTED);let r=W();E.current+=1,_.current=setTimeout(()=>{H()},r)},n.onerror=()=>{T.current||(console.warn("[Realtime] WebSocket connection failed (server may be unavailable)"),T.current=!0)}}catch(e){console.error("[Realtime] Connection error:",e),l(d.DISCONNECTED),p(f.DISCONNECTED)}}},[o,r,D,M,A,W,B]),G=(0,a.useCallback)(()=>{if(_.current&&(clearTimeout(_.current),_.current=null),A(),w.current){let e=w.current;w.current=null,e.onopen=null,e.onmessage=null,e.onerror=null,e.onclose=null,(e.readyState===WebSocket.OPEN||e.readyState===WebSocket.CONNECTING)&&e.close(1e3)}l(d.DISCONNECTED),p(f.DISCONNECTED)},[A]),z=(0,a.useCallback)(e=>{var t;return(null===(t=w.current)||void 0===t?void 0:t.readyState)===WebSocket.OPEN&&(w.current.send(JSON.stringify(e)),!0)},[]),J=(0,a.useCallback)(e=>{z({type:"subscribe",channel:e})},[z]),U=(0,a.useCallback)(e=>{z({type:"unsubscribe",channel:e})},[z]),F=(0,a.useCallback)(()=>{E.current=0,G(),setTimeout(H,100)},[G,H]);(0,a.useEffect)(()=>(j.current=!0,o&&H(),()=>{j.current=!1,G()}),[o,H,G]),(0,a.useEffect)(()=>{let e=()=>{i!==d.DISCONNECTED||O.current||(E.current=0,H())},t=()=>{"visible"!==document.visibilityState||i!==d.DISCONNECTED||O.current||(E.current=0,H())};return window.addEventListener("online",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("online",e),document.removeEventListener("visibilitychange",t)}},[i,H]);let V={connectionState:i,connectionQuality:c,isConnected:i===d.CONNECTED,lastUpdate:m,latency:v,connect:H,disconnect:G,reconnect:F,send:z,subscribe:L,subscribeChannel:J,unsubscribeChannel:U,emit:D};return(0,n.jsx)(u.Provider,{value:V,children:t})}var m=r(5228),g=r(2277),v=r(6428);let b="superbora_fcm_token";function w(){let{isAuthenticated:e}=(0,s.a)(),{isSupported:t,permissionStatus:o,requestPermission:i}=function(){let{isAuthenticated:e}=(0,s.a)(),[t,n]=(0,a.useState)("default"),[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),u=(0,a.useRef)(!1),d=(0,a.useRef)(null),f=(0,a.useRef)(!0);(0,a.useEffect)(()=>{let e="Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window;i(e),e&&n(Notification.permission)},[]);let h=(0,a.useCallback)(async()=>{if(!o)return!1;try{let e=await Notification.requestPermission();if(n(e),"granted"!==e)return!1;return await m(),!0}catch(e){return console.error("[Push] Error requesting permission:",e),!1}},[o]),p=(0,a.useCallback)(e=>{var t,r,n,a,o;let i=(null===(t=e.notification)||void 0===t?void 0:t.title)||(null===(r=e.data)||void 0===r?void 0:r.title)||"SuperBora",s=(null===(n=e.notification)||void 0===n?void 0:n.body)||(null===(a=e.data)||void 0===a?void 0:a.body)||"",l=(null===(o=e.data)||void 0===o?void 0:o.url)||"/mercado/vitrine/";if("granted"===Notification.permission){let e=new Notification(i,{body:s,icon:"/mercado/vitrine/icons/icon-192.png",badge:"/mercado/vitrine/icons/icon-192.png",tag:"superbora-fg-"+Date.now(),data:{url:l}});e.onclick=()=>{if(window.focus(),l&&"/"!==l)try{new URL(l,window.location.origin).origin===window.location.origin&&(window.location.href=l)}catch(e){}e.close()},setTimeout(()=>e.close(),8e3)}},[]),m=(0,a.useCallback)(async()=>{try{let e=await navigator.serviceWorker.register("/mercado/vitrine/firebase-messaging-sw.js",{scope:"/mercado/vitrine/"});await navigator.serviceWorker.ready;let{getFirebaseMessaging:t}=await Promise.all([r.e(7012),r.e(3693)]).then(r.bind(r,3693)),{getToken:n,onMessage:a}=await r.e(7012).then(r.bind(r,7012)),o=await t();if(!o)return;let i=await n(o,{serviceWorkerRegistration:e});if(!i||!f.current)return;c(i);let s=localStorage.getItem(b);if(i!==s&&(0,v.LP)())try{if(await (0,v.sg)("/customer/push-token.php",{token:i,platform:function(){let e=navigator.userAgent||"";return/android/i.test(e)?"android":/iphone|ipad|ipod/i.test(e)?"ios":"web"}()}),!f.current)return;localStorage.setItem(b,i)}catch(e){console.error("[Push] Failed to register token with backend:",e)}d.current&&(d.current(),d.current=null),d.current=a(o,e=>{p(e)})}catch(e){console.error("[Push] FCM registration error:",e)}},[p]),g=(0,a.useRef)(m);return g.current=m,(0,a.useEffect)(()=>{e&&o&&!u.current&&"granted"===Notification.permission&&(u.current=!0,g.current())},[e,o]),(0,a.useEffect)(()=>(f.current=!0,()=>{f.current=!1,d.current&&(d.current(),d.current=null)}),[]),(0,a.useEffect)(()=>{!e&&l&&(u.current=!1,c(null))},[e,l]),{isSupported:o,permissionStatus:t,fcmToken:l,requestPermission:h}}(),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!e||!t||u||"default"!==o){c(!1);return}let r=localStorage.getItem("superbora_push_prompt_dismissed");if(r&&(Date.now()-parseInt(r))/864e5<7)return;let n=setTimeout(()=>{c(!0)},5e3);return()=>clearTimeout(n)},[e,t,o,u]);let f=async()=>{c(!1),await i()};return l?(0,n.jsxs)("div",{style:{position:"fixed",bottom:70,left:12,right:12,zIndex:9999,padding:"14px 16px",borderRadius:12,background:"var(--color-surface, #fff)",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:"1px solid var(--color-border, #e5e7eb)",display:"flex",alignItems:"center",gap:12,animation:"pushPromptSlideUp 0.3s ease"},children:[(0,n.jsx)("div",{style:{width:40,height:40,borderRadius:10,background:"var(--color-accent-light, #dcfce7)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-accent, #16a34a)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,n.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"var(--color-text, #111)"},children:"Ativar notificacoes?"}),(0,n.jsx)("div",{style:{fontSize:12,color:"var(--color-text-secondary, #666)",marginTop:2},children:"Receba atualizacoes do seu pedido em tempo real"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,flexShrink:0},children:[(0,n.jsx)("button",{type:"button",onClick:()=>{c(!1),d(!0),localStorage.setItem("superbora_push_prompt_dismissed",Date.now().toString())},style:{padding:"6px 12px",borderRadius:8,border:"1px solid var(--color-border, #e5e7eb)",background:"transparent",color:"var(--color-text-secondary, #666)",fontSize:13,fontWeight:500,cursor:"pointer"},children:"Agora nao"}),(0,n.jsx)("button",{type:"button",onClick:f,style:{padding:"6px 14px",borderRadius:8,border:"none",background:"var(--color-accent, #16a34a)",color:"#fff",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Ativar"})]}),(0,n.jsx)("style",{children:"\n        @keyframes pushPromptSlideUp {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      "})]}):null}var _=r(9523),x=r.n(_);function S(){let[e,t]=(0,a.useState)(!0),[r,o]=(0,a.useState)(!1),i=(0,a.useRef)(null);return((0,a.useEffect)(()=>{if("undefined"==typeof navigator)return;t(navigator.onLine);let e=()=>{t(!0),o(!0),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>o(!1),3e3)},r=()=>{t(!1),o(!0)};return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r),i.current&&clearTimeout(i.current)}},[]),r)?(0,n.jsxs)("div",{className:"".concat(x().banner," ").concat(e?x().bannerOnline:x().bannerOffline),children:[(0,n.jsx)("span",{className:x().bannerIcon,children:e?"✓":"⚠"}),(0,n.jsx)("span",{children:e?"Conex\xe3o restaurada!":"Voc\xea est\xe1 offline. Alguns recursos podem n\xe3o funcionar."})]}):null}var E=r(2464),C=r(7410),y=r.n(C);function k(e){let{visitsThreshold:t=3,delayMs:r=3e4,showOnFirstVisit:o=!1}=e,{canInstall:i,isInstalled:s,isDismissed:l,promptInstall:c,dismiss:u}=function(){let[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),d=(0,a.useRef)(null),f=(0,a.useCallback)(()=>{let e=window.matchMedia("(display-mode: standalone)").matches,t=!0===window.navigator.standalone,r=document.referrer.includes("android-app://");return e||t||r},[]),h=(0,a.useCallback)(()=>{try{let e=localStorage.getItem("pwa-install-dismissed");if(!e)return!1;let{timestamp:t,count:r}=JSON.parse(e);if((Date.now()-t)/864e5>7||r<3)return!1;return!0}catch(e){return!1}},[]),p=(0,a.useCallback)(()=>{try{let e=localStorage.getItem("pwa-install-dismissed"),t=1;e&&(t=(JSON.parse(e).count||0)+1),localStorage.setItem("pwa-install-dismissed",JSON.stringify({timestamp:Date.now(),count:t})),l(!0)}catch(e){}},[]),m=(0,a.useCallback)(()=>{try{localStorage.removeItem("pwa-install-dismissed"),l(!1)}catch(e){}},[]),g=(0,a.useCallback)(async()=>{let r=d.current||e;if(!r)return console.warn("Install prompt not available"),{outcome:"unavailable",error:"No install prompt available"};try{r.prompt();let{outcome:e}=await r.userChoice;return u(e),"accepted"===e?(n(!1),i(!0),t(null),d.current=null):p(),{outcome:e}}catch(e){return console.error("Install prompt error:",e),{outcome:"error",error:e.message}}},[e,p]),v=(0,a.useCallback)(()=>{p(),u("dismissed")},[p]);return(0,a.useEffect)(()=>{i(f()),l(h());let e=e=>{e.preventDefault(),t(e),d.current=e,n(!0)},r=()=>{i(!0),n(!1),t(null),d.current=null,u("accepted")},a=e=>{i(e.matches)};window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",r);let o=window.matchMedia("(display-mode: standalone)");return o.addEventListener("change",a),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",r),o.removeEventListener("change",a)}},[f,h]),{canInstall:r,isInstalled:o,isDismissed:s,installOutcome:c,promptInstall:g,dismiss:v,clearDismiss:m,hasPrompt:!!e}}(),{tap:d,success:f}=(0,E.$s)(),[h,p]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;b(e),e&&!s&&!0!==window.navigator.standalone&&_(!0)},[s]),(0,a.useEffect)(()=>{if(s||l||!i&&!w)return;let e=1;try{let t=localStorage.getItem("pwa-banner-visits");e=t?parseInt(t,10)+1:1,localStorage.setItem("pwa-banner-visits",String(e))}catch(e){}let n=e>=t;if(o&&1===e){p(!0);return}if(n){let e=setTimeout(()=>{p(!0)},r);return()=>clearTimeout(e)}let a=setTimeout(()=>{p(!0)},2*r);return()=>clearTimeout(a)},[i,s,l,w,t,r,o]);let x=(0,a.useRef)(null);(0,a.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]);let S=(0,a.useCallback)(()=>{g(!0),x.current=setTimeout(()=>{p(!1),g(!1)},300)},[]),C=(0,a.useCallback)(async()=>{d();let e=await c();(null==e?void 0:e.outcome)==="accepted"&&(f(),S())},[c,d,f,S]),k=(0,a.useCallback)(()=>{d(),u(),S()},[u,d,S]);return!h||s?null:v&&w?l?null:(0,n.jsxs)("div",{className:"".concat(y().banner," ").concat(y().iosBanner," ").concat(m?y().bannerExiting:""),children:[(0,n.jsx)("button",{type:"button",className:y().closeBtn,onClick:k,"aria-label":"Fechar",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})}),(0,n.jsxs)("div",{className:y().content,children:[(0,n.jsx)("div",{className:y().iconWrapper,children:(0,n.jsxs)("svg",{className:y().icon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,n.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,n.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),(0,n.jsxs)("div",{className:y().textContent,children:[(0,n.jsx)("div",{className:y().title,children:"Adicione o SuperBora"}),(0,n.jsx)("div",{className:y().subtitle,children:"Instale nosso app para uma experiencia completa"}),(0,n.jsxs)("div",{className:y().iosInstructions,children:[(0,n.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),(0,n.jsx)("polyline",{points:"16 6 12 2 8 6"}),(0,n.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),(0,n.jsxs)("span",{children:["Toque em ",(0,n.jsx)("strong",{children:"Compartilhar"})," e depois ",(0,n.jsx)("strong",{children:'"Adicionar a Tela de Inicio"'})]})]})]})]})]}):i?(0,n.jsxs)("div",{className:"".concat(y().banner," ").concat(m?y().bannerExiting:""),children:[(0,n.jsx)("button",{type:"button",className:y().closeBtn,onClick:S,"aria-label":"Fechar",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})}),(0,n.jsxs)("div",{className:y().content,children:[(0,n.jsx)("div",{className:y().iconWrapper,children:(0,n.jsxs)("svg",{className:y().icon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,n.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,n.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),(0,n.jsxs)("div",{className:y().textContent,children:[(0,n.jsx)("div",{className:y().title,children:"Instale o SuperBora"}),(0,n.jsx)("div",{className:y().subtitle,children:"Acesso rapido, notificacoes de pedidos e funciona offline"}),(0,n.jsxs)("div",{className:y().benefits,children:[(0,n.jsxs)("span",{className:y().badge,children:[(0,n.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,n.jsx)("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),"Mais rapido"]}),(0,n.jsxs)("span",{className:y().badge,children:[(0,n.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,n.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),"Notificacoes"]}),(0,n.jsxs)("span",{className:y().badge,children:[(0,n.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("path",{d:"M5 12.55a11 11 0 0 1 14.08 0"}),(0,n.jsx)("path",{d:"M1.42 9a16 16 0 0 1 21.16 0"}),(0,n.jsx)("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),(0,n.jsx)("circle",{cx:"12",cy:"20",r:"1"})]}),"Offline"]})]}),(0,n.jsxs)("div",{className:y().actions,children:[(0,n.jsxs)("button",{type:"button",className:y().installBtn,onClick:C,children:[(0,n.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,n.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,n.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Instalar"]}),(0,n.jsx)("button",{type:"button",className:y().dismissBtn,onClick:k,children:"Agora nao"})]})]})]})]}):null}var N=r(2357),j=r(9376),I=r(257);let T=I.env.NEXT_PUBLIC_GA_ID||"";function O(e){let{name:t,value:r,rating:n,id:a}=e;if(window.gtag&&window.gtag("event",t,{event_category:"Web Vitals",event_label:a,value:Math.round("CLS"===t?1e3*r:r),non_interaction:!0}),I.env.NEXT_PUBLIC_VITALS_ENDPOINT){let e=JSON.stringify({name:t,value:r,rating:n,id:a,page:window.location.pathname,timestamp:Date.now()});navigator.sendBeacon?navigator.sendBeacon(I.env.NEXT_PUBLIC_VITALS_ENDPOINT,e):fetch(I.env.NEXT_PUBLIC_VITALS_ENDPOINT,{method:"POST",body:e,keepalive:!0}).catch(()=>{})}}async function L(){try{let{onCLS:e,onFID:t,onLCP:n,onTTFB:a,onINP:o}=await r.e(6430).then(r.bind(r,6430));e(O),t(O),n(O),a(O),o(O)}catch(e){console.warn("[Analytics] Web Vitals not available")}}var D=r(6340);function R(e){let{children:t}=e,r=(0,j.usePathname)(),n=(0,j.useSearchParams)();return(0,a.useEffect)(()=>{try{!function(){if(!T)return;let e=document.createElement("script");function t(){window.dataLayer.push(arguments)}e.src="https://www.googletagmanager.com/gtag/js?id=".concat(T),e.async=!0,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=t,t("js",new Date),t("config",T,{page_path:window.location.pathname,send_page_view:!0})}()}catch(e){console.warn("GA init failed:",e)}try{(0,D.zw)()}catch(e){console.warn("Error tracking init failed:",e)}try{L()}catch(e){console.warn("Web Vitals init failed:",e)}},[]),(0,a.useEffect)(()=>{var e;e=r+((null==n?void 0:n.toString())?"?".concat(n.toString()):""),T&&window.gtag&&window.gtag("config",T,{page_path:e})},[r,n]),t}function B(e){let{children:t}=e;return(0,n.jsx)(c.f,{children:(0,n.jsx)(a.Suspense,{fallback:null,children:(0,n.jsx)(R,{children:(0,n.jsx)(s.H,{children:(0,n.jsx)(p,{children:(0,n.jsx)(l.J,{children:(0,n.jsx)(i.v,{children:(0,n.jsx)(m.T,{children:(0,n.jsxs)(o.Zl,{children:[(0,n.jsx)(S,{}),(0,n.jsx)("div",{style:{paddingBottom:60},children:t}),(0,n.jsx)(g.Z,{}),(0,n.jsx)(k,{}),(0,n.jsx)(w,{}),(0,n.jsx)(N.rW,{})]})})})})})})})})})}},7960:function(){},1477:function(e){e.exports={nav:"BottomNav_nav__T1kIM",item:"BottomNav_item__GeZmx",icon:"BottomNav_icon__dhNNZ",navIconBounce:"BottomNav_navIconBounce__9vgTS",active:"BottomNav_active__Q5_PG",dotAppear:"BottomNav_dotAppear__rraCJ",label:"BottomNav_label__CBee_"}},9523:function(e){e.exports={container:"ConnectionStatus_container__3K_gS",dot:"ConnectionStatus_dot__76omZ",online:"ConnectionStatus_online__Xr5oN",reconnecting:"ConnectionStatus_reconnecting__YkCf_",blink:"ConnectionStatus_blink__GIa6M",offline:"ConnectionStatus_offline__NAMgt",label:"ConnectionStatus_label__x4ODL",banner:"ConnectionStatus_banner__SglN2",slideDown:"ConnectionStatus_slideDown__QXp8K",bannerOffline:"ConnectionStatus_bannerOffline__8ZMsj",bannerOnline:"ConnectionStatus_bannerOnline___ej0E",bannerIcon:"ConnectionStatus_bannerIcon__jiLYS",liveIndicator:"ConnectionStatus_liveIndicator__HvImC",liveDot:"ConnectionStatus_liveDot__xZTs8",pulse:"ConnectionStatus_pulse__8Uuey",livePulse:"ConnectionStatus_livePulse__278Go",liveLabel:"ConnectionStatus_liveLabel__hW9pU",lastUpdated:"ConnectionStatus_lastUpdated__0gNZg"}},7410:function(e){e.exports={banner:"InstallBanner_banner__9nh7X",slideUp:"InstallBanner_slideUp__Mmeau",bannerExiting:"InstallBanner_bannerExiting__wQ0IH",slideDown:"InstallBanner_slideDown__iWjAL",content:"InstallBanner_content__Kr7TP",iconWrapper:"InstallBanner_iconWrapper__Td_10",icon:"InstallBanner_icon__vel_d",textContent:"InstallBanner_textContent__kqEp3",title:"InstallBanner_title__6NeYH",subtitle:"InstallBanner_subtitle__8PEJZ",benefits:"InstallBanner_benefits__szQJK",badge:"InstallBanner_badge__BDS6n",actions:"InstallBanner_actions__agy4O",installBtn:"InstallBanner_installBtn__NplOJ",dismissBtn:"InstallBanner_dismissBtn__zEWYV",closeBtn:"InstallBanner_closeBtn__g0c8U",iosBanner:"InstallBanner_iosBanner__pauHp",iosInstructions:"InstallBanner_iosInstructions__E842g"}}},function(e){e.O(0,[3587,3069,7648,7687,9938,2357,2971,2117,1744],function(){return e(e.s=2168)}),_N_E=e.O()}]);