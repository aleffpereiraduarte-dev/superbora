(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{4384:function(e,a,t){Promise.resolve().then(t.bind(t,9337))},9337:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return o}});var s=t(7437),i=t(2265),n=t(4565),l=t(4477),r=t(6428);function o(){return(0,s.jsx)(n.Z,{children:(0,s.jsx)(l.Z,{children:(0,s.jsx)(d,{})})})}function d(){let[e,a]=(0,i.useState)({enabled:!1,allow_payment_at_table:!0,auto_accept:!1}),[t,n]=(0,i.useState)([]),[l,o]=(0,i.useState)(""),[d,p]=(0,i.useState)(!0),[m,x]=(0,i.useState)(""),[h,u]=(0,i.useState)(null),[g,y]=(0,i.useState)(!1),[b,v]=(0,i.useState)(!1),[j,f]=(0,i.useState)(!1),[C,N]=(0,i.useState)(null),[k,w]=(0,i.useState)(null),[_,S]=(0,i.useState)(""),[z,M]=(0,i.useState)(""),[R,q]=(0,i.useState)("4"),[T,W]=(0,i.useState)("1"),[B,I]=(0,i.useState)("20"),[P,E]=(0,i.useState)("4"),Q=(0,i.useCallback)(async()=>{try{let e=await (0,r.SC)("/qr-ordering.php");a(e.config||{enabled:!1,allow_payment_at_table:!0,auto_accept:!1}),n(e.tables||[]),o(e.store_url||""),x("")}catch(e){x(e.message)}finally{p(!1)}},[]);async function A(e,t){u("config-"+e);try{await (0,r.sg)("/qr-ordering.php",{action:"configure",[e]:t}),a(a=>({...a,[e]:t}))}catch(e){alert(e.message)}finally{u(null)}}async function X(e){e.preventDefault();let a=parseInt(_);if(!a||a<=0){alert("Numero da mesa invalido");return}u("create");try{await (0,r.sg)("/qr-ordering.php",{action:"create_table",numero:a,nome:z||null,capacidade:parseInt(R)||4}),y(!1),S(""),M(""),q("4"),await Q()}catch(e){alert(e.message)}finally{u(null)}}async function D(e){if(e.preventDefault(),k){u("update");try{await (0,r.sg)("/qr-ordering.php",{action:"update_table",table_id:k.id,numero:parseInt(_)||k.numero,nome:z,capacidade:parseInt(R)||4}),v(!1),w(null),await Q()}catch(e){alert(e.message)}finally{u(null)}}}async function L(e){u("toggle-"+e.id);try{await (0,r.sg)("/qr-ordering.php",{action:"update_table",table_id:e.id,ativo:!e.ativo}),n(a=>a.map(a=>a.id===e.id?{...a,ativo:!a.ativo}:a))}catch(e){alert(e.message)}finally{u(null)}}async function V(e){if(confirm("Tem certeza que deseja excluir esta mesa?")){u("delete-"+e);try{await (0,r.apiDelete)("/qr-ordering.php",{id:e}),n(a=>a.filter(a=>a.id!==e))}catch(e){alert(e.message)}finally{u(null)}}}async function H(e){e.preventDefault();let a=parseInt(T),t=parseInt(B);if(!a||!t||a>t){alert("Intervalo invalido");return}if(t-a+1>100){alert("Maximo 100 mesas por vez");return}u("bulk");try{let e=await (0,r.sg)("/qr-ordering.php",{action:"bulk_create",from:a,to:t,capacidade:parseInt(P)||4});alert("".concat(e.created," mesas criadas, ").concat(e.skipped," ja existiam")),f(!1),await Q()}catch(e){alert(e.message)}finally{u(null)}}return((0,i.useEffect)(()=>{Q()},[Q]),d)?(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:60},children:(0,s.jsx)("div",{className:"spinner"})}):m?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"empty-state-title",children:"Erro ao carregar"}),(0,s.jsx)("div",{className:"empty-state-text",children:m}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:Q,style:{marginTop:12},children:"Tentar Novamente"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"page-header",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"page-title",children:"QR Code - Pedido na Mesa"}),(0,s.jsx)("p",{className:"page-subtitle",children:"Configure mesas e gere QR Codes para pedidos presenciais"})]})}),(0,s.jsxs)("div",{className:"card",style:{marginBottom:20},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:20},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:18,fontWeight:700,marginBottom:4},children:"Pedidos via QR Code"}),(0,s.jsx)("p",{style:{fontSize:14,color:"var(--color-text-muted)"},children:"Permita que clientes facao pedidos escaneando um QR Code na mesa"})]}),(0,s.jsxs)("label",{style:c.container,children:[(0,s.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:()=>A("enabled",!e.enabled),disabled:"config-enabled"===h,style:c.input}),(0,s.jsx)("span",{style:{...c.slider,background:e.enabled?"#22c55e":"#cbd5e1"},children:(0,s.jsx)("span",{style:{...c.dot,transform:e.enabled?"translateX(22px)":"translateX(2px)"}})})]})]}),e.enabled&&(0,s.jsxs)("div",{style:{display:"flex",gap:24,flexWrap:"wrap",paddingTop:16,borderTop:"1px solid var(--color-border)"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,s.jsxs)("label",{style:c.container,children:[(0,s.jsx)("input",{type:"checkbox",checked:e.allow_payment_at_table,onChange:()=>A("allow_payment_at_table",!e.allow_payment_at_table),disabled:"config-allow_payment_at_table"===h,style:c.input}),(0,s.jsx)("span",{style:{...c.slider,background:e.allow_payment_at_table?"#22c55e":"#cbd5e1"},children:(0,s.jsx)("span",{style:{...c.dot,transform:e.allow_payment_at_table?"translateX(22px)":"translateX(2px)"}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:14,fontWeight:600},children:"Pagamento na mesa"}),(0,s.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)"},children:"Permitir pagar pelo app"})]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,s.jsxs)("label",{style:c.container,children:[(0,s.jsx)("input",{type:"checkbox",checked:e.auto_accept,onChange:()=>A("auto_accept",!e.auto_accept),disabled:"config-auto_accept"===h,style:c.input}),(0,s.jsx)("span",{style:{...c.slider,background:e.auto_accept?"#22c55e":"#cbd5e1"},children:(0,s.jsx)("span",{style:{...c.dot,transform:e.auto_accept?"translateX(22px)":"translateX(2px)"}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:14,fontWeight:600},children:"Aceitar automaticamente"}),(0,s.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)"},children:"Pedidos na mesa sao aceitos automaticamente"})]})]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:20,flexWrap:"wrap"},children:[(0,s.jsxs)("button",{className:"btn btn-primary",onClick:()=>{S(""),M(""),q("4"),y(!0)},children:[(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:6},children:[(0,s.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,s.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Adicionar Mesa"]}),(0,s.jsxs)("button",{className:"btn btn-secondary",onClick:()=>{W("1"),I("20"),E("4"),f(!0)},children:[(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:6},children:[(0,s.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,s.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,s.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"}),(0,s.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"})]}),"Criar Mesas em Lote"]}),t.length>0&&(0,s.jsxs)("button",{className:"btn btn-secondary",onClick:function(){let e=t.filter(e=>e.ativo);if(0===e.length){alert("Nenhuma mesa ativa para imprimir");return}let a=window.open("","_blank");if(!a){alert("Pop-up bloqueado. Permita pop-ups para imprimir.");return}let s='\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>QR Codes - Mesas</title>\n        <style>\n          * { margin: 0; padding: 0; box-sizing: border-box; }\n          body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }\n          .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; padding: 20px; }\n          .card {\n            border: 2px solid #e2e8f0;\n            border-radius: 12px;\n            padding: 20px;\n            text-align: center;\n            page-break-inside: avoid;\n          }\n          .card img { width: 180px; height: 180px; margin: 10px auto; display: block; }\n          .table-number { font-size: 36px; font-weight: 800; color: #1a1a2e; margin-bottom: 4px; }\n          .table-name { font-size: 14px; color: #64748b; margin-bottom: 8px; }\n          .store-url { font-size: 10px; color: #94a3b8; word-break: break-all; margin-top: 8px; }\n          .instructions { font-size: 12px; color: #475569; margin-top: 6px; }\n          @media print {\n            .grid { padding: 10px; gap: 10px; }\n            .card { border: 1px solid #ccc; padding: 12px; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class="grid">\n          '.concat(e.map(e=>'\n            <div class="card">\n              <div class="table-number">Mesa '.concat(e.numero,"</div>\n              ").concat(e.nome?'<div class="table-name">'.concat(e.nome,"</div>"):"",'\n              <img src="').concat(e.qr_image_url,'" alt="QR Code Mesa ').concat(e.numero,'" />\n              <div class="instructions">Escaneie o QR Code para fazer seu pedido</div>\n              <div class="store-url">').concat(e.qr_url,"</div>\n            </div>\n          ")).join(""),"\n        </div>\n        <script>\n          window.onload = function() { setTimeout(function() { window.print(); }, 500); };\n        </script>\n      </body>\n      </html>\n    ");a.document.write(s),a.document.close()},children:[(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:6},children:[(0,s.jsx)("polyline",{points:"6 9 6 2 18 2 18 9"}),(0,s.jsx)("path",{d:"M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"}),(0,s.jsx)("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Imprimir Todos QR Codes"]})]}),t.length>0&&(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:12,marginBottom:20},children:[(0,s.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"16px 12px"},children:[(0,s.jsx)("div",{style:{fontSize:28,fontWeight:800,color:"var(--color-primary)"},children:t.length}),(0,s.jsx)("div",{style:{fontSize:13,color:"var(--color-text-muted)"},children:"Total de Mesas"})]}),(0,s.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"16px 12px"},children:[(0,s.jsx)("div",{style:{fontSize:28,fontWeight:800,color:"#22c55e"},children:t.filter(e=>e.ativo).length}),(0,s.jsx)("div",{style:{fontSize:13,color:"var(--color-text-muted)"},children:"Mesas Ativas"})]}),(0,s.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"16px 12px"},children:[(0,s.jsx)("div",{style:{fontSize:28,fontWeight:800,color:"#eab308"},children:t.filter(e=>e.active_orders>0).length}),(0,s.jsx)("div",{style:{fontSize:13,color:"var(--color-text-muted)"},children:"Com Pedidos"})]}),(0,s.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"16px 12px"},children:[(0,s.jsx)("div",{style:{fontSize:28,fontWeight:800,color:"var(--color-text-secondary)"},children:t.reduce((e,a)=>e+a.capacidade,0)}),(0,s.jsx)("div",{style:{fontSize:13,color:"var(--color-text-muted)"},children:"Capacidade Total"})]})]}),0===t.length?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-text-muted)",strokeWidth:"1.5",style:{marginBottom:16,opacity:.5},children:[(0,s.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,s.jsx)("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),(0,s.jsx)("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),(0,s.jsx)("div",{className:"empty-state-title",children:"Nenhuma mesa cadastrada"}),(0,s.jsx)("div",{className:"empty-state-text",children:"Crie mesas para gerar QR Codes de pedido"})]}):(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:16},children:t.map(e=>(0,s.jsxs)("div",{className:"card",style:{padding:0,overflow:"hidden",opacity:e.ativo?1:.6,border:e.active_orders>0?"2px solid #eab308":void 0},children:[(0,s.jsxs)("div",{style:{padding:"16px 16px 12px",background:e.ativo?"var(--color-bg-secondary)":"var(--color-bg-tertiary)",borderBottom:"1px solid var(--color-border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{fontSize:24,fontWeight:800},children:["Mesa ",e.numero]}),e.nome&&(0,s.jsx)("div",{style:{fontSize:13,color:"var(--color-text-muted)"},children:e.nome})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.active_orders>0&&(0,s.jsxs)("span",{style:{fontSize:11,fontWeight:700,background:"#eab308",color:"#1a1a2e",padding:"2px 8px",borderRadius:10},children:[e.active_orders," pedido",e.active_orders>1?"s":""]}),(0,s.jsxs)("label",{style:{...c.container,transform:"scale(0.8)"},children:[(0,s.jsx)("input",{type:"checkbox",checked:e.ativo,onChange:()=>L(e),disabled:h==="toggle-"+e.id,style:c.input}),(0,s.jsx)("span",{style:{...c.slider,background:e.ativo?"#22c55e":"#cbd5e1"},children:(0,s.jsx)("span",{style:{...c.dot,transform:e.ativo?"translateX(22px)":"translateX(2px)"}})})]})]})]}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"16px 16px 8px"},children:(0,s.jsx)("img",{src:e.qr_image_url,alt:"QR Code Mesa ".concat(e.numero),width:160,height:160,style:{borderRadius:8,cursor:"pointer",background:"white",padding:4},onClick:()=>N(e)})}),(0,s.jsx)("div",{style:{padding:"8px 16px",display:"flex",justifyContent:"center",gap:16,fontSize:13,color:"var(--color-text-muted)"},children:(0,s.jsxs)("span",{children:[(0,s.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:4,verticalAlign:-2},children:[(0,s.jsx)("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),(0,s.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,s.jsx)("path",{d:"M23 21v-2a4 4 0 00-3-3.87"}),(0,s.jsx)("path",{d:"M16 3.13a4 4 0 010 7.75"})]}),e.capacidade," lugares"]})}),(0,s.jsxs)("div",{style:{padding:"8px 16px 16px",display:"flex",gap:8},children:[(0,s.jsxs)("button",{className:"btn btn-sm btn-secondary",style:{flex:1},onClick:()=>{w(e),S(String(e.numero)),M(e.nome||""),q(String(e.capacidade)),v(!0)},children:[(0,s.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:4},children:[(0,s.jsx)("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),(0,s.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),(0,s.jsxs)("button",{className:"btn btn-sm btn-secondary",style:{flex:1},onClick:()=>N(e),children:[(0,s.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:4},children:[(0,s.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,s.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,s.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"}),(0,s.jsx)("rect",{x:"14",y:"14",width:"3",height:"3"}),(0,s.jsx)("rect",{x:"18",y:"14",width:"3",height:"3"}),(0,s.jsx)("rect",{x:"14",y:"18",width:"3",height:"3"}),(0,s.jsx)("rect",{x:"18",y:"18",width:"3",height:"3"})]}),"QR Code"]}),(0,s.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>V(e.id),disabled:h==="delete-"+e.id,title:"Excluir mesa",children:(0,s.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,s.jsx)("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]},e.id))}),g&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>y(!1),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h3",{className:"modal-title",children:"Adicionar Mesa"}),(0,s.jsx)("button",{className:"modal-close",onClick:()=>y(!1),children:"\xd7"})]}),(0,s.jsxs)("form",{onSubmit:X,children:[(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Numero da Mesa *"}),(0,s.jsx)("input",{type:"number",className:"form-input",value:_,onChange:e=>S(e.target.value),placeholder:"Ex: 1",required:!0,min:"1",autoFocus:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Nome (opcional)"}),(0,s.jsx)("input",{type:"text",className:"form-input",value:z,onChange:e=>M(e.target.value),placeholder:"Ex: Varanda, VIP, Terraco",maxLength:100})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Capacidade (lugares)"}),(0,s.jsx)("input",{type:"number",className:"form-input",value:R,onChange:e=>q(e.target.value),min:"1",max:"100"})]})]}),(0,s.jsxs)("div",{className:"modal-footer",style:{display:"flex",gap:10,justifyContent:"flex-end",padding:"16px 20px",borderTop:"1px solid var(--color-border)"},children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>y(!1),children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:"create"===h,children:"create"===h?"Criando...":"Criar Mesa"})]})]})]})}),b&&k&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsxs)("h3",{className:"modal-title",children:["Editar Mesa ",k.numero]}),(0,s.jsx)("button",{className:"modal-close",onClick:()=>v(!1),children:"\xd7"})]}),(0,s.jsxs)("form",{onSubmit:D,children:[(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Numero da Mesa *"}),(0,s.jsx)("input",{type:"number",className:"form-input",value:_,onChange:e=>S(e.target.value),required:!0,min:"1"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Nome (opcional)"}),(0,s.jsx)("input",{type:"text",className:"form-input",value:z,onChange:e=>M(e.target.value),placeholder:"Ex: Varanda, VIP, Terraco",maxLength:100})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Capacidade (lugares)"}),(0,s.jsx)("input",{type:"number",className:"form-input",value:R,onChange:e=>q(e.target.value),min:"1",max:"100"})]})]}),(0,s.jsxs)("div",{className:"modal-footer",style:{display:"flex",gap:10,justifyContent:"flex-end",padding:"16px 20px",borderTop:"1px solid var(--color-border)"},children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>v(!1),children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:"update"===h,children:"update"===h?"Salvando...":"Salvar"})]})]})]})}),j&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>f(!1),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h3",{className:"modal-title",children:"Criar Mesas em Lote"}),(0,s.jsx)("button",{className:"modal-close",onClick:()=>f(!1),children:"\xd7"})]}),(0,s.jsxs)("form",{onSubmit:H,children:[(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsx)("p",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:16},children:"Crie varias mesas de uma vez. Mesas que ja existem serao ignoradas."}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,s.jsx)("label",{className:"form-label",children:"De (numero)"}),(0,s.jsx)("input",{type:"number",className:"form-input",value:T,onChange:e=>W(e.target.value),min:"1",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,s.jsx)("label",{className:"form-label",children:"Ate (numero)"}),(0,s.jsx)("input",{type:"number",className:"form-input",value:B,onChange:e=>I(e.target.value),min:"1",required:!0})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Capacidade por mesa"}),(0,s.jsx)("input",{type:"number",className:"form-input",value:P,onChange:e=>E(e.target.value),min:"1",max:"100"})]}),(0,s.jsxs)("div",{style:{background:"var(--color-bg-secondary)",padding:"12px 16px",borderRadius:8,fontSize:14,color:"var(--color-text-secondary)",marginTop:8},children:["Serao criadas ",(0,s.jsx)("strong",{children:Math.max(0,(parseInt(B)||0)-(parseInt(T)||0)+1)})," mesas (Mesa ",T||"?"," ate Mesa ",B||"?",")"]})]}),(0,s.jsxs)("div",{className:"modal-footer",style:{display:"flex",gap:10,justifyContent:"flex-end",padding:"16px 20px",borderTop:"1px solid var(--color-border)"},children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>f(!1),children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:"bulk"===h,children:"bulk"===h?"Criando...":"Criar Mesas"})]})]})]})}),C&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>N(null),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),style:{maxWidth:440,textAlign:"center"},children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsxs)("h3",{className:"modal-title",children:["QR Code - Mesa ",C.numero]}),(0,s.jsx)("button",{className:"modal-close",onClick:()=>N(null),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",style:{padding:"24px 20px"},children:[C.nome&&(0,s.jsx)("p",{style:{fontSize:16,color:"var(--color-text-secondary)",marginBottom:12},children:C.nome}),(0,s.jsx)("img",{src:C.qr_image_url.replace("200x200","400x400"),alt:"QR Code Mesa ".concat(C.numero),width:300,height:300,style:{borderRadius:12,background:"white",padding:8,margin:"0 auto",display:"block"}}),(0,s.jsx)("p",{style:{fontSize:13,color:"var(--color-text-muted)",marginTop:12,wordBreak:"break-all"},children:C.qr_url}),(0,s.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"center",marginTop:16},children:[(0,s.jsxs)("button",{className:"btn btn-primary",onClick:()=>{let e=window.open("","_blank");e&&(e.document.write("\n                      <!DOCTYPE html><html><head><title>QR Code Mesa ".concat(C.numero,'</title>\n                      <style>\n                        body { font-family: sans-serif; text-align: center; padding: 40px; }\n                        .number { font-size: 48px; font-weight: 800; margin-bottom: 8px; }\n                        .name { font-size: 18px; color: #666; margin-bottom: 20px; }\n                        img { width: 300px; height: 300px; }\n                        .instructions { font-size: 14px; color: #666; margin-top: 16px; }\n                        .url { font-size: 10px; color: #aaa; margin-top: 8px; word-break: break-all; }\n                      </style></head><body>\n                        <div class="number">Mesa ').concat(C.numero,"</div>\n                        ").concat(C.nome?'<div class="name">'.concat(C.nome,"</div>"):"",'\n                        <img src="').concat(C.qr_image_url.replace("200x200","400x400"),'" />\n                        <div class="instructions">Escaneie para fazer seu pedido</div>\n                        <div class="url">').concat(C.qr_url,"</div>\n                        <script>window.onload=function(){setTimeout(function(){window.print()},500)}</script>\n                      </body></html>\n                    ")),e.document.close())},children:[(0,s.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:6},children:[(0,s.jsx)("polyline",{points:"6 9 6 2 18 2 18 9"}),(0,s.jsx)("path",{d:"M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"}),(0,s.jsx)("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Imprimir"]}),(0,s.jsxs)("button",{className:"btn btn-secondary",onClick:()=>{navigator.clipboard&&navigator.clipboard.writeText(C.qr_url).then(()=>alert("Link copiado!")).catch(()=>{})},children:[(0,s.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:6},children:[(0,s.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,s.jsx)("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})]}),"Copiar Link"]})]})]})]})})]})}let c={container:{position:"relative",display:"inline-block",width:48,height:26,cursor:"pointer",flexShrink:0},input:{opacity:0,width:0,height:0,position:"absolute"},slider:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:26,transition:"background 0.2s",display:"block"},dot:{position:"absolute",top:2,width:22,height:22,borderRadius:"50%",background:"white",transition:"transform 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",display:"block"}}}},function(e){e.O(0,[3448,565,2205,2971,2117,1744],function(){return e(e.s=4384)}),_N_E=e.O()}]);