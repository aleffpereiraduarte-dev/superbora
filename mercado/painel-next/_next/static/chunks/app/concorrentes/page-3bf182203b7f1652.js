(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{9879:function(s,a,e){Promise.resolve().then(e.bind(e,9952))},9952:function(s,a,e){"use strict";e.r(a),e.d(a,{default:function(){return d}});var c=e(7437),i=e(2265),n=e(4565),r=e(4477),l=e(6428),o=e(6971);function d(){return(0,c.jsx)(n.Z,{children:(0,c.jsx)(r.Z,{children:(0,c.jsx)(t,{})})})}function t(){let{addNotification:s}=(0,o.l)(),[a,e]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),d=s=>{let a=parseFloat(s);return isNaN(a)?"R$ 0,00":a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})};async function t(){try{let s=await (0,l.SC)("/competitor-analysis.php");e(s)}catch(s){console.error(s)}r(!1)}if((0,i.useEffect)(()=>{t()},[]),n)return(0,c.jsx)("div",{style:{padding:60,textAlign:"center"},children:(0,c.jsx)("div",{className:"spinner"})});let m=(null==a?void 0:a.your_stats)||{},p=(null==a?void 0:a.market_averages)||{},h=(null==a?void 0:a.competitors)||[],v=(null==a?void 0:a.insights)||[],u=(null==a?void 0:a.your_ranking)||1,x=(null==a?void 0:a.total_competitors)||1,j=function(s,a){let e=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!a||0===a)return"neutral";let c=s-a;return e?c>0?"positive":c<0?"negative":"neutral":c<0?"positive":c>0?"negative":"neutral"};return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"page-header",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"page-title",children:"Analise de Concorrentes"}),(0,c.jsxs)("p",{className:"page-subtitle",children:["Compare seu desempenho com o mercado - ",(null==a?void 0:a.category)||"Sua Categoria"]})]})}),(0,c.jsxs)("div",{className:"ranking-hero",children:[(0,c.jsxs)("div",{className:"ranking-position",children:[(0,c.jsxs)("span",{className:"ranking-number",children:["#",u]}),(0,c.jsxs)("span",{className:"ranking-total",children:["de ",x]})]}),(0,c.jsxs)("div",{className:"ranking-info",children:[(0,c.jsx)("h2",{children:"Sua Posicao no Ranking"}),(0,c.jsx)("p",{children:"Baseado na avaliacao media dos clientes na sua categoria e cidade"})]}),1===u&&(0,c.jsx)("span",{className:"ranking-trophy",children:"\uD83C\uDFC6"}),2===u&&(0,c.jsx)("span",{className:"ranking-trophy",children:"\uD83E\uDD48"}),3===u&&(0,c.jsx)("span",{className:"ranking-trophy",children:"\uD83E\uDD49"})]}),(0,c.jsxs)("div",{className:"comparison-grid",children:[(0,c.jsxs)("div",{className:"comparison-card comparison-".concat(j(m.avg_rating,p.avg_rating)),children:[(0,c.jsx)("div",{className:"comparison-icon",children:"⭐"}),(0,c.jsxs)("div",{className:"comparison-content",children:[(0,c.jsx)("div",{className:"comparison-label",children:"Avaliacao Media"}),(0,c.jsxs)("div",{className:"comparison-values",children:[(0,c.jsxs)("div",{className:"comparison-yours",children:[(0,c.jsx)("span",{className:"comparison-value",children:m.avg_rating||0}),(0,c.jsx)("span",{className:"comparison-tag",children:"Voce"})]}),(0,c.jsx)("div",{className:"comparison-vs",children:"vs"}),(0,c.jsxs)("div",{className:"comparison-market",children:[(0,c.jsx)("span",{className:"comparison-value",children:p.avg_rating||0}),(0,c.jsx)("span",{className:"comparison-tag",children:"Media"})]})]})]})]}),(0,c.jsxs)("div",{className:"comparison-card comparison-".concat(j(m.product_count,p.avg_products)),children:[(0,c.jsx)("div",{className:"comparison-icon",children:"\uD83D\uDCE6"}),(0,c.jsxs)("div",{className:"comparison-content",children:[(0,c.jsx)("div",{className:"comparison-label",children:"Produtos no Cardapio"}),(0,c.jsxs)("div",{className:"comparison-values",children:[(0,c.jsxs)("div",{className:"comparison-yours",children:[(0,c.jsx)("span",{className:"comparison-value",children:m.product_count||0}),(0,c.jsx)("span",{className:"comparison-tag",children:"Voce"})]}),(0,c.jsx)("div",{className:"comparison-vs",children:"vs"}),(0,c.jsxs)("div",{className:"comparison-market",children:[(0,c.jsx)("span",{className:"comparison-value",children:p.avg_products||0}),(0,c.jsx)("span",{className:"comparison-tag",children:"Media"})]})]})]})]}),(0,c.jsxs)("div",{className:"comparison-card comparison-".concat(j(m.avg_price,p.avg_price,!1)),children:[(0,c.jsx)("div",{className:"comparison-icon",children:"\uD83D\uDCB0"}),(0,c.jsxs)("div",{className:"comparison-content",children:[(0,c.jsx)("div",{className:"comparison-label",children:"Preco Medio"}),(0,c.jsxs)("div",{className:"comparison-values",children:[(0,c.jsxs)("div",{className:"comparison-yours",children:[(0,c.jsx)("span",{className:"comparison-value",children:d(m.avg_price)}),(0,c.jsx)("span",{className:"comparison-tag",children:"Voce"})]}),(0,c.jsx)("div",{className:"comparison-vs",children:"vs"}),(0,c.jsxs)("div",{className:"comparison-market",children:[(0,c.jsx)("span",{className:"comparison-value",children:d(p.avg_price)}),(0,c.jsx)("span",{className:"comparison-tag",children:"Media"})]})]})]})]}),(0,c.jsxs)("div",{className:"comparison-card comparison-".concat(j(m.review_count,10)),children:[(0,c.jsx)("div",{className:"comparison-icon",children:"\uD83D\uDCAC"}),(0,c.jsxs)("div",{className:"comparison-content",children:[(0,c.jsx)("div",{className:"comparison-label",children:"Total de Avaliacoes"}),(0,c.jsx)("div",{className:"comparison-values",children:(0,c.jsxs)("div",{className:"comparison-yours",children:[(0,c.jsx)("span",{className:"comparison-value",children:m.review_count||0}),(0,c.jsx)("span",{className:"comparison-tag",children:"Voce"})]})})]})]})]}),v.length>0&&(0,c.jsxs)("div",{className:"card",style:{marginTop:24},children:[(0,c.jsx)("div",{className:"card-header",children:(0,c.jsx)("h2",{className:"card-title",children:"Insights da IA"})}),(0,c.jsx)("div",{className:"insights-list",children:v.map((s,a)=>(0,c.jsxs)("div",{className:"insight-item insight-".concat(s.type),children:[(0,c.jsx)("div",{className:"insight-icon",children:s.icon}),(0,c.jsx)("div",{className:"insight-content",children:(0,c.jsx)("div",{className:"insight-message",children:s.message})})]},a))})]}),h.length>0&&(0,c.jsxs)("div",{className:"card",style:{marginTop:24},children:[(0,c.jsx)("div",{className:"card-header",children:(0,c.jsx)("h2",{className:"card-title",children:"Seus Concorrentes"})}),(0,c.jsx)("div",{className:"competitors-list",children:h.map((s,a)=>{var e;return(0,c.jsxs)("div",{className:"competitor-item",children:[(0,c.jsxs)("div",{className:"competitor-rank",children:["#",a+1]}),(0,c.jsx)("div",{className:"competitor-logo",children:s.logo?(0,c.jsx)("img",{src:s.logo,alt:s.name}):(0,c.jsx)("div",{className:"competitor-logo-placeholder",children:(null===(e=s.name)||void 0===e?void 0:e.charAt(0))||"?"})}),(0,c.jsxs)("div",{className:"competitor-info",children:[(0,c.jsx)("div",{className:"competitor-name",children:s.name}),(0,c.jsxs)("div",{className:"competitor-stats",children:[(0,c.jsxs)("span",{children:["⭐ ",s.rating||0]}),(0,c.jsxs)("span",{children:["\uD83D\uDCAC ",s.reviews||0," avaliacoes"]}),(0,c.jsxs)("span",{children:["\uD83D\uDCE6 ",s.products||0," produtos"]})]})]})]},a)})})]}),0===h.length&&(0,c.jsx)("div",{className:"card",style:{marginTop:24},children:(0,c.jsxs)("div",{className:"empty-state",children:[(0,c.jsx)("div",{className:"empty-state-icon",children:"\uD83C\uDF89"}),(0,c.jsx)("div",{className:"empty-state-text",children:"Voce e unico na sua categoria!"}),(0,c.jsx)("p",{style:{color:"var(--color-text-secondary)"},children:"Nao encontramos concorrentes diretos na sua cidade."})]})})]})}}},function(s){s.O(0,[448,565,205,971,117,744],function(){return s(s.s=9879)}),_N_E=s.O()}]);