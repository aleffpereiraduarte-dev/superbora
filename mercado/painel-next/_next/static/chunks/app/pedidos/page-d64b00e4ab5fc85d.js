(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{1796:function(e,t,n){Promise.resolve().then(n.bind(n,8725))},8725:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(7437),r=n(2265),s=n(4565),i=n(4477),l=n(6428),o=n(5904);let d=[{key:"",label:"Todos"},{key:"pendente",label:"Pendente"},{key:"aceito",label:"Aceito"},{key:"preparando",label:"Preparando"},{key:"pronto",label:"Pronto"},{key:"em_entrega",label:"Em Entrega"},{key:"delivered",label:"Entregue"},{key:"cancelado",label:"Cancelado"}],c={pendente:"badge-warning",pending:"badge-warning",aceito:"badge-info",confirmed:"badge-info",preparando:"badge-info",pronto:"badge-primary",aguardando_retirada:"badge-primary",em_entrega:"badge-info",delivering:"badge-info",delivered:"badge-success",entregue:"badge-success",cancelado:"badge-danger",cancelled:"badge-danger"},u=[{key:"pendente",label:"Novos",icon:"bell",color:"#f59e0b",bgColor:"#fffbeb"},{key:"preparando",label:"Preparando",icon:"flame",color:"#ea580c",bgColor:"#fff7ed"},{key:"pronto",label:"Prontos",icon:"check",color:"#16a34a",bgColor:"#f0fdf4"},{key:"em_entrega",label:"Em Entrega",icon:"truck",color:"#8b5cf6",bgColor:"#f5f3ff"},{key:"entregue",label:"Entregues",icon:"flag",color:"#64748b",bgColor:"#f8fafc"}],m={pendente:["preparando"],preparando:["pronto"],pronto:["em_entrega"],em_entrega:["entregue"]},h=[{value:"newest",label:"Mais recente"},{value:"oldest",label:"Mais antigo"},{value:"highest",label:"Maior valor"},{value:"priority",label:"Prioridade"}],p="painel_orders_view";function x(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function v(e){return e?new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}function g(e){if(!e)return"";let t=Math.floor((new Date-new Date(e))/6e4);if(t<1)return"agora";if(t<60)return"".concat(t,"min");let n=Math.floor(t/60);return n<24?"".concat(n,"h ").concat(t%60,"min"):"".concat(Math.floor(n/24),"d")}function j(e){return e<=0?"00:00":"".concat(String(Math.floor(e/60)).padStart(2,"0"),":").concat(String(e%60).padStart(2,"0"))}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!e)return null;let n=new Date(e),a=Math.floor((new Date().getTime()-n.getTime())/1e3),r=60*t,s=r-a,i=s<0,l=i?Math.abs(s):0,o=Math.min(100,a/r*100),d="normal";return i?d="critical":o>=75&&(d="warning"),{elapsedSec:a,remainingSec:Math.max(0,s),overtimeSec:l,isOvertime:i,percentComplete:o,status:d,display:i?"+".concat(j(l)):j(s)}}function f(e,t){"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/favicon.ico",tag:"new-order",requireInteraction:!0})}function y(){return(0,a.jsx)(s.Z,{children:(0,a.jsx)(i.Z,{children:(0,a.jsx)(N,{})})})}function N(){var e,t,n,s,i,j,y,N,k;let[w,_]=(0,r.useState)(""),[C,S]=(0,r.useState)(1),[T,E]=(0,r.useState)([]),[P,A]=(0,r.useState)(1),[q,M]=(0,r.useState)(!0),[B,D]=(0,r.useState)(""),[z,O]=(0,r.useState)(null),[W,R]=(0,r.useState)(null),[I,L]=(0,r.useState)(!1),[F,V]=(0,r.useState)(null),[G,H]=(0,r.useState)("list"),[K,J]=(0,r.useState)(null),[Z,X]=(0,r.useState)(null),[Q,U]=(0,r.useState)(null),[Y,$]=(0,r.useState)(!0),ee=(0,r.useRef)(!0),[et,en]=(0,r.useState)(new Set),ea=(0,r.useRef)(new Set),er=(0,r.useRef)(!0),{isConnected:es,newOrders:ei,markOrderSeen:el,soundEnabled:eo,toggleSound:ed,playNewOrderSound:ec}=(0,o.cP)(),[eu,em]=(0,r.useState)(null),[eh,ep]=(0,r.useState)(""),[ex,ev]=(0,r.useState)(""),[eg,ej]=(0,r.useState)(""),[eb,ef]=(0,r.useState)(""),[ey,eN]=(0,r.useState)(""),[ek,ew]=(0,r.useState)(""),[e_,eC]=(0,r.useState)("newest"),[eS,eT]=(0,r.useState)(!1),[eE,eP]=(0,r.useState)(!1),[eA,eq]=(0,r.useState)(new Set),[,eM]=(0,r.useState)(0),[eB,eD]=(0,r.useState)(null),[ez,eO]=(0,r.useState)(!1),[eW,eR]=(0,r.useState)(null),[eI,eL]=(0,r.useState)(0),eF=(0,r.useRef)(new Set);(0,r.useEffect)(()=>{let e=setTimeout(()=>ev(eh),400);return()=>clearTimeout(e)},[eh]),(0,r.useEffect)(()=>{try{let e=localStorage.getItem("painel_sound_enabled");null!==e&&$("true"===e);let t=localStorage.getItem(p);("kanban"===t||"list"===t)&&H(t)}catch(e){}"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),(0,r.useEffect)(()=>{ee.current=eo},[eo]),(0,r.useEffect)(()=>{let e=setInterval(()=>eM(e=>e+1),3e4);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{(async function(){try{let e=await (0,l.SC)("/order-stats.php");em(e)}catch(e){}})()},[]);let eV=(0,r.useCallback)(async()=>{M(!0),D("");try{var e;let t="kanban"===G?{page:1,limit:200,sort:"priority"}:{status:w,page:C,limit:50,search:ex,date_from:eg,date_to:eb,payment_method:ey,delivery_type:ek,sort:e_},n=await (0,l.SC)("/orders.php",t);E(n.orders||n.items||[]),A(n.total_pages||(null===(e=n.pagination)||void 0===e?void 0:e.pages)||1)}catch(e){D(e.message)}finally{M(!1)}},[w,C,G,ex,eg,eb,ey,ek,e_]);(0,r.useEffect)(()=>{eV()},[eV]);let eG=(0,r.useCallback)(async()=>{if("kanban"===G){eO(!0);try{var e;let t=await (0,l.SC)("/order-queue.php");eD(t),((null===(e=t.queue)||void 0===e?void 0:e.pendente)||[]).forEach(e=>{let t=e.order_id;ea.current.has(t)||er.current||(en(e=>new Set([...e,t])),ee.current&&function(){try{let e=new(window.AudioContext||window.webkitAudioContext);[{freq:830,start:0,dur:.4},{freq:660,start:.05,dur:.35},{freq:1050,start:.45,dur:.4},{freq:830,start:.5,dur:.35}].forEach(t=>{let{freq:n,start:a,dur:r}=t,s=e.createOscillator(),i=e.createGain();s.connect(i),i.connect(e.destination),s.frequency.value=n,s.type="sine",i.gain.setValueAtTime(.35,e.currentTime+a),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+a+r),s.start(e.currentTime+a),s.stop(e.currentTime+a+r)}),setTimeout(()=>{try{let e=new(window.AudioContext||window.webkitAudioContext);[830,1050,1320].forEach((t,n)=>{let a=e.createOscillator(),r=e.createGain();a.connect(r),r.connect(e.destination),a.frequency.value=t,a.type="sine",r.gain.setValueAtTime(.3,e.currentTime+.2*n),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.2*n+.3),a.start(e.currentTime+.2*n),a.stop(e.currentTime+.2*n+.3)})}catch(e){}},1e3)}catch(e){}}(),f("Novo Pedido!","Pedido #".concat(e.order_number||t," - ").concat(x(e.total)))),ea.current.add(t)}),er.current=!1}catch(e){console.error("Kanban queue error:",e)}finally{eO(!1)}}},[G]);(0,r.useEffect)(()=>{"kanban"===G&&eG()},[G,eG]);let{orderUpdates:eH}=(0,o.cP)();async function eK(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!F){V("".concat(e,"-move"));try{let r={order_id:e,from_status:t,to_status:n};a&&(r.prep_time_estimate=a),await (0,l.sg)("/order-queue.php",r),en(t=>{let n=new Set(t);return n.delete(e),n}),eD(n=>{if(!(null==n?void 0:n.queue))return n;let a={...n.queue};return a[t]&&(a[t]=a[t].filter(t=>t.order_id!==e)),{...n,queue:a}}),await eG()}catch(e){alert(e.message||"Erro ao mover pedido"),await eG()}finally{V(null)}}}function eJ(e){_(e),S(1),O(null),R(null),eP(!1),eq(new Set)}async function eZ(e){if(z===e){O(null),R(null);return}O(e),L(!0);try{let t=await (0,l.SC)("/order-detail.php",{id:e});R(t)}catch(e){R({error:e.message})}finally{L(!1)}}async function eX(e,t){if(!F){V("".concat(e,"-").concat(t));try{if(await (0,l.sg)("/order-action.php",{order_id:e,action:t}),en(t=>{let n=new Set(t);return n.delete(e),n}),await eV(),z===e){let t=await (0,l.SC)("/order-detail.php",{id:e});R(t)}}catch(e){alert(e.message)}finally{V(null)}}}function eQ(e){eq(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})}async function eU(e){if(0!==eA.size){V("batch");try{await (0,l.w9)("/order-batch-action.php",{order_ids:[...eA],action:e}),eq(new Set),eP(!1),await eV()}catch(e){alert(e.message)}finally{V(null)}}}function eY(e){eR(null),J(null),e.target.classList.remove("kanban-card-dragging")}function e$(e){e.currentTarget.contains(e.relatedTarget)||J(null)}async function e0(e,t){e.preventDefault(),J(null);try{let n=JSON.parse(e.dataTransfer.getData("text/plain"));if(n.currentStatus===t||!(m[n.currentStatus]||[]).includes(t))return;await eK(n.orderId,n.currentStatus,t)}catch(e){console.error("Drop error:",e)}}async function e1(e){X(e);try{let t=await (0,l.SC)("/order-detail.php",{id:e});U(t),setTimeout(()=>{window.print(),setTimeout(()=>{X(null),U(null)},500)},300)}catch(e){alert("Erro ao carregar pedido: "+e.message),X(null),U(null)}}(0,r.useEffect)(()=>{"kanban"===G&&eH.length>0&&eG()},[G,eH,eG]),(0,r.useEffect)(()=>{if("kanban"!==G)return;let e=setInterval(()=>{var e;eL(e=>e+1),(null==eB?void 0:null===(e=eB.queue)||void 0===e?void 0:e.preparando)&&ee.current&&eB.queue.preparando.forEach(e=>{let t=b(e.preparing_started_at,e.prep_time_estimate);(null==t?void 0:t.isOvertime)&&!eF.current.has(e.order_id)&&(function(){try{let e=new(window.AudioContext||window.webkitAudioContext);[{freq:880,start:0,dur:.15},{freq:880,start:.2,dur:.15},{freq:1100,start:.4,dur:.25}].forEach(t=>{let{freq:n,start:a,dur:r}=t,s=e.createOscillator(),i=e.createGain();s.connect(i),i.connect(e.destination),s.frequency.value=n,s.type="square",i.gain.setValueAtTime(.2,e.currentTime+a),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+a+r),s.start(e.currentTime+a),s.stop(e.currentTime+a+r)})}catch(e){}}(),eF.current.add(e.order_id))})},1e3);return()=>clearInterval(e)},[G,eB]),(0,r.useEffect)(()=>{0!==ei.length&&(ei.forEach(e=>{var t,n,a;let r=(null===(t=e.order)||void 0===t?void 0:t.order_id)||e.order_id;!r||ea.current.has(r)||er.current||(en(e=>new Set([...e,r])),f("Novo Pedido!","Pedido #".concat((null===(n=e.order)||void 0===n?void 0:n.order_number)||r," - ").concat(x((null===(a=e.order)||void 0===a?void 0:a.total)||0)))),r&&ea.current.add(r)}),eV(),(0,l.SC)("/order-stats.php").then(em).catch(()=>{}))},[ei,eV]),(0,r.useEffect)(()=>{if(0===et.size)return;let e=setTimeout(()=>en(new Set),3e4);return()=>clearTimeout(e)},[et]);let e2=(0,r.useMemo)(()=>T.map(e=>({...e,_urgency:function(e,t){if(!t)return"normal";let n=Math.floor((Date.now()-new Date(t).getTime())/6e4);if("pendente"===e||"pending"===e){if(n>5)return"critical";if(n>3)return"warning"}else if("preparando"===e){if(n>25)return"critical";if(n>15)return"warning"}else if("pronto"===e){if(n>15)return"critical";if(n>5)return"warning"}return"normal"}(e.status,e.date_modified||e.date)})),[T]),e4="kanban"===G&&(null==eB?void 0:eB.counts)?eB.counts.pendente||0:T.filter(e=>"pendente"===e.status||"pending"===e.status).length,e6={motorista_aceito:"Motorista a caminho",em_transito:"Em transito",entregue:"Entregue",cancelado:"Cancelada",expirado:"Aguardando motorista",driver_assigned:"Motorista designado",picked_up:"Coletado",in_transit:"A caminho",delivered:"Entregue"};function e5(e,t){if(!e)return null;let n=e.order||{},r=e.delivery,s=e.shopper,i=t||n.status,l=["pronto","em_entrega","out_for_delivery","delivering","aguardando_retirada","aguardando_entregador","ready_for_delivery"];if(!l.includes(i)&&!r&&!s)return null;let o=(null==r?void 0:r.driver_name)||n.driver_name||(null==s?void 0:s.name)||null,d=(null==r?void 0:r.driver_phone)||n.driver_phone||(null==s?void 0:s.phone)||null,c=(null==r?void 0:r.status)||null;return o||c||l.includes(i)?(0,a.jsxs)("div",{className:"delivery-tracking-panel",children:[(0,a.jsxs)("div",{className:"delivery-tracking-header",children:[(0,a.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("rect",{x:"1",y:"3",width:"15",height:"13"}),(0,a.jsx)("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),(0,a.jsx)("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),(0,a.jsx)("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),(0,a.jsx)("span",{className:"delivery-tracking-title",children:"Entrega"}),c&&(0,a.jsx)("span",{className:"delivery-tracking-status-badge",children:e6[c]||c})]}),o&&(0,a.jsxs)("div",{className:"delivery-driver-info",children:[(0,a.jsx)("div",{className:"delivery-driver-avatar",children:(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),(0,a.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}),(0,a.jsxs)("div",{className:"delivery-driver-details",children:[(0,a.jsx)("span",{className:"delivery-driver-name",children:o}),d&&(0,a.jsx)("a",{href:"tel:".concat(d),className:"delivery-driver-phone",onClick:e=>e.stopPropagation(),children:d})]})]})]}):null}function e3(e){let t=e.id||e.order_id,n=e.status,r=(0,a.jsx)("button",{className:"btn btn-sm btn-secondary no-print",onClick:e=>{e.stopPropagation(),e1(t)},title:"Imprimir",children:(0,a.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("polyline",{points:"6 9 6 2 18 2 18 9"}),(0,a.jsx)("path",{d:"M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"}),(0,a.jsx)("rect",{x:"6",y:"14",width:"12",height:"8"})]})});return"pendente"===n||"pending"===n?(0,a.jsxs)("div",{className:"order-actions",children:[(0,a.jsx)("button",{className:"btn btn-sm btn-success",disabled:!!F,onClick:e=>{e.stopPropagation(),eX(t,"confirmar")},children:F==="".concat(t,"-confirmar")?"Aceitando...":"Aceitar Pedido"}),(0,a.jsx)("button",{className:"btn btn-sm btn-danger",disabled:!!F,onClick:e=>{e.stopPropagation(),eX(t,"cancelar")},children:F==="".concat(t,"-cancelar")?"Recusando...":"Recusar"}),r]}):"aceito"===n||"confirmed"===n?(0,a.jsxs)("div",{className:"order-actions",children:[(0,a.jsx)("button",{className:"btn btn-sm btn-primary",disabled:!!F,onClick:e=>{e.stopPropagation(),eX(t,"preparando")},children:F==="".concat(t,"-preparando")?"Iniciando...":"Iniciar Preparo"}),(0,a.jsx)("button",{className:"btn btn-sm btn-danger",disabled:!!F,onClick:e=>{e.stopPropagation(),eX(t,"cancelar")},children:"Cancelar"}),r]}):"preparando"===n?(0,a.jsxs)("div",{className:"order-actions",children:[(0,a.jsx)("button",{className:"btn btn-sm btn-success",disabled:!!F,onClick:e=>{e.stopPropagation(),eX(t,"pronto")},children:F==="".concat(t,"-pronto")?"Finalizando...":"Pronto p/ Retirada"}),r]}):(0,a.jsxs)("div",{className:"order-actions",children:[r," ",(0,a.jsx)("span",{style:{fontSize:13,color:"var(--color-text-muted)"},children:"Imprimir"})]})}function e8(e){return({bell:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,a.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),flame:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),check:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})}),truck:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("rect",{x:"1",y:"3",width:"15",height:"13"}),(0,a.jsx)("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),(0,a.jsx)("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),(0,a.jsx)("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),flag:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),(0,a.jsx)("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]})})[e]||null}return(0,a.jsxs)("div",{children:[Q&&function(){if(!Q)return null;let e=Q.order||Q,t=Q.items||[],n=Q.customer||{};return(0,a.jsxs)("div",{className:"print-receipt",children:[(0,a.jsxs)("div",{className:"print-receipt-header",children:[(0,a.jsx)("h2",{className:"print-receipt-store",children:"SuperBora"}),(0,a.jsx)("div",{className:"print-receipt-divider",children:"================================"})]}),(0,a.jsxs)("div",{className:"print-receipt-order-info",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("strong",{children:["Pedido #",e.order_number||e.order_id]})}),(0,a.jsx)("div",{children:v(e.date_added||e.created_at)}),(0,a.jsx)("div",{className:"print-receipt-divider",children:"--------------------------------"})]}),(0,a.jsxs)("div",{className:"print-receipt-customer",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Cliente:"})," ",n.name||e.customer_name||"N/A"]}),n.phone&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Tel:"})," ",n.phone]}),e.delivery_address&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Endereco:"})," ",e.delivery_address]}),e.is_pickup&&(0,a.jsx)("div",{children:(0,a.jsx)("strong",{children:"** RETIRADA NO LOCAL **"})})]}),(0,a.jsx)("div",{className:"print-receipt-divider",children:"================================"}),(0,a.jsxs)("table",{className:"print-receipt-items",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{textAlign:"left"},children:"Item"}),(0,a.jsx)("th",{style:{textAlign:"right"},children:"Valor"})]})}),(0,a.jsx)("tbody",{children:t.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[e.quantity||e.qty,"x ",e.name||e.nome||e.product_name]}),(0,a.jsx)("td",{style:{textAlign:"right"},children:x(e.total||e.price*(e.quantity||e.qty))})]},t))})]}),(0,a.jsx)("div",{className:"print-receipt-divider",children:"--------------------------------"}),(0,a.jsxs)("div",{className:"print-receipt-totals",children:[null!=e.subtotal&&(0,a.jsxs)("div",{className:"print-receipt-total-row",children:[(0,a.jsx)("span",{children:"Subtotal:"}),(0,a.jsx)("span",{children:x(e.subtotal)})]}),e.delivery_fee>0&&(0,a.jsxs)("div",{className:"print-receipt-total-row",children:[(0,a.jsx)("span",{children:"Taxa entrega:"}),(0,a.jsx)("span",{children:x(e.delivery_fee)})]}),(0,a.jsxs)("div",{className:"print-receipt-total-row print-receipt-total-final",children:[(0,a.jsx)("span",{children:(0,a.jsx)("strong",{children:"TOTAL:"})}),(0,a.jsx)("span",{children:(0,a.jsx)("strong",{children:x(e.total)})})]})]}),(0,a.jsx)("div",{className:"print-receipt-divider",children:"================================"}),(0,a.jsx)("div",{className:"print-receipt-footer",children:"Obrigado pela preferencia!"})]})}(),(0,a.jsxs)("div",{className:"no-print",children:[eu&&(0,a.jsxs)("div",{className:"order-stats-grid",children:[(0,a.jsxs)("div",{className:"order-stat-card",children:[(0,a.jsx)("div",{className:"order-stat-value",children:eu.total_today||0}),(0,a.jsx)("div",{className:"order-stat-label",children:"Pedidos Hoje"})]}),(0,a.jsxs)("div",{className:"order-stat-card order-stat-revenue",children:[(0,a.jsx)("div",{className:"order-stat-value",children:x(eu.revenue_today)}),(0,a.jsx)("div",{className:"order-stat-label",children:"Receita"})]}),(0,a.jsxs)("div",{className:"order-stat-card ".concat(eu.pending_count>0?"order-stat-pulse":""),children:[(0,a.jsx)("div",{className:"order-stat-value",children:eu.pending_count||0}),(0,a.jsx)("div",{className:"order-stat-label",children:"Pendentes"})]}),(0,a.jsxs)("div",{className:"order-stat-card",children:[(0,a.jsx)("div",{className:"order-stat-value",children:eu.preparing_count||0}),(0,a.jsx)("div",{className:"order-stat-label",children:"Preparando"})]}),(0,a.jsxs)("div",{className:"order-stat-card",children:[(0,a.jsx)("div",{className:"order-stat-value",children:null!=eu.avg_time_minutes?"".concat(eu.avg_time_minutes,"min"):"--"}),(0,a.jsx)("div",{className:"order-stat-label",children:"Tempo Medio"})]}),(0,a.jsxs)("div",{className:"order-stat-card",children:[(0,a.jsx)("div",{className:"order-stat-value",children:eu.delivered_count||0}),(0,a.jsx)("div",{className:"order-stat-label",children:"Entregues"})]})]}),(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"page-title",children:"Pedidos"}),(0,a.jsx)("p",{className:"page-subtitle",children:"Gerencie os pedidos do seu estabelecimento"})]}),(0,a.jsxs)("div",{className:"order-sound-toggle",children:[(0,a.jsxs)("span",{className:"sse-indicator ".concat(es?"sse-connected":"sse-disconnected"),title:es?"Tempo real ativo (WebSocket)":"Reconectando...",children:[(0,a.jsx)("span",{className:"sse-dot"}),es?"Ao vivo":"Offline"]}),(0,a.jsx)("button",{className:"btn btn-sm btn-secondary view-toggle-btn",onClick:function(){let e="list"===G?"kanban":"list";H(e);try{localStorage.setItem(p,e)}catch(e){}},title:"list"===G?"Kanban":"Lista",children:"list"===G?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,a.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,a.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"}),(0,a.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"})]}),"Kanban"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),(0,a.jsx)("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),(0,a.jsx)("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),(0,a.jsx)("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),(0,a.jsx)("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),(0,a.jsx)("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),"Lista"]})}),(0,a.jsxs)("button",{className:"btn btn-sm ".concat(eo?"btn-success":"btn-secondary"),onClick:function(){ed()},children:[(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:eo?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),(0,a.jsx)("path",{d:"M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),(0,a.jsx)("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),(0,a.jsx)("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]})}),eo?"Som":"Mudo"]}),e4>0&&(0,a.jsxs)("span",{className:"badge badge-warning",style:{marginLeft:8},children:[e4," pendente",e4>1?"s":""]})]})]}),et.size>0&&(0,a.jsxs)("div",{className:"new-order-alert",children:[(0,a.jsx)("div",{className:"new-order-alert-icon",children:(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,a.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:1===et.size?"Novo pedido recebido!":"".concat(et.size," novos pedidos!")}),(0,a.jsx)("div",{style:{fontSize:13,opacity:.9,marginTop:2},children:"Confira e aceite rapidamente"})]}),(0,a.jsx)("button",{className:"btn btn-sm",style:{marginLeft:"auto",background:"rgba(255,255,255,0.2)",color:"white"},onClick:()=>{en(new Set),eJ("pendente")},children:"Ver Pedidos"})]}),eE&&eA.size>0&&(0,a.jsxs)("div",{className:"batch-action-bar",children:[(0,a.jsxs)("span",{children:[eA.size," pedido",eA.size>1?"s":""," selecionado",eA.size>1?"s":""]}),(0,a.jsx)("button",{className:"btn btn-sm btn-success",disabled:"batch"===F,onClick:()=>eU("confirmar"),children:"batch"===F?"Processando...":"Aceitar Todos"}),(0,a.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>{eP(!1),eq(new Set)},children:"Cancelar"})]}),"list"===G&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"orders-filter-bar",children:[(0,a.jsxs)("div",{className:"orders-search-box",children:[(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,a.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),(0,a.jsx)("input",{className:"orders-search-input",placeholder:"Buscar por numero ou cliente...",value:eh,onChange:e=>ep(e.target.value)})]}),(0,a.jsxs)("button",{className:"btn btn-sm ".concat(eS?"btn-primary":"btn-secondary"),onClick:()=>eT(!eS),children:[(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filtros"]}),(0,a.jsx)("select",{className:"orders-sort-select",value:e_,onChange:e=>eC(e.target.value),children:h.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),e4>0&&!eE&&(0,a.jsxs)("button",{className:"btn btn-sm btn-warning",onClick:()=>{eP(!0),eq(new Set(T.filter(e=>"pendente"===e.status||"pending"===e.status).map(e=>e.order_id||e.id)))},children:["Aceitar Todos (",e4,")"]})]}),eS&&(0,a.jsxs)("div",{className:"orders-advanced-filters",children:[(0,a.jsxs)("div",{className:"form-group",style:{minWidth:140},children:[(0,a.jsx)("label",{className:"form-label",children:"Data de"}),(0,a.jsx)("input",{type:"date",className:"form-input form-input-sm",value:eg,onChange:e=>ej(e.target.value)})]}),(0,a.jsxs)("div",{className:"form-group",style:{minWidth:140},children:[(0,a.jsx)("label",{className:"form-label",children:"Data ate"}),(0,a.jsx)("input",{type:"date",className:"form-input form-input-sm",value:eb,onChange:e=>ef(e.target.value)})]}),(0,a.jsxs)("div",{className:"form-group",style:{minWidth:130},children:[(0,a.jsx)("label",{className:"form-label",children:"Pagamento"}),(0,a.jsxs)("select",{className:"form-input form-input-sm",value:ey,onChange:e=>eN(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Todos"}),(0,a.jsx)("option",{value:"pix",children:"PIX"}),(0,a.jsx)("option",{value:"cartao",children:"Cartao"}),(0,a.jsx)("option",{value:"dinheiro",children:"Dinheiro"})]})]}),(0,a.jsxs)("div",{className:"form-group",style:{minWidth:130},children:[(0,a.jsx)("label",{className:"form-label",children:"Entrega"}),(0,a.jsxs)("select",{className:"form-input form-input-sm",value:ek,onChange:e=>ew(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Todos"}),(0,a.jsx)("option",{value:"delivery",children:"Delivery"}),(0,a.jsx)("option",{value:"pickup",children:"Retirada"})]})]}),(0,a.jsx)("button",{className:"btn btn-sm btn-secondary",style:{alignSelf:"flex-end",marginBottom:4},onClick:()=>{ej(""),ef(""),eN(""),ew(""),ep("")},children:"Limpar"})]}),(0,a.jsx)("div",{className:"tabs",children:d.map(e=>(0,a.jsx)("button",{className:"tab ".concat(w===e.key?"tab-active":""),onClick:()=>eJ(e.key),children:e.label},e.key))})]}),q?(0,a.jsx)("div",{className:"loading-screen",children:(0,a.jsx)("div",{className:"spinner"})}):B?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("div",{className:"empty-state-title",children:"Erro ao carregar pedidos"}),(0,a.jsx)("div",{className:"empty-state-text",children:B})]}):"kanban"===G?function(){let e=(null==eB?void 0:eB.queue)||{};return(0,a.jsx)("div",{className:"kanban-board no-print",children:u.map(t=>{var n;let r=e[t.key]||[],s=(n=t.key,!!eW&&(m[eW.currentStatus]||[]).includes(n)),i=K===t.key;return(0,a.jsxs)("div",{className:"kanban-column ".concat(i&&s?"kanban-column-dragover":""," ").concat(i&&!s?"kanban-column-invalid":""),onDragOver:e=>{var n;return n=t.key,void(e.preventDefault(),eW&&((m[eW.currentStatus]||[]).includes(n)?(e.dataTransfer.dropEffect="move",J(n)):e.dataTransfer.dropEffect="none"))},onDragLeave:e$,onDrop:e=>e0(e,t.key),children:[(0,a.jsxs)("div",{className:"kanban-column-header",style:{borderTopColor:t.color,background:t.bgColor},children:[(0,a.jsxs)("div",{className:"kanban-column-title-row",children:[(0,a.jsx)("span",{className:"kanban-column-icon",style:{color:t.color},children:e8(t.icon)}),(0,a.jsx)("span",{className:"kanban-column-title",children:t.label})]}),(0,a.jsx)("span",{className:"kanban-column-count",style:{background:t.color},children:r.length})]}),(0,a.jsx)("div",{className:"kanban-column-body",children:ez&&0===r.length?(0,a.jsx)("div",{className:"kanban-loading",children:(0,a.jsx)("div",{className:"spinner-sm"})}):0===r.length?(0,a.jsxs)("div",{className:"kanban-empty",children:[(0,a.jsx)("span",{className:"kanban-empty-icon",children:e8(t.icon)}),"Nenhum pedido"]}):r.map(e=>{let t=e.order_id,n=et.has(t),r=e.urgency||"normal",s="preparando"===e.status?b(e.preparing_started_at,e.prep_time_estimate):null;return(0,a.jsxs)("div",{className:"kanban-card ".concat(n?"kanban-card-new":""," ").concat("critical"===r?"kanban-card-critical":"warning"===r?"kanban-card-warning":""," ").concat((null==s?void 0:s.isOvertime)?"kanban-card-overtime":""),draggable:!0,onDragStart:t=>(function(e,t){let n=t.order_id||t.id,a=t.status;eR({orderId:n,currentStatus:a,order:t}),e.dataTransfer.setData("text/plain",JSON.stringify({orderId:n,currentStatus:a})),e.dataTransfer.effectAllowed="move",e.target.classList.add("kanban-card-dragging")})(t,e),onDragEnd:eY,onClick:()=>eZ(t),children:[(0,a.jsxs)("div",{className:"kanban-card-top",children:[(0,a.jsxs)("span",{className:"kanban-card-id",children:["#",e.order_number||t,n&&(0,a.jsx)("span",{className:"order-new-badge",children:"NOVO"}),e.is_scheduled&&(0,a.jsx)("span",{className:"order-scheduled-badge",children:"AGENDADO"})]}),(0,a.jsx)("span",{className:"kanban-card-time ".concat(function(e){let t=e.waiting_minutes||0;if("pendente"===e.status){if(t>5)return"time-badge-critical";if(t>3)return"time-badge-warning"}return"critical"===e.urgency?"time-badge-critical":"warning"===e.urgency?"time-badge-warning":""}(e)),children:null!=e.waiting_minutes?"".concat(e.waiting_minutes,"min"):g(e.date_added)})]}),(0,a.jsxs)("div",{className:"kanban-card-customer",children:[e.customer_name||"Cliente",e.is_pickup&&(0,a.jsx)("span",{className:"kanban-pickup-badge",children:"Retirada"})]}),e.items_summary&&(0,a.jsx)("div",{className:"kanban-card-items-summary",children:e.items_summary}),function(e){if("preparando"!==e.status||!e.preparing_started_at)return null;let t=b(e.preparing_started_at,e.prep_time_estimate);if(!t)return null;let n="critical"===t.status?"timer-critical":"warning"===t.status?"timer-warning":"timer-normal";return(0,a.jsxs)("div",{className:"kanban-prep-timer ".concat(n),children:[(0,a.jsxs)("div",{className:"kanban-prep-timer-display",children:[(0,a.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),(0,a.jsx)("span",{className:"kanban-prep-timer-value",children:t.display})]}),(0,a.jsx)("div",{className:"kanban-prep-timer-bar",children:(0,a.jsx)("div",{className:"kanban-prep-timer-progress",style:{width:"".concat(Math.min(100,t.percentComplete),"%")}})})]})}(e),(0,a.jsxs)("div",{className:"kanban-card-bottom",children:[(0,a.jsxs)("span",{className:"kanban-card-items",children:[(0,a.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,a.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"})]}),e.total_items||0," itens"]}),(0,a.jsx)("span",{className:"kanban-card-total",children:x(e.total)})]}),(0,a.jsxs)("div",{className:"kanban-card-actions",onClick:e=>e.stopPropagation(),children:[function(e){let t=e.order_id,n=e.status,r=F==="".concat(t,"-move");return"pendente"===n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"kanban-action-btn kanban-action-accept",disabled:!!F,onClick:()=>eK(t,"pendente","preparando",20),children:r?"...":"Preparar"}),(0,a.jsx)("button",{className:"kanban-action-btn kanban-action-reject",disabled:!!F,onClick:()=>eX(t,"cancelar"),children:"Recusar"})]}):"preparando"===n?(0,a.jsx)("button",{className:"kanban-action-btn kanban-action-ready",disabled:!!F,onClick:()=>eK(t,"preparando","pronto"),children:r?"...":"Pronto!"}):"pronto"===n?(0,a.jsx)("button",{className:"kanban-action-btn kanban-action-delivery",disabled:!!F,onClick:()=>eK(t,"pronto","em_entrega"),children:r?"...":"Saiu p/ Entrega"}):null}(e),(0,a.jsx)("button",{className:"kanban-action-btn kanban-action-print",onClick:()=>e1(t),title:"Imprimir",children:(0,a.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("polyline",{points:"6 9 6 2 18 2 18 9"}),(0,a.jsx)("path",{d:"M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"}),(0,a.jsx)("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})]},t)})})]},t.key)})})}():0===T.length?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("div",{className:"empty-state-title",children:"Nenhum pedido encontrado"}),(0,a.jsx)("div",{className:"empty-state-text",children:"Nao ha pedidos com o filtro selecionado"})]}):(0,a.jsxs)(a.Fragment,{children:[e2.map(e=>{var t,n,r,s;let i=e.id||e.order_id,l=et.has(i);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"order-card ".concat(l?"order-card-new-pulse":""," ").concat("critical"===e._urgency?"order-card-critical":"warning"===e._urgency?"order-card-warning":""),onClick:()=>eE?eQ(i):eZ(i),children:[(0,a.jsxs)("div",{className:"order-card-header",children:[eE&&(0,a.jsx)("input",{type:"checkbox",className:"order-card-checkbox",checked:eA.has(i),onChange:()=>eQ(i),onClick:e=>e.stopPropagation()}),(0,a.jsxs)("span",{className:"order-card-id",children:["Pedido #",e.order_number||i,l&&(0,a.jsx)("span",{className:"order-new-badge",children:"NOVO"})]}),(0,a.jsx)("span",{className:"order-time-badge ".concat("normal"!==e._urgency?"time-badge-"+e._urgency:""),children:g(e.date_modified||e.date)}),(0,a.jsx)("span",{className:"badge ".concat(c[e.status]||"badge-neutral"),children:e.status})]}),(0,a.jsxs)("div",{className:"order-card-body",children:[(0,a.jsx)("span",{className:"order-card-customer",children:e.customer_name||"Cliente"}),(0,a.jsx)("span",{className:"order-card-total",children:x(e.total)})]}),(0,a.jsxs)("div",{className:"order-card-meta",children:[(0,a.jsx)("span",{children:v(e.date)}),(0,a.jsxs)("span",{children:[e.total_items||0," itens"]}),e.payment_method&&(0,a.jsx)("span",{className:"order-meta-pill",children:e.payment_method}),e.is_pickup&&(0,a.jsx)("span",{className:"order-meta-pill",children:"Retirada"})]})]}),z===i&&(0,a.jsx)("div",{className:"order-detail",children:I?(0,a.jsx)("div",{style:{textAlign:"center",padding:20},children:(0,a.jsx)("div",{className:"spinner-sm"})}):(null==W?void 0:W.error)?(0,a.jsx)("div",{className:"form-error",children:W.error}):(null==W?void 0:W.items)?(0,a.jsxs)(a.Fragment,{children:[W.items.map((e,t)=>(0,a.jsxs)("div",{className:"order-detail-item",children:[(0,a.jsxs)("span",{children:[e.quantidade||e.qty||e.quantity,"x ",e.nome||e.product_name||e.name]}),(0,a.jsx)("span",{children:x(e.subtotal||e.total)})]},t)),(W.observacao||(null===(t=W.order)||void 0===t?void 0:t.notes))&&(0,a.jsxs)("div",{style:{marginTop:8,fontSize:13,color:"var(--color-text-secondary)"},children:[(0,a.jsx)("strong",{children:"Obs:"})," ",W.observacao||(null===(n=W.order)||void 0===n?void 0:n.notes)]}),(null===(r=W.order)||void 0===r?void 0:r.delivery_address)&&(0,a.jsxs)("div",{style:{marginTop:6,fontSize:13,color:"var(--color-text-secondary)"},children:[(0,a.jsx)("strong",{children:"Endereco:"})," ",W.order.delivery_address]}),(null===(s=W.order)||void 0===s?void 0:s.payment_method)&&(0,a.jsxs)("div",{style:{marginTop:6,fontSize:13,color:"var(--color-text-secondary)"},children:[(0,a.jsx)("strong",{children:"Pagamento:"})," ",W.order.payment_method]}),e5(W,e.status),e3(e)]}):(0,a.jsx)("div",{className:"empty-state-text",children:"Sem detalhes disponiveis"})})]},i)}),P>1&&(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{className:"pagination-btn",disabled:C<=1,onClick:()=>S(e=>e-1),children:"Anterior"}),Array.from({length:Math.min(P,7)},(e,t)=>{let n;return n=P<=7?t+1:C<=4?t+1:C>=P-3?P-6+t:C-3+t,(0,a.jsx)("button",{className:"pagination-btn ".concat(C===n?"pagination-btn-active":""),onClick:()=>S(n),children:n},n)}),(0,a.jsx)("button",{className:"pagination-btn",disabled:C>=P,onClick:()=>S(e=>e+1),children:"Proximo"})]})]}),"kanban"===G&&z&&(0,a.jsx)("div",{className:"modal-overlay",onClick:()=>{O(null),R(null)},children:(0,a.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"modal-header",children:[(0,a.jsx)("h3",{className:"modal-title",children:"Detalhes do Pedido"}),(0,a.jsx)("button",{className:"modal-close",onClick:()=>{O(null),R(null)},children:"\xd7"})]}),(0,a.jsx)("div",{className:"modal-body",children:I?(0,a.jsx)("div",{style:{textAlign:"center",padding:20},children:(0,a.jsx)("div",{className:"spinner-sm"})}):(null==W?void 0:W.error)?(0,a.jsx)("div",{className:"form-error",children:W.error}):(null==W?void 0:W.items)||(null==W?void 0:W.order)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{marginBottom:12},children:[(0,a.jsxs)("strong",{children:["Pedido #",(null===(e=W.order)||void 0===e?void 0:e.order_number)||z]}),(0,a.jsx)("span",{className:"badge ".concat(c[null===(t=W.order)||void 0===t?void 0:t.status]||""),style:{marginLeft:8},children:null===(n=W.order)||void 0===n?void 0:n.status})]}),W.customer&&(0,a.jsxs)("div",{style:{marginBottom:8,fontSize:14,color:"var(--color-text-secondary)"},children:[(0,a.jsx)("strong",{children:"Cliente:"})," ",W.customer.name,W.customer.phone&&(0,a.jsxs)(a.Fragment,{children:[" | ",W.customer.phone]})]}),(null===(s=W.order)||void 0===s?void 0:s.delivery_address)&&(0,a.jsxs)("div",{style:{marginBottom:8,fontSize:14,color:"var(--color-text-secondary)"},children:[(0,a.jsx)("strong",{children:"Endereco:"})," ",W.order.delivery_address]}),(W.items||[]).map((e,t)=>(0,a.jsxs)("div",{className:"order-detail-item",children:[(0,a.jsxs)("span",{children:[e.quantity||e.qty,"x ",e.name||e.nome||e.product_name]}),(0,a.jsx)("span",{children:x(e.total||e.price*(e.quantity||e.qty))})]},t)),(null===(i=W.order)||void 0===i?void 0:i.notes)&&(0,a.jsxs)("div",{style:{marginTop:8,fontSize:13,color:"var(--color-text-secondary)"},children:[(0,a.jsx)("strong",{children:"Obs:"})," ",W.order.notes]}),(null===(j=W.order)||void 0===j?void 0:j.payment_method)&&(0,a.jsxs)("div",{style:{marginTop:6,fontSize:13,color:"var(--color-text-secondary)"},children:[(0,a.jsx)("strong",{children:"Pagamento:"})," ",W.order.payment_method]}),e5(W,null===(y=W.order)||void 0===y?void 0:y.status),(0,a.jsxs)("div",{style:{marginTop:12,fontWeight:700,fontSize:16},children:["Total: ",x(null===(N=W.order)||void 0===N?void 0:N.total)]}),(0,a.jsx)("div",{className:"order-actions",style:{marginTop:16},children:e3(T.find(e=>(e.id||e.order_id)===z)||{status:null===(k=W.order)||void 0===k?void 0:k.status,id:z})})]}):(0,a.jsx)("div",{className:"empty-state-text",children:"Sem detalhes disponiveis"})})]})})]})]})}}},function(e){e.O(0,[448,565,205,971,117,744],function(){return e(e.s=1796)}),_N_E=e.O()}]);