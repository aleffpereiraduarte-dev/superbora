(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{4432:function(e,s,a){Promise.resolve().then(a.bind(a,1240))},6428:function(e,s,a){"use strict";a.d(s,{Fw:function(){return p},LP:function(){return d},SC:function(){return n},apiDelete:function(){return m},jn:function(){return j},o4:function(){return o},pE:function(){return x},sg:function(){return l},w9:function(){return u},zi:function(){return f}});let r="/api/mercado/partner",t="/api/mercado/parceiro",c="painel_partner_token";function d(){try{return localStorage.getItem(c)}catch(e){return null}}function o(e){try{e?localStorage.setItem(c,e):localStorage.removeItem(c)}catch(e){}}function i(){let e=d();return e?{Authorization:"Bearer ".concat(e)}:{}}async function n(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(r).concat(e),t=Object.entries(s).filter(e=>{let[,s]=e;return null!=s&&""!==s}).map(e=>{let[s,a]=e;return"".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(a))}).join("&");t&&(a+="?".concat(t));let c=await fetch(a,{credentials:"include",headers:i()});if(!c.ok){let e=await c.json().catch(()=>null);throw Error((null==e?void 0:e.message)||"API error: ".concat(c.status," ").concat(c.statusText))}let d=await c.json();if(!d.success)throw Error(d.message||"Erro desconhecido na API");return d.data}async function l(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat(r).concat(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...i()},body:JSON.stringify(s)}),t=await a.json().catch(()=>null);if(!a.ok||!(null==t?void 0:t.success))throw Error((null==t?void 0:t.message)||"API error: ".concat(a.status));return t.data}async function f(e,s){let a=await fetch("".concat(r).concat(e),{method:"POST",credentials:"include",headers:i(),body:s}),t=await a.json().catch(()=>null);if(!a.ok||!(null==t?void 0:t.success))throw Error((null==t?void 0:t.message)||"API error: ".concat(a.status));return t.data}async function x(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat(r).concat(e),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",...i()},body:JSON.stringify(s)}),t=await a.json().catch(()=>null);if(!a.ok||!(null==t?void 0:t.success))throw Error((null==t?void 0:t.message)||"API error: ".concat(a.status));return t.data}async function m(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(r).concat(e),t=Object.entries(s).filter(e=>{let[,s]=e;return null!=s&&""!==s}).map(e=>{let[s,a]=e;return"".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(a))}).join("&");t&&(a+="?".concat(t));let c=await fetch(a,{method:"DELETE",credentials:"include",headers:i()}),d=await c.json().catch(()=>null);if(!c.ok||!(null==d?void 0:d.success))throw Error((null==d?void 0:d.message)||"API error: ".concat(c.status));return d.data}async function p(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat(t).concat(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...i()},body:JSON.stringify(s)}),r=await a.json().catch(()=>null);if(!a.ok||!(null==r?void 0:r.success))throw Error((null==r?void 0:r.message)||"API error: ".concat(a.status));return r.data}async function j(e,s){let a=await fetch("".concat(t).concat(e),{method:"POST",credentials:"include",headers:i(),body:s}),r=await a.json().catch(()=>null);if(!a.ok||!(null==r?void 0:r.success))throw Error((null==r?void 0:r.message)||"API error: ".concat(a.status));return r.data}async function u(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(e,s)}},1240:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var r=a(7437),t=a(29),c=a.n(t),d=a(2265),o=a(6428);function i(){let[e,s]=(0,d.useState)(!0),[a,t]=(0,d.useState)(!1),[i,n]=(0,d.useState)({express_enabled:!1,express_fee:5,express_time_min:15,express_time_max:25,express_radius_km:3,express_hours_start:"11:00",express_hours_end:"22:00",express_max_items:5}),[l,f]=(0,d.useState)(null),x=(0,d.useCallback)(async()=>{s(!0);try{let e=await (0,o.SC)("/express-config.php");e.config&&n(e.config),e.stats&&f(e.stats)}catch(e){console.error("Erro ao carregar config express:",e)}finally{s(!1)}},[]);(0,d.useEffect)(()=>{x()},[x]);let m=async()=>{t(!0);try{let e=await (0,o.sg)("/express-config.php",i);alert(e.message||"Configuracoes salvas!")}catch(e){alert(e.message||"Erro ao salvar")}finally{t(!1)}},p=(e,s)=>{n(a=>({...a,[e]:s}))};return e?(0,r.jsx)("div",{className:"page",children:(0,r.jsxs)("div",{className:"loading-state",children:[(0,r.jsx)("div",{className:"spinner"}),(0,r.jsx)("span",{children:"Carregando..."})]})}):(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 page",children:[(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 page-header",children:(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3",children:[(0,r.jsx)("h1",{className:"jsx-6f45dee20ecf66d3",children:"Entrega Express"}),(0,r.jsx)("p",{className:"jsx-6f45dee20ecf66d3 text-muted",children:"Configure entregas rapidas para seus clientes"})]})}),l&&(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stats-row",children:[(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stat-card",children:[(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 stat-icon express",children:(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-6f45dee20ecf66d3",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10",className:"jsx-6f45dee20ecf66d3"}),(0,r.jsx)("polyline",{points:"12 6 12 12 16 14",className:"jsx-6f45dee20ecf66d3"})]})}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stat-content",children:[(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 stat-value",children:l.total_express||0}),(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 stat-label",children:"Pedidos Express"})]})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stat-card",children:[(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 stat-icon revenue",children:(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-6f45dee20ecf66d3",children:[(0,r.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23",className:"jsx-6f45dee20ecf66d3"}),(0,r.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",className:"jsx-6f45dee20ecf66d3"})]})}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stat-content",children:[(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stat-value",children:["R$ ",parseFloat(l.express_revenue||0).toFixed(2)]}),(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 stat-label",children:"Receita Express"})]})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stat-card",children:[(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 stat-icon time",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-6f45dee20ecf66d3",children:(0,r.jsx)("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83",className:"jsx-6f45dee20ecf66d3"})})}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stat-content",children:[(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 stat-value",children:[l.avg_delivery_time||"--"," min"]}),(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 stat-label",children:"Tempo Medio"})]})]})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 card",children:[(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 card-header",children:(0,r.jsx)("h2",{className:"jsx-6f45dee20ecf66d3",children:"Configuracoes"})}),(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 form-section",children:(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 toggle-row",children:[(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 toggle-info",children:[(0,r.jsx)("h3",{className:"jsx-6f45dee20ecf66d3",children:"Entrega Express"}),(0,r.jsx)("p",{className:"jsx-6f45dee20ecf66d3",children:"Ativar opcao de entrega rapida para seus clientes"})]}),(0,r.jsxs)("label",{className:"jsx-6f45dee20ecf66d3 switch",children:[(0,r.jsx)("input",{type:"checkbox",checked:i.express_enabled,onChange:e=>p("express_enabled",e.target.checked),className:"jsx-6f45dee20ecf66d3"}),(0,r.jsx)("span",{className:"jsx-6f45dee20ecf66d3 slider"})]})]})}),i.express_enabled&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-section",children:[(0,r.jsx)("h3",{className:"jsx-6f45dee20ecf66d3 section-title",children:"Preco e Tempo"}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-grid",children:[(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-group",children:[(0,r.jsx)("label",{className:"jsx-6f45dee20ecf66d3",children:"Taxa Express (R$)"}),(0,r.jsx)("input",{type:"number",step:"0.50",min:"0",value:i.express_fee,onChange:e=>p("express_fee",parseFloat(e.target.value)),className:"jsx-6f45dee20ecf66d3"}),(0,r.jsx)("small",{className:"jsx-6f45dee20ecf66d3",children:"Taxa adicional cobrada do cliente"})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-group",children:[(0,r.jsx)("label",{className:"jsx-6f45dee20ecf66d3",children:"Tempo Minimo (min)"}),(0,r.jsx)("input",{type:"number",min:"5",max:"60",value:i.express_time_min,onChange:e=>p("express_time_min",parseInt(e.target.value)),className:"jsx-6f45dee20ecf66d3"})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-group",children:[(0,r.jsx)("label",{className:"jsx-6f45dee20ecf66d3",children:"Tempo Maximo (min)"}),(0,r.jsx)("input",{type:"number",min:"10",max:"90",value:i.express_time_max,onChange:e=>p("express_time_max",parseInt(e.target.value)),className:"jsx-6f45dee20ecf66d3"})]})]})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-section",children:[(0,r.jsx)("h3",{className:"jsx-6f45dee20ecf66d3 section-title",children:"Restricoes"}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-grid",children:[(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-group",children:[(0,r.jsx)("label",{className:"jsx-6f45dee20ecf66d3",children:"Raio Maximo (km)"}),(0,r.jsx)("input",{type:"number",step:"0.5",min:"0.5",max:"10",value:i.express_radius_km,onChange:e=>p("express_radius_km",parseFloat(e.target.value)),className:"jsx-6f45dee20ecf66d3"}),(0,r.jsx)("small",{className:"jsx-6f45dee20ecf66d3",children:"Distancia maxima para entrega express"})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-group",children:[(0,r.jsx)("label",{className:"jsx-6f45dee20ecf66d3",children:"Max Itens por Pedido"}),(0,r.jsx)("input",{type:"number",min:"1",max:"20",value:i.express_max_items,onChange:e=>p("express_max_items",parseInt(e.target.value)),className:"jsx-6f45dee20ecf66d3"}),(0,r.jsx)("small",{className:"jsx-6f45dee20ecf66d3",children:"Limite de itens para pedido express"})]})]})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-section",children:[(0,r.jsx)("h3",{className:"jsx-6f45dee20ecf66d3 section-title",children:"Horario de Funcionamento"}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-grid",children:[(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-group",children:[(0,r.jsx)("label",{className:"jsx-6f45dee20ecf66d3",children:"Inicio"}),(0,r.jsx)("input",{type:"time",value:i.express_hours_start,onChange:e=>p("express_hours_start",e.target.value),className:"jsx-6f45dee20ecf66d3"})]}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3 form-group",children:[(0,r.jsx)("label",{className:"jsx-6f45dee20ecf66d3",children:"Fim"}),(0,r.jsx)("input",{type:"time",value:i.express_hours_end,onChange:e=>p("express_hours_end",e.target.value),className:"jsx-6f45dee20ecf66d3"})]})]}),(0,r.jsx)("p",{style:{marginTop:8},className:"jsx-6f45dee20ecf66d3 text-muted",children:"A opcao Express so aparecera para clientes durante este horario"})]})]}),(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 form-actions",children:(0,r.jsx)("button",{onClick:m,disabled:a,className:"jsx-6f45dee20ecf66d3 btn btn-primary",children:a?"Salvando...":"Salvar Configuracoes"})})]}),(0,r.jsxs)("div",{style:{marginTop:24},className:"jsx-6f45dee20ecf66d3 info-card",children:[(0,r.jsx)("div",{className:"jsx-6f45dee20ecf66d3 info-card-icon",children:(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-6f45dee20ecf66d3",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10",className:"jsx-6f45dee20ecf66d3"}),(0,r.jsx)("path",{d:"M12 16v-4M12 8h.01",className:"jsx-6f45dee20ecf66d3"})]})}),(0,r.jsxs)("div",{className:"jsx-6f45dee20ecf66d3",children:[(0,r.jsx)("strong",{className:"jsx-6f45dee20ecf66d3",children:"Como funciona:"}),(0,r.jsxs)("ul",{style:{marginTop:8,paddingLeft:20},className:"jsx-6f45dee20ecf66d3",children:[(0,r.jsx)("li",{className:"jsx-6f45dee20ecf66d3",children:'Clientes veem a opcao "Entrega Express" no checkout'}),(0,r.jsx)("li",{className:"jsx-6f45dee20ecf66d3",children:"Taxa express e somada ao frete normal"}),(0,r.jsx)("li",{className:"jsx-6f45dee20ecf66d3",children:"Pedidos express aparecem com destaque na central de pedidos"}),(0,r.jsx)("li",{className:"jsx-6f45dee20ecf66d3",children:"Voce recebe notificacao especial para priorizar o preparo"})]})]})]}),(0,r.jsx)(c(),{id:"6f45dee20ecf66d3",children:'.stats-row.jsx-6f45dee20ecf66d3{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}.stat-card.jsx-6f45dee20ecf66d3{background:var(--color-card);border:1px solid var(--color-border);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:16px}.stat-icon.jsx-6f45dee20ecf66d3{width:48px;height:48px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.stat-icon.express.jsx-6f45dee20ecf66d3{background:rgba(59,130,246,.15);color:#3b82f6}.stat-icon.revenue.jsx-6f45dee20ecf66d3{background:rgba(34,197,94,.15);color:#22c55e}.stat-icon.time.jsx-6f45dee20ecf66d3{background:rgba(249,115,22,.15);color:#f97316}.stat-value.jsx-6f45dee20ecf66d3{font-size:24px;font-weight:700;color:var(--color-text)}.stat-label.jsx-6f45dee20ecf66d3{font-size:13px;color:var(--color-text-secondary)}.card.jsx-6f45dee20ecf66d3{background:var(--color-card);border:1px solid var(--color-border);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;overflow:hidden}.card-header.jsx-6f45dee20ecf66d3{padding:20px;border-bottom:1px solid var(--color-border)}.card-header.jsx-6f45dee20ecf66d3 h2.jsx-6f45dee20ecf66d3{font-size:18px;font-weight:600}.form-section.jsx-6f45dee20ecf66d3{padding:20px;border-bottom:1px solid var(--color-border)}.form-section.jsx-6f45dee20ecf66d3:last-of-type{border-bottom:none}.section-title.jsx-6f45dee20ecf66d3{font-size:14px;font-weight:600;color:var(--color-text-secondary);margin-bottom:16px;text-transform:uppercase;letter-spacing:.5px}.toggle-row.jsx-6f45dee20ecf66d3{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.toggle-info.jsx-6f45dee20ecf66d3 h3.jsx-6f45dee20ecf66d3{font-size:16px;font-weight:600;margin-bottom:4px}.toggle-info.jsx-6f45dee20ecf66d3 p.jsx-6f45dee20ecf66d3{font-size:13px;color:var(--color-text-secondary)}.switch.jsx-6f45dee20ecf66d3{position:relative;width:52px;height:28px}.switch.jsx-6f45dee20ecf66d3 input.jsx-6f45dee20ecf66d3{opacity:0;width:0;height:0}.slider.jsx-6f45dee20ecf66d3{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--color-border);-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;transition:.3s;-webkit-border-radius:28px;-moz-border-radius:28px;border-radius:28px}.slider.jsx-6f45dee20ecf66d3:before{position:absolute;content:"";height:22px;width:22px;left:3px;bottom:3px;background-color:white;-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;transition:.3s;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}input.jsx-6f45dee20ecf66d3:checked+.slider.jsx-6f45dee20ecf66d3{background-color:var(--color-primary)}input.jsx-6f45dee20ecf66d3:checked+.slider.jsx-6f45dee20ecf66d3:before{-webkit-transform:translatex(24px);-moz-transform:translatex(24px);-ms-transform:translatex(24px);-o-transform:translatex(24px);transform:translatex(24px)}.form-grid.jsx-6f45dee20ecf66d3{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px}.form-group.jsx-6f45dee20ecf66d3 label.jsx-6f45dee20ecf66d3{display:block;font-size:13px;font-weight:500;margin-bottom:6px;color:var(--color-text)}.form-group.jsx-6f45dee20ecf66d3 input.jsx-6f45dee20ecf66d3,.form-group.jsx-6f45dee20ecf66d3 select.jsx-6f45dee20ecf66d3{width:100%;padding:10px 12px;border:1px solid var(--color-border);-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:var(--color-bg);color:var(--color-text);font-size:14px}.form-group.jsx-6f45dee20ecf66d3 small.jsx-6f45dee20ecf66d3{display:block;margin-top:4px;font-size:11px;color:var(--color-text-tertiary)}.form-actions.jsx-6f45dee20ecf66d3{padding:20px;background:var(--color-bg);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.info-card.jsx-6f45dee20ecf66d3{background:var(--color-info-bg);border:1px solid var(--color-info);-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:16px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px;color:var(--color-info)}.info-card-icon.jsx-6f45dee20ecf66d3{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.info-card.jsx-6f45dee20ecf66d3 ul.jsx-6f45dee20ecf66d3{margin:0;color:var(--color-text-secondary)}.info-card.jsx-6f45dee20ecf66d3 li.jsx-6f45dee20ecf66d3{margin-bottom:4px}'})]})}}},function(e){e.O(0,[29,971,117,744],function(){return e(e.s=4432)}),_N_E=e.O()}]);