(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2700],{2745:function(e,o,r){Promise.resolve().then(r.bind(r,5401))},5401:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return C}});var t=r(7437),a=r(2265),i=r(4565),l=r(4477),d=r(6428);let n={food_wrong_items:"Itens errados",food_missing_items:"Itens faltando",food_damaged:"Danificado/derramado",food_cold:"Comida fria",food_raw:"Comida crua",food_expired:"Produto vencido",food_tampered:"Embalagem violada",food_foreign_object:"Corpo estranho",food_allergy:"Reacao alergica",food_quality:"Qualidade ruim",food_quantity:"Porcao pequena",food_wrong_order:"Pedido trocado",delivery_never_arrived:"Nao chegou",delivery_very_late:"Muito atrasado",delivery_late:"Atrasado",delivery_wrong_address:"Endereco errado",delivery_rude_driver:"Motorista grosseiro",delivery_driver_ate:"Motorista consumiu itens",delivery_damaged_transport:"Danificado no transporte",payment_overcharged:"Cobrou a mais",payment_double_charge:"Cobranca duplicada",store_closed:"Loja fechada",store_slow_prep:"Preparo demorado",store_refused:"Loja recusou",store_partial_items:"Itens indisponiveis",store_hygiene:"Higiene duvidosa"},s=[{key:"",label:"Todas"},{key:"pending",label:"Pendentes"},{key:"in_review",label:"Em Analise"},{key:"escalated",label:"Escaladas"},{key:"resolved",label:"Resolvidas"}],c=[{value:"7d",label:"7 dias"},{value:"30d",label:"30 dias"},{value:"90d",label:"90 dias"}],u={critical:{bg:"#fee2e2",color:"#dc2626",border:"#fca5a5"},high:{bg:"#fff7ed",color:"#ea580c",border:"#fdba74"},medium:{bg:"#fefce8",color:"#ca8a04",border:"#fde047"},low:{bg:"#f3f4f6",color:"#6b7280",border:"#d1d5db"}},p={pending:{bg:"#fef3c7",color:"#92400e"},in_review:{bg:"#dbeafe",color:"#1e40af"},escalated:{bg:"#fce7f3",color:"#9d174d"},resolved:{bg:"#d1fae5",color:"#065f46"}};function x(e){return e?new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}function v(e){return null==e?"-":"R$ "+Number(e).toFixed(2).replace(".",",")}function f(e){var o,r,a,i;let{stats:l}=e;if(!l)return null;let d=[{label:"Total",value:null!==(o=l.total)&&void 0!==o?o:0,bgColor:"#eff6ff",textColor:"#1e40af",borderColor:"#bfdbfe"},{label:"Pendentes",value:null!==(r=l.pending)&&void 0!==r?r:0,bgColor:"#fef3c7",textColor:"#92400e",borderColor:"#fde68a"},{label:"Em Analise",value:null!==(a=l.in_review)&&void 0!==a?a:0,bgColor:"#dbeafe",textColor:"#1e40af",borderColor:"#93c5fd"},{label:"Resolvidas",value:null!==(i=l.resolved)&&void 0!==i?i:0,bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#6ee7b7"}];return(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16,marginBottom:24},children:d.map(e=>(0,t.jsxs)("div",{className:"card",style:{padding:20,backgroundColor:e.bgColor,borderLeft:"4px solid ".concat(e.borderColor),borderRadius:"var(--radius-md)"},children:[(0,t.jsx)("div",{style:{fontSize:13,color:e.textColor,fontWeight:500,marginBottom:4},children:e.label}),(0,t.jsx)("div",{style:{fontSize:28,fontWeight:700,color:e.textColor},children:e.value})]},e.label))})}function g(e){let{status:o,onStatusChange:r,period:a,onPeriodChange:i}=e;return(0,t.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:12,marginBottom:20},children:[(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:4,flex:1},children:s.map(e=>(0,t.jsx)("button",{onClick:()=>r(e.key),style:{padding:"8px 16px",borderRadius:"var(--radius-sm)",border:"1px solid",borderColor:o===e.key?"var(--color-primary)":"var(--color-border)",backgroundColor:o===e.key?"var(--color-primary)":"var(--color-bg-card)",color:o===e.key?"#fff":"var(--color-text-secondary)",fontSize:13,fontWeight:500,cursor:"pointer",transition:"all 0.15s"},children:e.label},e.key))}),(0,t.jsx)("select",{value:a,onChange:e=>i(e.target.value),style:{padding:"8px 12px",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-card)",color:"var(--color-text-primary)",fontSize:13,cursor:"pointer"},children:c.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})}function m(e){let{severity:o,label:r}=e,a=u[o]||u.low;return(0,t.jsx)("span",{style:{display:"inline-block",padding:"2px 8px",borderRadius:4,fontSize:11,fontWeight:600,textTransform:"uppercase",backgroundColor:a.bg,color:a.color,border:"1px solid ".concat(a.border)},children:r||o})}function y(e){let{status:o,label:r}=e,a=p[o]||{bg:"#f3f4f6",color:"#6b7280"};return(0,t.jsx)("span",{style:{display:"inline-block",padding:"2px 8px",borderRadius:4,fontSize:11,fontWeight:600,backgroundColor:a.bg,color:a.color},children:r||o})}function b(e){let{disputeId:o,onClose:r}=e,[i,l]=(0,a.useState)(null),[s,c]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[f,g]=(0,a.useState)(!0),[b,h]=(0,a.useState)(null),[j,S]=(0,a.useState)(""),[C,_]=(0,a.useState)(null),[z,k]=(0,a.useState)(!1),[w,W]=(0,a.useState)(""),[R,B]=(0,a.useState)(""),E=(0,a.useCallback)(async()=>{g(!0);try{let e=await (0,d.SC)("/disputes.php",{action:"detail",dispute_id:o});l(e.dispute),c(e.timeline||[]),p(e.evidence||[])}catch(e){console.error("Erro ao carregar disputa:",e)}finally{g(!1)}},[o]);(0,a.useEffect)(()=>{E()},[E]);let A=async()=>{if("contest"===b&&j.trim().length<10){W("A nota deve ter pelo menos 10 caracteres.");return}k(!0),W(""),B("");try{if(await (0,d.sg)("/disputes.php",{action:"respond",dispute_id:o,response_type:b,note:j.trim()}),"contest"===b&&C){let e=new FormData;e.append("dispute_id",o),e.append("photo",C),await (0,d.zi)("/disputes.php",e)}B("Resposta enviada com sucesso!"),h(null),S(""),_(null),E()}catch(e){W(e.message||"Erro ao enviar resposta.")}finally{k(!1)}};if(f)return(0,t.jsx)("div",{className:"card",style:{padding:24,marginBottom:16,textAlign:"center",color:"var(--color-text-muted)"},children:"Carregando detalhes..."});if(!i)return(0,t.jsxs)("div",{className:"card",style:{padding:24,marginBottom:16,textAlign:"center",color:"var(--color-text-muted)"},children:["Erro ao carregar disputa.",(0,t.jsx)("button",{onClick:r,style:{marginLeft:12,color:"var(--color-primary)",background:"none",border:"none",cursor:"pointer"},children:"Fechar"})]});let T=!!i.partner_response;return(0,t.jsxs)("div",{className:"card",style:{padding:24,marginBottom:16,borderRadius:"var(--radius-md)",border:"2px solid var(--color-primary)"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:16},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{style:{margin:0,fontSize:18,color:"var(--color-text-primary)"},children:["Disputa #",i.id," - Pedido #",i.order_id]}),(0,t.jsxs)("div",{style:{marginTop:6,display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[(0,t.jsx)(m,{severity:i.severity,label:i.severity_label}),(0,t.jsx)(y,{status:i.status,label:i.status_label}),i.auto_resolved?(0,t.jsx)("span",{style:{fontSize:11,padding:"2px 8px",borderRadius:4,backgroundColor:"#e0e7ff",color:"#3730a3",fontWeight:600},children:"Auto-resolvida"}):null]})]}),(0,t.jsx)("button",{onClick:r,style:{background:"none",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",padding:"6px 12px",cursor:"pointer",color:"var(--color-text-secondary)",fontSize:13},children:"Fechar"})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12,marginBottom:20},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:2},children:"Cliente"}),(0,t.jsx)("div",{style:{fontSize:14,color:"var(--color-text-primary)",fontWeight:500},children:i.customer_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:2},children:"Categoria"}),(0,t.jsx)("div",{style:{fontSize:14,color:"var(--color-text-primary)",fontWeight:500},children:n[i.subcategory]||i.subcategory})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:2},children:"Valor do Pedido"}),(0,t.jsx)("div",{style:{fontSize:14,color:"var(--color-text-primary)",fontWeight:500},children:v(i.order_total)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:2},children:"Valor Solicitado"}),(0,t.jsx)("div",{style:{fontSize:14,color:"#dc2626",fontWeight:600},children:v(i.requested_amount)})]}),null!=i.approved_amount&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:2},children:"Valor Aprovado"}),(0,t.jsx)("div",{style:{fontSize:14,color:"#065f46",fontWeight:600},children:v(i.approved_amount)})]}),i.compensation_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:2},children:"Compensacao"}),(0,t.jsx)("div",{style:{fontSize:14,color:"var(--color-text-primary)",fontWeight:500},children:i.compensation_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:2},children:"Aberta em"}),(0,t.jsx)("div",{style:{fontSize:14,color:"var(--color-text-primary)"},children:x(i.created_at)})]}),i.resolved_at&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:2},children:"Resolvida em"}),(0,t.jsx)("div",{style:{fontSize:14,color:"var(--color-text-primary)"},children:x(i.resolved_at)})]})]}),(0,t.jsxs)("div",{style:{marginBottom:20},children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:600,color:"var(--color-text-primary)",marginBottom:6},children:"Descricao do Cliente"}),(0,t.jsx)("div",{style:{fontSize:14,color:"var(--color-text-secondary)",lineHeight:1.5,padding:12,backgroundColor:"var(--color-bg-page)",borderRadius:"var(--radius-sm)"},children:i.description||"Sem descricao."})]}),i.resolution_note&&(0,t.jsxs)("div",{style:{marginBottom:20},children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:600,color:"var(--color-text-primary)",marginBottom:6},children:"Nota de Resolucao"}),(0,t.jsx)("div",{style:{fontSize:14,color:"var(--color-text-secondary)",lineHeight:1.5,padding:12,backgroundColor:"#f0fdf4",borderRadius:"var(--radius-sm)",border:"1px solid #bbf7d0"},children:i.resolution_note})]}),i.photo_urls&&i.photo_urls.length>0&&(0,t.jsxs)("div",{style:{marginBottom:20},children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:600,color:"var(--color-text-primary)",marginBottom:8},children:"Fotos do Cliente"}),(0,t.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:i.photo_urls.map((e,o)=>(0,t.jsx)("img",{src:e,alt:"Evidencia ".concat(o+1),style:{width:120,height:120,objectFit:"cover",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)",cursor:"pointer"},onClick:()=>window.open(e,"_blank")},o))})]}),i.affected_items&&i.affected_items.length>0&&(0,t.jsxs)("div",{style:{marginBottom:20},children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:600,color:"var(--color-text-primary)",marginBottom:8},children:"Itens Afetados"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:i.affected_items.map((e,o)=>(0,t.jsxs)("div",{style:{fontSize:13,color:"var(--color-text-secondary)",padding:"6px 10px",backgroundColor:"var(--color-bg-page)",borderRadius:4},children:[e.name||e,e.quantity?" (x".concat(e.quantity,")"):""]},o))})]}),s.length>0&&(0,t.jsxs)("div",{style:{marginBottom:20},children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:600,color:"var(--color-text-primary)",marginBottom:8},children:"Historico"}),(0,t.jsx)("div",{style:{borderLeft:"2px solid var(--color-border)",paddingLeft:16,display:"flex",flexDirection:"column",gap:12},children:s.map((e,o)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:11,color:"var(--color-text-muted)"},children:x(e.created_at)}),(0,t.jsx)("div",{style:{fontSize:13,color:"var(--color-text-secondary)",marginTop:2},children:e.description||e.action}),e.note&&(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",fontStyle:"italic",marginTop:2},children:e.note})]},o))})]}),T&&(0,t.jsxs)("div",{style:{marginBottom:16,padding:12,backgroundColor:"#eff6ff",borderRadius:"var(--radius-sm)",border:"1px solid #bfdbfe"},children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:600,color:"#1e40af",marginBottom:4},children:"Sua Resposta"}),(0,t.jsx)("div",{style:{fontSize:13,color:"#1e40af"},children:i.partner_response})]}),!T&&"resolved"!==i.status&&(0,t.jsxs)("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:16},children:[(0,t.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"var(--color-text-primary)",marginBottom:12},children:"Responder a Disputa"}),!b&&(0,t.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,t.jsx)("button",{onClick:()=>h("accept"),style:{padding:"10px 24px",borderRadius:"var(--radius-sm)",border:"none",backgroundColor:"#16a34a",color:"#fff",fontSize:14,fontWeight:600,cursor:"pointer"},children:"Aceitar"}),(0,t.jsx)("button",{onClick:()=>h("contest"),style:{padding:"10px 24px",borderRadius:"var(--radius-sm)",border:"none",backgroundColor:"#dc2626",color:"#fff",fontSize:14,fontWeight:600,cursor:"pointer"},children:"Contestar"})]}),"accept"===b&&(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[(0,t.jsx)("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:"Voce esta aceitando esta disputa. Adicione uma nota opcional:"}),(0,t.jsx)("textarea",{value:j,onChange:e=>S(e.target.value),placeholder:"Nota opcional...",rows:3,style:{width:"100%",padding:10,borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)",fontSize:13,resize:"vertical",backgroundColor:"var(--color-bg-card)",color:"var(--color-text-primary)",boxSizing:"border-box"}}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{onClick:A,disabled:z,style:{padding:"8px 20px",borderRadius:"var(--radius-sm)",border:"none",backgroundColor:"#16a34a",color:"#fff",fontSize:13,fontWeight:600,cursor:z?"not-allowed":"pointer",opacity:z?.6:1},children:z?"Enviando...":"Confirmar Aceitacao"}),(0,t.jsx)("button",{onClick:()=>{h(null),S(""),W("")},style:{padding:"8px 20px",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-card)",color:"var(--color-text-secondary)",fontSize:13,cursor:"pointer"},children:"Cancelar"})]})]}),"contest"===b&&(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[(0,t.jsx)("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:"Explique por que voce esta contestando (minimo 10 caracteres):"}),(0,t.jsx)("textarea",{value:j,onChange:e=>S(e.target.value),placeholder:"Descreva sua contestacao...",rows:4,style:{width:"100%",padding:10,borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)",fontSize:13,resize:"vertical",backgroundColor:"var(--color-bg-card)",color:"var(--color-text-primary)",boxSizing:"border-box"}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{fontSize:12,color:"var(--color-text-muted)",display:"block",marginBottom:4},children:"Foto como evidencia (opcional)"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>_(e.target.files[0]||null),style:{fontSize:13}})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{onClick:A,disabled:z||j.trim().length<10,style:{padding:"8px 20px",borderRadius:"var(--radius-sm)",border:"none",backgroundColor:"#dc2626",color:"#fff",fontSize:13,fontWeight:600,cursor:z||j.trim().length<10?"not-allowed":"pointer",opacity:z||j.trim().length<10?.6:1},children:z?"Enviando...":"Enviar Contestacao"}),(0,t.jsx)("button",{onClick:()=>{h(null),S(""),_(null),W("")},style:{padding:"8px 20px",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-card)",color:"var(--color-text-secondary)",fontSize:13,cursor:"pointer"},children:"Cancelar"})]})]}),w&&(0,t.jsx)("div",{style:{marginTop:8,fontSize:13,color:"#dc2626"},children:w}),R&&(0,t.jsx)("div",{style:{marginTop:8,fontSize:13,color:"#16a34a"},children:R})]})]})}function h(e){let{dispute:o,isExpanded:r,onToggle:a}=e;return(0,t.jsxs)("div",{style:{marginBottom:12},children:[(0,t.jsx)("div",{className:"card",onClick:a,style:{padding:16,borderRadius:"var(--radius-md)",cursor:"pointer",transition:"box-shadow 0.15s",borderLeft:"4px solid ".concat((u[o.severity]||u.low).border)},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12,flexWrap:"wrap"},children:[(0,t.jsxs)("div",{style:{flex:1,minWidth:200},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8,flexWrap:"wrap"},children:[(0,t.jsx)(m,{severity:o.severity,label:o.severity_label}),(0,t.jsx)(y,{status:o.status,label:o.status_label}),o.auto_resolved?(0,t.jsx)("span",{style:{fontSize:10,padding:"2px 6px",borderRadius:3,backgroundColor:"#e0e7ff",color:"#3730a3",fontWeight:600},children:"AUTO"}):null]}),(0,t.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"var(--color-text-primary)",marginBottom:4},children:n[o.subcategory]||o.subcategory}),(0,t.jsxs)("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:[o.customer_name," \xb7 Pedido #",o.order_id]}),(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginTop:4},children:x(o.created_at)})]}),(0,t.jsxs)("div",{style:{textAlign:"right",minWidth:120},children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)"},children:"Solicitado"}),(0,t.jsx)("div",{style:{fontSize:15,fontWeight:600,color:"#dc2626"},children:v(o.requested_amount)}),null!=o.approved_amount&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginTop:4},children:"Aprovado"}),(0,t.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"#065f46"},children:v(o.approved_amount)})]})]})]})}),r&&(0,t.jsx)("div",{style:{marginTop:-4},children:(0,t.jsx)(b,{disputeId:o.id,onClose:a})})]})}function j(e){let{page:o,pages:r,onPageChange:a}=e;return r<=1?null:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:12,marginTop:20},children:[(0,t.jsx)("button",{onClick:()=>a(o-1),disabled:o<=1,style:{padding:"8px 16px",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-card)",color:o<=1?"var(--color-text-muted)":"var(--color-text-primary)",fontSize:13,cursor:o<=1?"not-allowed":"pointer",opacity:o<=1?.5:1},children:"Anterior"}),(0,t.jsxs)("span",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:["Pagina ",o," de ",r]}),(0,t.jsx)("button",{onClick:()=>a(o+1),disabled:o>=r,style:{padding:"8px 16px",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-card)",color:o>=r?"var(--color-text-muted)":"var(--color-text-primary)",fontSize:13,cursor:o>=r?"not-allowed":"pointer",opacity:o>=r?.5:1},children:"Proxima"})]})}function S(){let[e,o]=(0,a.useState)(null),[r,i]=(0,a.useState)([]),[l,n]=(0,a.useState)(""),[s,c]=(0,a.useState)("30d"),[u,p]=(0,a.useState)(1),[x,v]=(0,a.useState)(1),[m,y]=(0,a.useState)(!0),[b,S]=(0,a.useState)(null),C=(0,a.useCallback)(async()=>{try{let e=await (0,d.SC)("/disputes.php",{action:"stats"});o(e)}catch(e){console.error("Erro ao carregar estatisticas:",e)}},[]),_=(0,a.useCallback)(async()=>{y(!0);try{let e={action:"list",period:s,page:u};l&&(e.status=l);let o=await (0,d.SC)("/disputes.php",e);i(o.disputes||[]),v(o.pages||1)}catch(e){console.error("Erro ao carregar disputas:",e),i([])}finally{y(!1)}},[l,s,u]);(0,a.useEffect)(()=>{C()},[C]),(0,a.useEffect)(()=>{_()},[_]);let z=(0,a.useCallback)(e=>{n(e),p(1),S(null)},[]),k=(0,a.useCallback)(e=>{c(e),p(1),S(null)},[]),w=(0,a.useCallback)(e=>{p(e),S(null)},[]),W=(0,a.useCallback)(e=>{S(o=>o===e?null:e)},[]);return(0,t.jsxs)("div",{style:{maxWidth:900,margin:"0 auto"},children:[(0,t.jsx)("h1",{style:{fontSize:24,fontWeight:700,color:"var(--color-text-primary)",marginBottom:24},children:"Disputas"}),(0,t.jsx)(f,{stats:e}),(0,t.jsx)(g,{status:l,onStatusChange:z,period:s,onPeriodChange:k}),m?(0,t.jsx)("div",{style:{textAlign:"center",padding:40,color:"var(--color-text-muted)",fontSize:14},children:"Carregando disputas..."}):0===r.length?(0,t.jsx)("div",{className:"card",style:{textAlign:"center",padding:40,color:"var(--color-text-muted)",fontSize:14,borderRadius:"var(--radius-md)"},children:"Nenhuma disputa encontrada."}):(0,t.jsxs)(t.Fragment,{children:[r.map(e=>(0,t.jsx)(h,{dispute:e,isExpanded:b===e.id,onToggle:()=>W(e.id)},e.id)),(0,t.jsx)(j,{page:u,pages:x,onPageChange:w})]})]})}function C(){return(0,t.jsx)(i.Z,{children:(0,t.jsx)(l.Z,{children:(0,t.jsx)(S,{})})})}}},function(e){e.O(0,[3448,565,2205,2971,2117,1744],function(){return e(e.s=2745)}),_N_E=e.O()}]);