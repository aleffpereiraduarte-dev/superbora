@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");:root{--bg:#0f172a;--surface:#1e293b;--card:#1e293b;--card-hover:#263548;--border:#334155;--border-light:#475569;--text:#e2e8f0;--text-muted:#94a3b8;--text-dim:#64748b;--accent:#f97316;--accent-hover:#ea580c;--accent-light:rgba(249,115,22,.15);--accent-glow:rgba(249,115,22,.12);--success:#22c55e;--success-bg:rgba(34,197,94,.15);--warning:#eab308;--warning-bg:rgba(234,179,8,.15);--danger:#ef4444;--danger-bg:rgba(239,68,68,.15);--info:#3b82f6;--info-bg:rgba(59,130,246,.15);--neutral:#6b7280;--neutral-bg:hsla(220,9%,46%,.15);--sidebar-width:280px;--sidebar-collapsed:64px;--header-height:0px;--radius:8px;--radius-sm:4px;--radius-lg:12px;--radius-pill:100px;--shadow:0 1px 3px rgba(0,0,0,.3);--shadow-md:0 4px 6px -1px rgba(0,0,0,.25),0 2px 4px -2px rgba(0,0,0,.15);--shadow-hover:0 10px 25px -5px rgba(0,0,0,.3),0 8px 10px -6px rgba(0,0,0,.2);--shadow-lg:0 20px 40px -12px rgba(0,0,0,.4);--shadow-glow:0 0 20px var(--accent-glow);--gradient-accent:linear-gradient(135deg,#ea580c,#f97316 50%,#fb923c);--transition-fast:150ms cubic-bezier(0.4,0,0.2,1);--transition-normal:250ms cubic-bezier(0.4,0,0.2,1);--transition-slow:350ms cubic-bezier(0.4,0,0.2,1);--transition-spring:400ms cubic-bezier(0.34,1.56,0.64,1)}*,:after,:before{box-sizing:border-box;margin:0;padding:0}body,html{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background:var(--bg);color:var(--text);font-size:14px;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{color:var(--accent);text-decoration:none}a:hover{color:var(--accent-hover)}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--border-light)}.auth-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;gap:16px;color:var(--text-muted)}.auth-loading-spinner{width:40px;height:40px;border:3px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(1turn)}}.role-denied{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;text-align:center;color:var(--text-muted)}.role-denied-icon{font-size:48px;margin-bottom:16px}.role-denied h2{color:var(--text);font-size:24px;margin-bottom:8px}.role-denied-hint{font-size:13px;color:var(--text-dim);margin-top:12px}.sidebar{position:fixed;top:0;left:0;height:100vh;width:var(--sidebar-width);background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;z-index:100;transition:width var(--transition-normal);overflow:hidden;box-shadow:1px 0 12px rgba(0,0,0,.2)}.sidebar-collapsed{width:var(--sidebar-collapsed)}.sidebar-header{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid var(--border);min-height:56px}.sidebar-logo{font-size:16px;font-weight:700;color:var(--accent);white-space:nowrap}.sidebar-toggle{background:none;border:1px solid var(--border);color:var(--text-muted);width:28px;height:28px;border-radius:var(--radius-sm);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:10px;flex-shrink:0}.sidebar-toggle:hover{background:var(--card-hover);color:var(--text)}.sidebar-nav{flex:1 1;overflow-y:auto;overflow-x:hidden;padding:8px 0}.sidebar-section{margin-bottom:4px}.sidebar-section-title{padding:12px 16px 4px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--text-dim);white-space:nowrap}.sidebar-item{display:flex;align-items:center;gap:12px;padding:8px 16px;color:var(--text-muted);font-size:13px;font-weight:500;white-space:nowrap;transition:all .15s ease;border-left:3px solid transparent}.sidebar-item:hover{background:var(--card-hover);color:var(--text)}.sidebar-item-active{color:var(--accent);background:var(--accent-light);border-left-color:var(--accent)}.sidebar-item-icon{font-size:16px;width:20px;text-align:center;flex-shrink:0}.sidebar-badge{margin-left:auto;background:var(--danger);color:#fff;font-size:10px;font-weight:700;padding:2px 6px;border-radius:10px;min-width:18px;text-align:center}.sidebar-footer{border-top:1px solid var(--border);padding:12px 16px}.sidebar-admin-info{display:flex;align-items:center;gap:8px;margin-bottom:8px}.sidebar-admin-name{font-size:13px;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar-role-badge{font-size:10px;font-weight:600;padding:2px 8px;border-radius:10px;color:#fff;text-transform:uppercase;white-space:nowrap}.sidebar-logout{display:flex;align-items:center;gap:8px;background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:13px;padding:6px 0;width:100%}.sidebar-logout:hover{color:var(--danger)}.admin-layout{display:flex;min-height:100vh}.admin-main{flex:1 1;margin-left:var(--sidebar-width);padding:24px;transition:margin-left .2s ease;min-width:0}.admin-main.main-collapsed,.sidebar-collapsed~.admin-main{margin-left:var(--sidebar-collapsed)}.page-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;flex-wrap:wrap;gap:12px}.page-title{font-size:24px;font-weight:700;color:var(--text)}.page-subtitle{font-size:14px;color:var(--text-muted);margin-top:2px}.page-actions{display:flex;gap:8px;align-items:center}.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px}.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.card-title{font-size:16px;font-weight:600;color:var(--text)}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-gap:16px;gap:16px;margin-bottom:24px}.stats-card{background:var(--card);border-radius:var(--radius);padding:20px;border:1px solid var(--border);border-top:3px solid var(--accent);transition:transform .15s ease,box-shadow .15s ease}.stats-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.stats-card-header{display:flex;align-items:center;gap:8px;margin-bottom:12px}.stats-card-icon{font-size:20px}.stats-card-label{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.03em;color:var(--text-muted)}.stats-card-value{font-size:28px;font-weight:700;color:var(--text);line-height:1.2}.stats-card-change{font-size:12px;font-weight:600;margin-top:8px}.change-positive{color:var(--success)}.change-negative{color:var(--danger)}.datatable{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}.datatable-toolbar{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid var(--border);gap:12px}.datatable-count{font-size:12px;color:var(--text-dim);white-space:nowrap}.datatable-wrapper{overflow-x:auto}.datatable-table{width:100%;border-collapse:collapse}.datatable-table th{padding:12px 16px;text-align:left;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--text-dim);background:rgba(0,0,0,.15);border-bottom:1px solid var(--border);white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.datatable-table th.sortable{cursor:pointer}.datatable-table th.sortable:hover{color:var(--text)}.sort-indicator{font-size:10px;color:var(--accent)}.datatable-table td{padding:12px 16px;border-bottom:1px solid var(--border);font-size:13px;color:var(--text)}.datatable-table tr:last-child td{border-bottom:none}.datatable-table tbody tr:hover{background:var(--card-hover)}.clickable-row{cursor:pointer}.datatable-empty{text-align:center;padding:40px 16px!important;color:var(--text-dim);font-style:italic}.datatable-skeleton{padding:16px}.skeleton-row{display:flex;gap:16px;margin-bottom:12px}.skeleton-cell{height:16px;flex:1 1;background:linear-gradient(90deg,var(--border) 25%,var(--card-hover) 50%,var(--border) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:var(--radius-sm)}@keyframes shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.search-input-wrapper{position:relative;display:flex;align-items:center;flex:1 1;max-width:320px}.search-input-icon{position:absolute;left:12px;font-size:14px;color:var(--text-dim);pointer-events:none}.search-input{width:100%;padding:8px 32px 8px 36px;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);color:var(--text);font-size:13px;outline:none;transition:border-color .15s ease}.search-input:focus{border-color:var(--accent)}.search-input::placeholder{color:var(--text-dim)}.search-input-clear{position:absolute;right:8px;background:none;border:none;color:var(--text-dim);cursor:pointer;font-size:12px;padding:4px}.search-input-clear:hover{color:var(--text)}.pagination{display:flex;align-items:center;justify-content:center;gap:4px;padding:16px;border-top:1px solid var(--border)}.pagination-btn{padding:6px 12px;background:transparent;border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text-muted);font-size:12px;cursor:pointer;transition:all .15s ease}.pagination-btn:hover:not(:disabled){background:var(--card-hover);color:var(--text);border-color:var(--border-light)}.pagination-btn:disabled{opacity:.4;cursor:not-allowed}.pagination-active{background:var(--accent)!important;border-color:var(--accent)!important;color:#fff!important}.pagination-dots{color:var(--text-dim);font-size:12px;padding:0 4px}.tabs{display:flex;gap:0;border-bottom:1px solid var(--border);margin-bottom:20px;overflow-x:auto}.tab-btn{padding:10px 20px;background:none;border:none;border-bottom:2px solid transparent;color:var(--text-muted);font-size:13px;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .15s ease}.tab-btn:hover{color:var(--text);background:var(--card-hover)}.tab-active{color:var(--accent)!important;border-bottom-color:var(--accent)!important}.badge{display:inline-block;padding:3px 10px;border-radius:12px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.02em;white-space:nowrap}.badge-success{background:var(--success-bg);color:var(--success)}.badge-warning{background:var(--warning-bg);color:var(--warning)}.badge-danger{background:var(--danger-bg);color:var(--danger)}.badge-info{background:var(--info-bg);color:var(--info)}.badge-neutral{background:var(--neutral-bg);color:var(--neutral)}.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-container{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);width:100%;max-height:85vh;display:flex;flex-direction:column;box-shadow:var(--shadow-lg)}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border)}.modal-title{font-size:18px;font-weight:600;color:var(--text)}.modal-close{background:none;border:none;color:var(--text-muted);font-size:18px;cursor:pointer;padding:4px;line-height:1}.modal-close:hover{color:var(--text)}.modal-body{padding:24px;overflow-y:auto;flex:1 1}.toast-container{position:fixed;top:16px;right:16px;z-index:2000;display:flex;flex-direction:column;gap:8px;max-width:400px}.toast{display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-lg);animation:toastIn .3s ease}@keyframes toastIn{0%{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}.toast-success{border-left:3px solid var(--success)}.toast-error{border-left:3px solid var(--danger)}.toast-warning{border-left:3px solid var(--warning)}.toast-info{border-left:3px solid var(--info)}.toast-icon{font-size:16px;flex-shrink:0}.toast-success .toast-icon{color:var(--success)}.toast-error .toast-icon{color:var(--danger)}.toast-warning .toast-icon{color:var(--warning)}.toast-info .toast-icon{color:var(--info)}.toast-message{flex:1 1;font-size:13px;color:var(--text)}.toast-close{background:none;border:none;color:var(--text-dim);cursor:pointer;font-size:12px;padding:2px}.form-group{margin-bottom:16px}.form-label{display:block;font-size:12px;font-weight:600;color:var(--text-muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:.03em}.form-input,.form-select,.form-textarea{width:100%;padding:10px 14px;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);color:var(--text);font-size:14px;font-family:inherit;outline:none;transition:border-color .15s ease}.form-input:focus,.form-select:focus,.form-textarea:focus{border-color:var(--accent)}.form-input::placeholder,.form-textarea::placeholder{color:var(--text-dim)}.form-select{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2394a3b8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;padding-right:36px}.form-textarea{resize:vertical;min-height:80px}.btn{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:var(--radius);font-size:13px;font-weight:600;cursor:pointer;border:1px solid transparent;transition:all .15s ease;white-space:nowrap;font-family:inherit}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:var(--accent);color:#fff;border-color:var(--accent)}.btn-primary:hover:not(:disabled){background:var(--accent-hover)}.btn-secondary{background:transparent;color:var(--text);border-color:var(--border)}.btn-secondary:hover:not(:disabled){background:var(--card-hover);border-color:var(--border-light)}.btn-danger{background:var(--danger);color:#fff;border-color:var(--danger)}.btn-danger:hover:not(:disabled){background:#dc2626}.btn-success{background:var(--success);color:#fff;border-color:var(--success)}.btn-success:hover:not(:disabled){background:#16a34a}.btn-warning{background:#f59e0b;color:#fff;border-color:#f59e0b}.btn-warning:hover:not(:disabled){background:#d97706}.btn-sm{padding:5px 10px;font-size:12px}.btn-lg{padding:12px 24px;font-size:15px}.chart-container{position:relative;background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px}.chart-container canvas{max-height:300px}.grid-2{grid-template-columns:1fr 1fr;grid-gap:16px}.grid-2,.grid-3{display:grid;gap:16px}.grid-3{grid-template-columns:1fr 1fr 1fr;grid-gap:16px}.grid-4{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:16px;gap:16px}.grid-sidebar{display:grid;grid-template-columns:1fr 360px;grid-gap:16px;gap:16px}.grid-content{display:grid;grid-template-columns:360px 1fr;grid-gap:16px;gap:16px}.flex{display:flex}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-2{gap:8px}.gap-3{gap:12px}.gap-4{gap:16px}.gap-6{gap:24px}.mb-4{margin-bottom:16px}.mb-6{margin-bottom:24px}.mt-4{margin-top:16px}.mt-6{margin-top:24px}.p-4{padding:16px}.text-center{text-align:center}.text-right{text-align:right}.text-sm{font-size:13px}.text-xs{font-size:11px}.text-muted{color:var(--text-muted)}.text-dim{color:var(--text-dim)}.font-semibold{font-weight:600}.font-bold{font-weight:700}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w-full{width:100%}.map-container{height:500px;border-radius:var(--radius);overflow:hidden;border:1px solid var(--border)}.leaflet-container{height:100%;width:100%;background:var(--bg)}.filters-bar{display:flex;align-items:center;gap:12px;margin-bottom:16px;flex-wrap:wrap}.filters-bar .form-input,.filters-bar .form-select{width:auto;min-width:160px}.timeline{position:relative;padding-left:24px}.timeline:before{content:"";position:absolute;left:8px;top:0;bottom:0;width:2px;background:var(--border)}.timeline-item{position:relative;padding-bottom:20px}.timeline-item:before{content:"";position:absolute;left:-20px;top:4px;width:12px;height:12px;border-radius:50%;background:var(--accent);border:2px solid var(--surface)}.timeline-item-time{font-size:11px;color:var(--text-dim);margin-bottom:2px}.timeline-item-text{font-size:13px;color:var(--text)}.kanban{display:flex;gap:16px;overflow-x:auto;padding-bottom:16px}.kanban-column{min-width:280px;max-width:320px;flex-shrink:0;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);display:flex;flex-direction:column;max-height:70vh}.kanban-column-header{padding:12px 16px;border-bottom:1px solid var(--border);font-size:13px;font-weight:600;display:flex;align-items:center;justify-content:space-between}.kanban-column-count{font-size:11px;background:var(--border);padding:2px 8px;border-radius:10px;color:var(--text-muted)}.kanban-column-body{flex:1 1;overflow-y:auto;padding:8px}.kanban-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:12px;margin-bottom:8px;cursor:pointer;transition:background .15s ease}.kanban-card:hover{background:var(--card-hover)}.kanban-card-id{font-size:11px;color:var(--accent);font-weight:600}.kanban-card-title{font-size:13px;color:var(--text);margin:4px 0}.kanban-card-meta{font-size:11px;color:var(--text-dim)}.login-page{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:20px;background:var(--bg)}.login-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:40px;width:100%;max-width:420px;box-shadow:var(--shadow-lg)}.login-logo{text-align:center;margin-bottom:32px}.login-logo h1{font-size:28px;font-weight:700;color:var(--accent)}.login-logo p{font-size:14px;color:var(--text-muted);margin-top:4px}.login-error{background:var(--danger-bg);border:1px solid var(--danger);color:var(--danger);padding:10px 14px;border-radius:var(--radius);font-size:13px;margin-bottom:16px}.detail-grid{display:grid;grid-template-columns:1fr 1fr;grid-gap:16px;gap:16px;margin-bottom:24px}.detail-item{display:flex;flex-direction:column;gap:2px}.detail-label{font-size:11px;font-weight:600;text-transform:uppercase;color:var(--text-dim);letter-spacing:.03em}.detail-value{font-size:14px;color:var(--text)}.split-view{display:grid;grid-template-columns:1fr 400px;grid-gap:16px;gap:16px;height:calc(100vh - 120px)}.split-view-main{overflow-y:auto}.split-view-aside{overflow-y:auto;background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px}.section-divider{border:none;border-top:1px solid var(--border);margin:24px 0}.chat-messages{gap:12px;max-height:400px;overflow-y:auto;padding:16px}.chat-messages,.chat-msg{display:flex;flex-direction:column}.chat-msg{max-width:80%}.chat-msg-sent{align-self:flex-end}.chat-msg-received{align-self:flex-start}.chat-bubble{padding:10px 14px;border-radius:var(--radius);font-size:13px;line-height:1.5}.chat-msg-sent .chat-bubble{background:var(--accent);color:#fff}.chat-msg-received .chat-bubble{background:var(--bg);color:var(--text);border:1px solid var(--border)}.chat-msg-time{font-size:10px;color:var(--text-dim);margin-top:4px}.chat-msg-sender{font-size:11px;font-weight:600;color:var(--text-muted);margin-bottom:2px}@media (max-width:1024px){.grid-2{grid-template-columns:1fr}.grid-3,.grid-4{grid-template-columns:1fr 1fr}.detail-grid,.grid-content,.grid-sidebar,.split-view{grid-template-columns:1fr}.stats-grid{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}}@media (max-width:768px){.sidebar{display:none}.admin-main{margin-left:0!important}.grid-3,.grid-4{grid-template-columns:1fr}.kanban{flex-direction:column}.kanban-column{min-width:100%;max-width:100%}}