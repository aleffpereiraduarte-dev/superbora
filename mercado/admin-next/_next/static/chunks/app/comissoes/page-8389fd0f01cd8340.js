(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4324],{2051:function(e,a,t){Promise.resolve().then(t.bind(t,4871))},4871:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var s=t(7437),r=t(2265),n=t(8779),i=t(4477),l=t(4445),o=t(9531),c=t(1656),d=t(7714),m=t(6939),u=t(8789),p=t(6971),x=t(6428);function h(){let{collapsed:e}=(0,u.A)(),{success:a,error:t}=(0,p.l)(),[n,l]=(0,r.useState)([]),[h,g]=(0,r.useState)([]),[j,v]=(0,r.useState)(10),[b,f]=(0,r.useState)(!0),[y,N]=(0,r.useState)(""),[C,k]=(0,r.useState)(!1),[S,_]=(0,r.useState)("partners"),[w,T]=(0,r.useState)(!1),[E,P]=(0,r.useState)(""),[z,B]=(0,r.useState)(!1),[R,Z]=(0,r.useState)(null),[A,D]=(0,r.useState)(""),[W,F]=(0,r.useState)("percentage"),[M,L]=(0,r.useState)(!1),[O,q]=(0,r.useState)([]),[I,V]=(0,r.useState)(""),[$,G]=(0,r.useState)("");(0,r.useEffect)(()=>{H()},[]);let H=async()=>{f(!0);try{let e={};y&&(e.search=y);let a=await (0,x.SC)("/commissions.php",e);l(a.partners||[]),g(a.category_rules||[]),v(a.default_commission||10)}catch(e){t("Erro ao carregar configuracoes: "+e.message)}finally{f(!1)}},X=async()=>{try{let e=await (0,x.SC)("/categories.php",{include_inactive:"0"});q(e.categories||[])}catch(e){}};(0,r.useEffect)(()=>{let e=setTimeout(()=>{H()},400);return()=>clearTimeout(e)},[y]);let J=async()=>{let e=parseFloat(E);if(isNaN(e)||e<0||e>100){t("Taxa deve ser entre 0 e 100");return}k(!0);try{await (0,x.pE)("/commissions.php",{action:"update_default",rate:e}),a("Taxa padrao atualizada para ".concat(e,"%")),v(e),T(!1),H()}catch(e){t("Erro: "+e.message)}finally{k(!1)}},K=async()=>{if(!R)return;let e=parseFloat(A);if(isNaN(e)||e<0||e>100){t("Taxa deve ser entre 0 e 100");return}k(!0);try{await (0,x.pE)("/commissions.php",{action:"update_partner",partner_id:R.partner_id,rate:e,commission_type:W}),a("Comissao de ".concat(R.partner_name," atualizada para ").concat(e,"%")),B(!1),Z(null),H()}catch(e){t("Erro: "+e.message)}finally{k(!1)}},Q=async e=>{k(!0);try{await (0,x.pE)("/commissions.php",{action:"reset_partner",partner_id:e.partner_id}),a("".concat(e.partner_name," resetado para taxa padrao")),H()}catch(e){t("Erro: "+e.message)}finally{k(!1)}},U=async()=>{let e=parseFloat($),s=parseInt(I);if(!s){t("Selecione uma categoria");return}if(isNaN(e)||e<0||e>100){t("Taxa deve ser entre 0 e 100");return}k(!0);try{await (0,x.pE)("/commissions.php",{action:"update_category_rule",category_id:s,rate:e}),a("Regra de categoria atualizada"),L(!1),H()}catch(e){t("Erro: "+e.message)}finally{k(!1)}},Y=e=>{Z(e),D(e.effective_rate||j),F(e.commission_type||"percentage"),B(!0)},ee=()=>{X(),V(""),G(""),L(!0)},ea=e=>null!=e?"R$ ".concat(Number(e).toLocaleString("pt-BR",{minimumFractionDigits:2})):"R$ 0,00",et=e=>{switch(e){case"custom":return{label:"Personalizada",variant:"info"};case"partner":return{label:"Do Parceiro",variant:"warning"};default:return{label:"Padrao",variant:"neutral"}}},es=[{key:"partner_id",label:"ID",render:e=>(0,s.jsxs)("strong",{children:["#",e]})},{key:"partner_name",label:"Parceiro",render:(e,a)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:e||"-"}),(0,s.jsx)("div",{className:"text-sm text-muted",children:a.email||""})]})},{key:"categoria",label:"Categoria",render:e=>(0,s.jsx)(c.Z,{label:e||"geral",variant:"info"})},{key:"partnership_type",label:"Tipo",render:e=>(0,s.jsx)(c.Z,{label:e||"standard",variant:{premium:"warning",exclusive:"danger",standard:"neutral"}[e]||"neutral"})},{key:"effective_rate",label:"Taxa Efetiva",render:e=>(0,s.jsxs)("span",{style:{fontWeight:700,color:"var(--primary)",fontSize:"1.1rem"},children:[e||0,"%"]})},{key:"rate_source",label:"Origem",render:e=>{let a=et(e);return(0,s.jsx)(c.Z,{label:a.label,variant:a.variant})}},{key:"total_orders",label:"Pedidos",render:e=>e||0},{key:"total_vendas",label:"Vendas",render:e=>ea(e)},{key:"status",label:"Status",render:e=>(0,s.jsx)(c.Z,{label:e||"pendente",variant:"aprovado"===e||"ativo"===e?"success":"pendente"===e?"warning":"neutral"})},{key:"actions",label:"Acoes",sortable:!1,render:(e,a)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{className:"btn btn-sm btn-primary",onClick:e=>{e.stopPropagation(),Y(a)},children:"Editar Taxa"}),"default"!==a.rate_source&&(0,s.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:e=>{e.stopPropagation(),Q(a)},disabled:C,children:"Resetar"})]})}];return(0,s.jsxs)("div",{className:"admin-layout",children:[(0,s.jsx)(i.Z,{}),(0,s.jsxs)("main",{className:"admin-main ".concat(e?"main-collapsed":""),children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"page-title",children:"Configuracao de Comissoes"}),(0,s.jsx)("p",{className:"page-subtitle",children:"Definir taxas de comissao da plataforma por parceiro e categoria"})]}),(0,s.jsx)("div",{className:"page-actions",children:(0,s.jsx)("button",{className:"btn btn-secondary",onClick:H,children:"Atualizar"})})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:16,marginBottom:24},children:[(0,s.jsxs)("div",{className:"card",style:{padding:24,display:"flex",alignItems:"center",justifyContent:"space-between",border:"2px solid var(--primary)",borderRadius:"var(--radius)"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted",style:{marginBottom:4},children:"Taxa Padrao da Plataforma"}),(0,s.jsxs)("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--primary)"},children:[j,"%"]}),(0,s.jsx)("div",{className:"text-sm text-muted",children:"Aplicada quando o parceiro nao tem taxa personalizada"})]}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>{P(j),T(!0)},children:"Alterar Taxa"})]}),(0,s.jsxs)("div",{className:"card",style:{padding:24},children:[(0,s.jsx)("div",{className:"text-sm text-muted",style:{marginBottom:4},children:"Parceiros com Taxa Personalizada"}),(0,s.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"#f59e0b"},children:n.filter(e=>"custom"===e.rate_source||"partner"===e.rate_source).length}),(0,s.jsxs)("div",{className:"text-sm text-muted",children:["de ",n.length," parceiros totais"]})]}),(0,s.jsxs)("div",{className:"card",style:{padding:24},children:[(0,s.jsx)("div",{className:"text-sm text-muted",style:{marginBottom:4},children:"Regras por Categoria"}),(0,s.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"#8b5cf6"},children:h.length}),(0,s.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:ee,style:{marginTop:8},children:"Gerenciar Regras"})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:0,borderBottom:"2px solid var(--border)",marginBottom:16},children:[(0,s.jsx)("button",{onClick:()=>_("partners"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",background:"transparent",border:"none",color:"partners"===S?"var(--primary)":"var(--text-muted)",borderBottom:"partners"===S?"2px solid var(--primary)":"2px solid transparent",marginBottom:-2},children:"Comissoes por Parceiro"}),(0,s.jsx)("button",{onClick:()=>_("categories"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",background:"transparent",border:"none",color:"categories"===S?"var(--primary)":"var(--text-muted)",borderBottom:"categories"===S?"2px solid var(--primary)":"2px solid transparent",marginBottom:-2},children:"Regras por Categoria"})]}),"partners"===S&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"filters-bar",children:[(0,s.jsx)("input",{type:"text",className:"form-input",placeholder:"Buscar parceiro por nome ou email...",value:y,onChange:e=>N(e.target.value),style:{width:"auto",minWidth:300}}),(0,s.jsxs)("span",{className:"text-sm text-muted",style:{marginLeft:"auto"},children:[n.length," parceiro",1!==n.length?"s":""]})]}),(0,s.jsx)(o.Z,{columns:es,data:n,loading:b,emptyMessage:"Nenhum parceiro encontrado"})]}),"categories"===S&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"page-actions",style:{marginBottom:16},children:(0,s.jsx)("button",{className:"btn btn-primary",onClick:ee,children:"Nova Regra de Categoria"})}),0===h.length?(0,s.jsxs)("div",{className:"card",style:{padding:40,textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"3rem",marginBottom:8},children:"\uD83D\uDCCA"}),(0,s.jsx)("h3",{children:"Nenhuma regra por categoria"}),(0,s.jsxs)("p",{className:"text-sm text-muted",children:["Regras de categoria permitem definir taxas diferentes por tipo de estabelecimento. A taxa padrao (",j,"%) sera usada quando nao houver regra especifica."]}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:ee,style:{marginTop:16},children:"Criar Primeira Regra"})]}):(0,s.jsx)("div",{className:"card",style:{overflow:"hidden"},children:(0,s.jsxs)("table",{className:"data-table",style:{width:"100%"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Categoria"}),(0,s.jsx)("th",{children:"Tipo"}),(0,s.jsx)("th",{children:"Taxa (%)"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Acoes"})]})}),(0,s.jsx)("tbody",{children:h.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:e.category_name||"Cat #".concat(e.category_id)})}),(0,s.jsx)("td",{children:e.commission_type||"percentage"}),(0,s.jsx)("td",{children:(0,s.jsxs)("span",{style:{fontWeight:700,color:"var(--primary)"},children:[e.commission_value,"%"]})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{label:e.is_active?"Ativa":"Inativa",variant:e.is_active?"success":"neutral"})}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>{V(String(e.category_id)),G(String(e.commission_value)),X(),L(!0)},children:"Editar"})})]},e.id))})]})})]}),(0,s.jsxs)(d.Z,{isOpen:w,onClose:()=>T(!1),title:"Alterar Taxa Padrao",size:"sm",children:[(0,s.jsx)("div",{style:{padding:16,background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"var(--radius)",marginBottom:16,fontSize:"0.85rem"},children:"Esta taxa sera aplicada a todos os parceiros que nao possuem taxa personalizada. Alteracoes afetam imediatamente os novos pedidos."}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Nova Taxa Padrao (%)"}),(0,s.jsx)("input",{className:"form-input",type:"number",min:"0",max:"100",step:"0.5",value:E,onChange:e=>P(e.target.value),placeholder:"Ex: 10",style:{fontSize:"1.5rem",fontWeight:700,textAlign:"center"}})]}),(0,s.jsxs)("div",{className:"flex gap-2",style:{justifyContent:"flex-end"},children:[(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>T(!1),children:"Cancelar"}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:J,disabled:C,children:C?"Salvando...":"Salvar Taxa"})]})]}),(0,s.jsx)(d.Z,{isOpen:z,onClose:()=>B(!1),title:"Editar Comissao do Parceiro",size:"md",children:R&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{padding:16,background:"var(--bg)",borderRadius:"var(--radius)",border:"1px solid var(--border)",marginBottom:16},children:[(0,s.jsx)("strong",{children:R.partner_name}),(0,s.jsx)("div",{className:"text-sm text-muted",children:R.email}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginTop:8},children:[(0,s.jsx)(c.Z,{label:R.categoria||"geral",variant:"info"}),(0,s.jsx)(c.Z,{label:R.partnership_type||"standard",variant:"neutral"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Tipo de Comissao"}),(0,s.jsxs)("select",{className:"form-select",value:W,onChange:e=>F(e.target.value),children:[(0,s.jsx)("option",{value:"percentage",children:"Percentual (%)"}),(0,s.jsx)("option",{value:"fixed",children:"Valor Fixo (R$)"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"percentage"===W?"Taxa de Comissao (%)":"Valor Fixo (R$)"}),(0,s.jsx)("input",{className:"form-input",type:"number",min:"0",max:"100",step:"0.5",value:A,onChange:e=>D(e.target.value),style:{fontSize:"1.3rem",fontWeight:700,textAlign:"center"}}),(0,s.jsxs)("div",{className:"text-sm text-muted",style:{marginTop:4},children:["Taxa padrao da plataforma: ",j,"%"]})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,padding:12,background:"var(--bg)",borderRadius:"var(--radius)",marginBottom:16},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted",children:"Total Pedidos"}),(0,s.jsx)("div",{style:{fontWeight:600},children:R.total_orders||0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted",children:"Total Vendas"}),(0,s.jsx)("div",{style:{fontWeight:600},children:ea(R.total_vendas)})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",style:{justifyContent:"flex-end"},children:[(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>B(!1),children:"Cancelar"}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:K,disabled:C,children:C?"Salvando...":"Salvar Comissao"})]})]})}),(0,s.jsxs)(d.Z,{isOpen:M,onClose:()=>L(!1),title:"Regra de Comissao por Categoria",size:"sm",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Categoria"}),(0,s.jsxs)("select",{className:"form-select",value:I,onChange:e=>V(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Selecione uma categoria..."}),O.map(e=>(0,s.jsxs)("option",{value:e.category_id,children:[e.icon," ",e.name]},e.category_id))]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Taxa de Comissao (%)"}),(0,s.jsx)("input",{className:"form-input",type:"number",min:"0",max:"100",step:"0.5",value:$,onChange:e=>G(e.target.value),placeholder:"Ex: 12",style:{fontSize:"1.3rem",fontWeight:700,textAlign:"center"}}),(0,s.jsxs)("div",{className:"text-sm text-muted",style:{marginTop:4},children:["Parceiros desta categoria usarao esta taxa ao inves da padrao (",j,"%)"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",style:{justifyContent:"flex-end"},children:[(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>L(!1),children:"Cancelar"}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:U,disabled:C,children:C?"Salvando...":"Salvar Regra"})]})]})]}),(0,s.jsx)(m.Z,{})]})}function g(){return(0,s.jsx)(n.Z,{children:(0,s.jsx)(l.Z,{section:"commissions",children:(0,s.jsx)(h,{})})})}},4445:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var s=t(7437),r=t(8253);function n(e){let{section:a,children:t}=e,{hasPermission:n}=(0,r.q)();return n(a)?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsxs)("div",{className:"role-denied",children:[(0,s.jsx)("div",{className:"role-denied-icon",children:"\uD83D\uDD12"}),(0,s.jsx)("h2",{children:"Acesso Negado"}),(0,s.jsx)("p",{children:"Voce nao tem permissao para acessar esta secao."}),(0,s.jsx)("p",{className:"role-denied-hint",children:"Contate o administrador para solicitar acesso."})]})}},1656:function(e,a,t){"use strict";t.d(a,{X:function(){return i},Z:function(){return n}});var s=t(7437);let r={success:"badge-success",warning:"badge-warning",danger:"badge-danger",info:"badge-info",neutral:"badge-neutral"};function n(e){let{label:a,variant:t="neutral"}=e;return(0,s.jsx)("span",{className:"badge ".concat(r[t]||r.neutral),children:a})}function i(e){return({pendente:"warning",confirmado:"info",preparando:"info",pronto:"info",coletado:"info",em_entrega:"warning",entregue:"success",cancelado:"danger",recusado:"danger",ativo:"success",inativo:"neutral",bloqueado:"danger",online:"success",offline:"neutral",aprovado:"success",reprovado:"danger",pago:"success",pendente_pagamento:"warning",processando:"info",aberto:"warning",resolvido:"success",fechado:"neutral"})[e]||"neutral"}},9531:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});var s=t(7437),r=t(2265);function n(e){let{value:a,onChange:t,placeholder:n="Buscar...",delay:i=300}=e,[l,o]=(0,r.useState)(a||""),c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{o(a||"")},[a]),(0,s.jsxs)("div",{className:"search-input-wrapper",children:[(0,s.jsx)("span",{className:"search-input-icon",children:"\uD83D\uDD0D"}),(0,s.jsx)("input",{type:"text",className:"search-input",value:l,onChange:e=>{let a=e.target.value;o(a),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{null==t||t(a)},i)},placeholder:n}),l&&(0,s.jsx)("button",{className:"search-input-clear",onClick:()=>{o(""),null==t||t("")},children:"✕"})]})}function i(e){let{page:a,totalPages:t,onPageChange:r}=e,n=[],i=Math.max(1,a-Math.floor(2.5)),l=Math.min(t,i+5-1);l-i<4&&(i=Math.max(1,l-5+1));for(let e=i;e<=l;e++)n.push(e);return(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{className:"pagination-btn",disabled:a<=1,onClick:()=>r(a-1),children:"‹ Anterior"}),i>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"pagination-btn",onClick:()=>r(1),children:"1"}),i>2&&(0,s.jsx)("span",{className:"pagination-dots",children:"..."})]}),n.map(e=>(0,s.jsx)("button",{className:"pagination-btn ".concat(e===a?"pagination-active":""),onClick:()=>r(e),children:e},e)),l<t&&(0,s.jsxs)(s.Fragment,{children:[l<t-1&&(0,s.jsx)("span",{className:"pagination-dots",children:"..."}),(0,s.jsx)("button",{className:"pagination-btn",onClick:()=>r(t),children:t})]}),(0,s.jsx)("button",{className:"pagination-btn",disabled:a>=t,onClick:()=>r(a+1),children:"Proximo ›"})]})}function l(e){let{columns:a=[],data:t=[],loading:l=!1,searchable:o=!0,pageSize:c=15,emptyMessage:d="Nenhum registro encontrado",onRowClick:m}=e,[u,p]=(0,r.useState)(""),[x,h]=(0,r.useState)(null),[g,j]=(0,r.useState)("asc"),[v,b]=(0,r.useState)(1),f=(0,r.useMemo)(()=>{if(!u)return t;let e=u.toLowerCase();return t.filter(t=>a.some(a=>{let s=t[a.key];return null!=s&&String(s).toLowerCase().includes(e)}))},[t,u,a]),y=(0,r.useMemo)(()=>x?[...f].sort((e,a)=>{var t,s;let r=null!==(t=e[x])&&void 0!==t?t:"",n=null!==(s=a[x])&&void 0!==s?s:"";if("number"==typeof r&&"number"==typeof n)return"asc"===g?r-n:n-r;let i=String(r).localeCompare(String(n));return"asc"===g?i:-i}):f,[f,x,g]),N=Math.max(1,Math.ceil(y.length/c)),C=y.slice((v-1)*c,v*c);(0,r.useEffect)(()=>{v>N&&b(1)},[v,N]);let k=e=>{x===e?j(e=>"asc"===e?"desc":"asc"):(h(e),j("asc"))};return l?(0,s.jsxs)("div",{className:"datatable",children:[o&&(0,s.jsx)("div",{className:"datatable-toolbar",children:(0,s.jsx)(n,{value:"",onChange:()=>{},placeholder:"Buscar..."})}),(0,s.jsx)("div",{className:"datatable-skeleton",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"skeleton-row",children:a.map((e,a)=>(0,s.jsx)("div",{className:"skeleton-cell"},a))},t))})]}):(0,s.jsxs)("div",{className:"datatable",children:[o&&(0,s.jsxs)("div",{className:"datatable-toolbar",children:[(0,s.jsx)(n,{value:u,onChange:e=>{p(e),b(1)},placeholder:"Buscar na tabela..."}),(0,s.jsxs)("span",{className:"datatable-count",children:[f.length," registro(s)"]})]}),(0,s.jsx)("div",{className:"datatable-wrapper",children:(0,s.jsxs)("table",{className:"datatable-table",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:a.map(e=>(0,s.jsxs)("th",{onClick:()=>!1!==e.sortable&&k(e.key),className:!1!==e.sortable?"sortable":"",style:e.width?{width:e.width}:void 0,children:[e.label,x===e.key&&(0,s.jsx)("span",{className:"sort-indicator",children:"asc"===g?" ▲":" ▼"})]},e.key))})}),(0,s.jsx)("tbody",{children:0===C.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:a.length,className:"datatable-empty",children:d})}):C.map((e,t)=>(0,s.jsx)("tr",{onClick:()=>null==m?void 0:m(e),className:m?"clickable-row":"",children:a.map(a=>{var t;return(0,s.jsx)("td",{children:a.render?a.render(e[a.key],e):null!==(t=e[a.key])&&void 0!==t?t:"-"},a.key)})},e.id||t))})]})}),N>1&&(0,s.jsx)(i,{page:v,totalPages:N,onPageChange:b})]})}},7714:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var s=t(7437),r=t(2265);let n={sm:"400px",md:"560px",lg:"720px",xl:"960px"};function i(e){let{isOpen:a,onClose:t,title:i,children:l,size:o="md"}=e;return((0,r.useEffect)(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&(null==t||t())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a,t]),a)?(0,s.jsx)("div",{className:"modal-overlay",onClick:t,children:(0,s.jsxs)("div",{className:"modal-container",style:{maxWidth:n[o]||n.md},onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h3",{className:"modal-title",children:i}),(0,s.jsx)("button",{className:"modal-close",onClick:t,children:"✕"})]}),(0,s.jsx)("div",{className:"modal-body",children:l})]})}):null}},6939:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var s=t(7437),r=t(6971);let n={success:"&#10003;",error:"&#10007;",warning:"&#9888;",info:"&#8505;"};function i(){let{toasts:e,removeToast:a}=(0,r.l)();return 0===e.length?null:(0,s.jsx)("div",{className:"toast-container",children:e.map(e=>(0,s.jsxs)("div",{className:"toast toast-".concat(e.type),children:[(0,s.jsx)("span",{className:"toast-icon",dangerouslySetInnerHTML:{__html:n[e.type]||n.info}}),(0,s.jsx)("span",{className:"toast-message",children:e.message}),(0,s.jsx)("button",{className:"toast-close",onClick:()=>a(e.id),children:"✕"})]},e.id))})}}},function(e){e.O(0,[3448,1006,2971,2117,1744],function(){return e(e.s=2051)}),_N_E=e.O()}]);