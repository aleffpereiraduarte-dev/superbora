(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7827],{4344:function(e,n,a){Promise.resolve().then(a.bind(a,9992))},4445:function(e,n,a){"use strict";a.d(n,{Z:function(){return r}});var s=a(7437),t=a(8253);function r(e){let{section:n,children:a}=e,{hasPermission:r}=(0,t.q)();return r(n)?(0,s.jsx)(s.Fragment,{children:a}):(0,s.jsxs)("div",{className:"role-denied",children:[(0,s.jsx)("div",{className:"role-denied-icon",children:"\uD83D\uDD12"}),(0,s.jsx)("h2",{children:"Acesso Negado"}),(0,s.jsx)("p",{children:"Voce nao tem permissao para acessar esta secao."}),(0,s.jsx)("p",{className:"role-denied-hint",children:"Contate o administrador para solicitar acesso."})]})}},1656:function(e,n,a){"use strict";a.d(n,{X:function(){return l},Z:function(){return r}});var s=a(7437);let t={success:"badge-success",warning:"badge-warning",danger:"badge-danger",info:"badge-info",neutral:"badge-neutral"};function r(e){let{label:n,variant:a="neutral"}=e;return(0,s.jsx)("span",{className:"badge ".concat(t[a]||t.neutral),children:n})}function l(e){return({pendente:"warning",confirmado:"info",preparando:"info",pronto:"info",coletado:"info",em_entrega:"warning",entregue:"success",cancelado:"danger",recusado:"danger",ativo:"success",inativo:"neutral",bloqueado:"danger",online:"success",offline:"neutral",aprovado:"success",reprovado:"danger",pago:"success",pendente_pagamento:"warning",processando:"info",aberto:"warning",resolvido:"success",fechado:"neutral"})[e]||"neutral"}},9246:function(e,n,a){"use strict";a.d(n,{Z:function(){return i}});var s=a(7437),t=a(2265);function r(e){let{value:n,onChange:a,placeholder:r="Buscar...",delay:l=300}=e,[i,c]=(0,t.useState)(n||""),o=(0,t.useRef)(null);return(0,t.useEffect)(()=>{c(n||"")},[n]),(0,s.jsxs)("div",{className:"search-input-wrapper",children:[(0,s.jsx)("span",{className:"search-input-icon",children:"\uD83D\uDD0D"}),(0,s.jsx)("input",{type:"text",className:"search-input",value:i,onChange:e=>{let n=e.target.value;c(n),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{null==a||a(n)},l)},placeholder:r}),i&&(0,s.jsx)("button",{className:"search-input-clear",onClick:()=>{c(""),null==a||a("")},children:"✕"})]})}var l=a(4420);function i(e){let{columns:n=[],data:a=[],loading:i=!1,searchable:c=!0,pageSize:o=15,emptyMessage:d="Nenhum registro encontrado",onRowClick:u}=e,[h,p]=(0,t.useState)(""),[x,j]=(0,t.useState)(null),[m,v]=(0,t.useState)("asc"),[g,f]=(0,t.useState)(1),b=(0,t.useMemo)(()=>{if(!h)return a;let e=h.toLowerCase();return a.filter(a=>n.some(n=>{let s=a[n.key];return null!=s&&String(s).toLowerCase().includes(e)}))},[a,h,n]),N=(0,t.useMemo)(()=>x?[...b].sort((e,n)=>{var a,s;let t=null!==(a=e[x])&&void 0!==a?a:"",r=null!==(s=n[x])&&void 0!==s?s:"";if("number"==typeof t&&"number"==typeof r)return"asc"===m?t-r:r-t;let l=String(t).localeCompare(String(r));return"asc"===m?l:-l}):b,[b,x,m]),k=Math.max(1,Math.ceil(N.length/o)),w=N.slice((g-1)*o,g*o);(0,t.useEffect)(()=>{g>k&&f(1)},[g,k]);let C=e=>{x===e?v(e=>"asc"===e?"desc":"asc"):(j(e),v("asc"))};return i?(0,s.jsxs)("div",{className:"datatable",children:[c&&(0,s.jsx)("div",{className:"datatable-toolbar",children:(0,s.jsx)(r,{value:"",onChange:()=>{},placeholder:"Buscar..."})}),(0,s.jsx)("div",{className:"datatable-skeleton",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsx)("div",{className:"skeleton-row",children:n.map((e,n)=>(0,s.jsx)("div",{className:"skeleton-cell"},n))},a))})]}):(0,s.jsxs)("div",{className:"datatable",children:[c&&(0,s.jsxs)("div",{className:"datatable-toolbar",children:[(0,s.jsx)(r,{value:h,onChange:e=>{p(e),f(1)},placeholder:"Buscar na tabela..."}),(0,s.jsxs)("span",{className:"datatable-count",children:[b.length," registro(s)"]})]}),(0,s.jsx)("div",{className:"datatable-wrapper",children:(0,s.jsxs)("table",{className:"datatable-table",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:n.map(e=>(0,s.jsxs)("th",{onClick:()=>!1!==e.sortable&&C(e.key),className:!1!==e.sortable?"sortable":"",style:e.width?{width:e.width}:void 0,children:[e.label,x===e.key&&(0,s.jsx)("span",{className:"sort-indicator",children:"asc"===m?" ▲":" ▼"})]},e.key))})}),(0,s.jsx)("tbody",{children:0===w.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:n.length,className:"datatable-empty",children:d})}):w.map((e,a)=>(0,s.jsx)("tr",{onClick:()=>null==u?void 0:u(e),className:u?"clickable-row":"",children:n.map(n=>{var a;return(0,s.jsx)("td",{children:n.render?n.render(e[n.key],e):null!==(a=e[n.key])&&void 0!==a?a:"-"},n.key)})},e.id||a))})]})}),k>1&&(0,s.jsx)(l.Z,{page:g,totalPages:k,onPageChange:f})]})}},4420:function(e,n,a){"use strict";a.d(n,{Z:function(){return t}});var s=a(7437);function t(e){let{page:n,totalPages:a,onPageChange:t}=e,r=[],l=Math.max(1,n-Math.floor(2.5)),i=Math.min(a,l+5-1);i-l<4&&(l=Math.max(1,i-5+1));for(let e=l;e<=i;e++)r.push(e);return(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{className:"pagination-btn",disabled:n<=1,onClick:()=>t(n-1),children:"‹ Anterior"}),l>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"pagination-btn",onClick:()=>t(1),children:"1"}),l>2&&(0,s.jsx)("span",{className:"pagination-dots",children:"..."})]}),r.map(e=>(0,s.jsx)("button",{className:"pagination-btn ".concat(e===n?"pagination-active":""),onClick:()=>t(e),children:e},e)),i<a&&(0,s.jsxs)(s.Fragment,{children:[i<a-1&&(0,s.jsx)("span",{className:"pagination-dots",children:"..."}),(0,s.jsx)("button",{className:"pagination-btn",onClick:()=>t(a),children:a})]}),(0,s.jsx)("button",{className:"pagination-btn",disabled:n>=a,onClick:()=>t(n+1),children:"Proximo ›"})]})}},9992:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return d}});var s=a(7437),t=a(2265),r=a(8779),l=a(4445),i=a(4477);a(9246);var c=a(1656),o=a(6428);function d(){let[e,n]=(0,t.useState)([]),[a,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[j,m]=(0,t.useState)(1);async function v(){d(!0);try{let e=await (0,o.SC)("/shoppers.php",{search:u,status:p,page:j,limit:20});n((null==e?void 0:e.items)||[])}catch(e){console.error(e)}d(!1)}(0,t.useEffect)(()=>{v()},[u,p,j]);let g={0:["Pendente","warning"],1:["Ativo","success"],2:["Rejeitado","danger"],3:["Suspenso","danger"]};return(0,s.jsx)(r.Z,{children:(0,s.jsx)(l.Z,{section:"shoppers",children:(0,s.jsxs)("div",{style:{display:"flex",minHeight:"100vh"},children:[(0,s.jsx)(i.Z,{}),(0,s.jsxs)("main",{className:"main-content",children:[(0,s.jsx)("h1",{children:"Shoppers"}),(0,s.jsxs)("div",{className:"filters-row",children:[(0,s.jsx)("input",{className:"search-input",placeholder:"Buscar shopper...",value:u,onChange:e=>h(e.target.value)}),(0,s.jsxs)("select",{className:"filter-select",value:p,onChange:e=>x(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Todos Status"}),(0,s.jsx)("option",{value:"0",children:"Pendente"}),(0,s.jsx)("option",{value:"1",children:"Ativo"}),(0,s.jsx)("option",{value:"2",children:"Rejeitado"}),(0,s.jsx)("option",{value:"3",children:"Suspenso"})]})]}),a?(0,s.jsx)("div",{className:"loading-spinner"}):(0,s.jsx)("div",{className:"data-table-wrapper",children:(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"ID"}),(0,s.jsx)("th",{children:"Nome"}),(0,s.jsx)("th",{children:"Email"}),(0,s.jsx)("th",{children:"Telefone"}),(0,s.jsx)("th",{children:"Rating"}),(0,s.jsx)("th",{children:"Pedidos"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Online"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{var n,a;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.shopper_id}),(0,s.jsx)("td",{children:(0,s.jsx)("a",{href:"/shoppers?id=".concat(e.shopper_id),children:e.name})}),(0,s.jsx)("td",{children:e.email}),(0,s.jsx)("td",{children:e.phone}),(0,s.jsx)("td",{children:"⭐".repeat(Math.round(e.rating||0))}),(0,s.jsx)("td",{children:e.total_orders||0}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{label:(null===(n=g[e.status])||void 0===n?void 0:n[0])||"N/A",variant:(null===(a=g[e.status])||void 0===a?void 0:a[1])||"neutral"})}),(0,s.jsx)("td",{children:e.is_online?"\uD83D\uDFE2":"⚫"})]},e.shopper_id)})})]})})]})]})})})}}},function(e){e.O(0,[3448,1006,2971,2117,1744],function(){return e(e.s=4344)}),_N_E=e.O()}]);