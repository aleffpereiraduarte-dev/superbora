(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4223],{2151:function(e,s,t){Promise.resolve().then(t.bind(t,2734))},2734:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var a=t(7437),i=t(2265),l=t(8779),n=t(4477),d=t(6428);function r(){let[e,s]=(0,i.useState)(null),[t,r]=(0,i.useState)(!0),[c,h]=(0,i.useState)("vendas"),[o,x]=(0,i.useState)(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[u,j]=(0,i.useState)(new Date().toISOString().split("T")[0]);async function m(){r(!0);try{let e=await (0,d.SC)("/relatorios.php",{type:c,date_from:o,date_to:u});s(e)}catch(e){console.error(e)}r(!1)}return(0,i.useEffect)(()=>{m()},[c,o,u]),(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{style:{display:"flex",minHeight:"100vh"},children:[(0,a.jsx)(n.Z,{}),(0,a.jsxs)("main",{className:"main-content",children:[(0,a.jsx)("h1",{children:"Relat\xf3rios"}),(0,a.jsxs)("div",{className:"filters-row",children:[(0,a.jsxs)("select",{className:"filter-select",value:c,onChange:e=>h(e.target.value),children:[(0,a.jsx)("option",{value:"vendas",children:"Vendas"}),(0,a.jsx)("option",{value:"entregas",children:"Entregas"}),(0,a.jsx)("option",{value:"financeiro",children:"Financeiro"})]}),(0,a.jsx)("input",{type:"date",className:"form-input",value:o,onChange:e=>x(e.target.value)}),(0,a.jsx)("input",{type:"date",className:"form-input",value:u,onChange:e=>j(e.target.value)})]}),t?(0,a.jsx)("div",{className:"loading-spinner"}):e&&(0,a.jsxs)("div",{children:[e.summary&&(0,a.jsxs)("div",{className:"grid-3",children:[(0,a.jsxs)("div",{className:"card stats-card",children:[(0,a.jsx)("h4",{children:"Total Pedidos"}),(0,a.jsx)("p",{className:"stats-value",children:e.summary.total_pedidos})]}),(0,a.jsxs)("div",{className:"card stats-card",children:[(0,a.jsx)("h4",{children:"Receita"}),(0,a.jsxs)("p",{className:"stats-value",children:["R$ ",Number(e.summary.total_receita||0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"card stats-card",children:[(0,a.jsx)("h4",{children:"Ticket M\xe9dio"}),(0,a.jsxs)("p",{className:"stats-value",children:["R$ ",Number(e.summary.ticket_medio||0).toFixed(2)]})]})]}),e.daily&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{children:"Dados Di\xe1rios"}),(0,a.jsxs)("table",{className:"data-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Data"}),(0,a.jsx)("th",{children:"Pedidos"}),(0,a.jsx)("th",{children:"Receita"})]})}),(0,a.jsx)("tbody",{children:e.daily.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.date}),(0,a.jsx)("td",{children:e.pedidos||e.total||0}),(0,a.jsxs)("td",{children:["R$ ",Number(e.receita||0).toFixed(2)]})]},s))})]})]}),e.by_status&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{children:"Por Status"}),(0,a.jsxs)("table",{className:"data-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Status"}),(0,a.jsx)("th",{children:"Total"})]})}),(0,a.jsx)("tbody",{children:e.by_status.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"badge badge-"+e.status,children:e.status})}),(0,a.jsx)("td",{children:e.total})]},s))})]})]})]})]})]})})}}},function(e){e.O(0,[3448,1006,2971,2117,1744],function(){return e(e.s=2151)}),_N_E=e.O()}]);