(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4223],{2151:function(e,s,a){Promise.resolve().then(a.bind(a,2734))},9646:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(7437),i=a(4477),n=a(8779),l=a(6939),r=a(8789);function c(e){let{children:s,title:a,subtitle:c,actions:d,guard:h=!0}=e,{collapsed:o}=(0,r.A)(),u=(0,t.jsxs)("div",{className:"admin-layout",children:[(0,t.jsx)(i.Z,{}),(0,t.jsxs)("main",{className:"admin-main ".concat(o?"main-collapsed":""),children:[(a||c||d)&&(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsxs)("div",{children:[a&&(0,t.jsx)("h1",{className:"page-title",children:a}),c&&(0,t.jsx)("p",{className:"page-subtitle",children:c})]}),d&&(0,t.jsx)("div",{className:"page-actions",children:d})]}),s]}),(0,t.jsx)(l.Z,{})]});return h?(0,t.jsx)(n.Z,{children:u}):u}},140:function(e,s,a){"use strict";a.d(s,{Z:function(){return i}});var t=a(7437);function i(e){let{count:s=6,className:a=""}=e;return(0,t.jsx)("div",{className:"grid gap-3 ".concat(a),children:Array.from({length:s}).map((e,s)=>(0,t.jsx)("div",{className:"skeleton-card"},s))})}},2734:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(7437),i=a(2265),n=a(9646),l=a(140),r=a(6428);function c(){let[e,s]=(0,i.useState)(null),[a,c]=(0,i.useState)(!0),[d,h]=(0,i.useState)("vendas"),[o,u]=(0,i.useState)(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[x,j]=(0,i.useState)(new Date().toISOString().split("T")[0]);async function m(){c(!0);try{let e=await (0,r.SC)("/relatorios.php",{type:d,date_from:o,date_to:x});s(e)}catch(e){console.error(e)}c(!1)}return(0,i.useEffect)(()=>{m()},[d,o,x]),(0,t.jsxs)(n.Z,{title:"Relat\xf3rios",children:[(0,t.jsxs)("div",{className:"filters-row",children:[(0,t.jsxs)("select",{className:"filter-select",value:d,onChange:e=>h(e.target.value),children:[(0,t.jsx)("option",{value:"vendas",children:"Vendas"}),(0,t.jsx)("option",{value:"entregas",children:"Entregas"}),(0,t.jsx)("option",{value:"financeiro",children:"Financeiro"})]}),(0,t.jsx)("input",{type:"date",className:"form-input",value:o,onChange:e=>u(e.target.value)}),(0,t.jsx)("input",{type:"date",className:"form-input",value:x,onChange:e=>j(e.target.value)})]}),a?(0,t.jsx)(l.Z,{count:4}):e&&(0,t.jsxs)("div",{children:[e.summary&&(0,t.jsxs)("div",{className:"grid-3",children:[(0,t.jsxs)("div",{className:"card stats-card",children:[(0,t.jsx)("h4",{children:"Total Pedidos"}),(0,t.jsx)("p",{className:"stats-value",children:e.summary.total_pedidos})]}),(0,t.jsxs)("div",{className:"card stats-card",children:[(0,t.jsx)("h4",{children:"Receita"}),(0,t.jsxs)("p",{className:"stats-value",children:["R$ ",Number(e.summary.total_receita||0).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"card stats-card",children:[(0,t.jsx)("h4",{children:"Ticket M\xe9dio"}),(0,t.jsxs)("p",{className:"stats-value",children:["R$ ",Number(e.summary.ticket_medio||0).toFixed(2)]})]})]}),e.daily&&(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{children:"Dados Di\xe1rios"}),(0,t.jsxs)("table",{className:"data-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Data"}),(0,t.jsx)("th",{children:"Pedidos"}),(0,t.jsx)("th",{children:"Receita"})]})}),(0,t.jsx)("tbody",{children:e.daily.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.date}),(0,t.jsx)("td",{children:e.pedidos||e.total||0}),(0,t.jsxs)("td",{children:["R$ ",Number(e.receita||0).toFixed(2)]})]},s))})]})]}),e.by_status&&(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{children:"Por Status"}),(0,t.jsxs)("table",{className:"data-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Status"}),(0,t.jsx)("th",{children:"Total"})]})}),(0,t.jsx)("tbody",{children:e.by_status.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:"badge badge-"+e.status,children:e.status})}),(0,t.jsx)("td",{children:e.total})]},s))})]})]})]})]})}}},function(e){e.O(0,[3448,5783,2971,2117,1744],function(){return e(e.s=2151)}),_N_E=e.O()}]);