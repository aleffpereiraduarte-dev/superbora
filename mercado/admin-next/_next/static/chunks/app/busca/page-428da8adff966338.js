(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6015],{2597:function(e,s,n){Promise.resolve().then(n.bind(n,6443))},6443:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return c}});var t=n(7437),a=n(2265),i=n(8779),r=n(4477),l=n(6428);function c(){let[e,s]=(0,a.useState)(""),[n,c]=(0,a.useState)(null),[d,h]=(0,a.useState)(!1);async function m(s){if(s.preventDefault(),!(e.length<2)){h(!0);try{let s=await (0,l.SC)("/busca.php",{q:e});c(s)}catch(e){console.error(e)}h(!1)}}let u=e=>{let{title:s,items:n,renderItem:a}=e;return(null==n?void 0:n.length)>0&&(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("h3",{children:[s," (",n.length,")"]}),n.map(a)]})};return(0,t.jsx)(i.Z,{children:(0,t.jsxs)("div",{style:{display:"flex",minHeight:"100vh"},children:[(0,t.jsx)(r.Z,{}),(0,t.jsxs)("main",{className:"main-content",children:[(0,t.jsx)("h1",{children:"Busca Global"}),(0,t.jsxs)("form",{onSubmit:m,className:"search-form",children:[(0,t.jsx)("input",{className:"search-input",style:{fontSize:"1.2rem",padding:"12px 16px"},placeholder:"Buscar pedidos, clientes, shoppers, parceiros...",value:e,onChange:e=>s(e.target.value)}),(0,t.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Buscar"})]}),d&&(0,t.jsx)("div",{className:"loading-spinner"}),n&&(0,t.jsxs)("div",{className:"search-results",children:[(0,t.jsx)(u,{title:"Pedidos",items:n.orders,renderItem:e=>(0,t.jsxs)("div",{className:"search-item",children:[(0,t.jsxs)("span",{children:["#",e.order_id]}),(0,t.jsxs)("span",{children:["R$ ",Number(e.total).toFixed(2)]}),(0,t.jsx)("span",{className:"badge badge-"+e.status,children:e.status})]},e.order_id)}),(0,t.jsx)(u,{title:"Clientes",items:n.customers,renderItem:e=>(0,t.jsxs)("div",{className:"search-item",children:[(0,t.jsxs)("span",{children:[e.firstname," ",e.lastname]}),(0,t.jsx)("span",{children:e.email})]},e.customer_id)}),(0,t.jsx)(u,{title:"Shoppers",items:n.shoppers,renderItem:e=>(0,t.jsxs)("div",{className:"search-item",children:[(0,t.jsx)("span",{children:e.name}),(0,t.jsx)("span",{children:e.email})]},e.shopper_id)}),(0,t.jsx)(u,{title:"Parceiros",items:n.partners,renderItem:e=>(0,t.jsxs)("div",{className:"search-item",children:[(0,t.jsx)("span",{children:e.name}),(0,t.jsx)("span",{children:e.email})]},e.partner_id)}),(0,t.jsx)(u,{title:"Tickets",items:n.tickets,renderItem:e=>(0,t.jsxs)("div",{className:"search-item",children:[(0,t.jsxs)("span",{children:["#",e.id," ",e.subject]}),(0,t.jsx)("span",{className:"badge",children:e.status})]},e.id)})]})]})]})})}}},function(e){e.O(0,[3448,1006,2971,2117,1744],function(){return e(e.s=2597)}),_N_E=e.O()}]);